(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function o(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(s){if(s.ep)return;s.ep=!0;const c=o(s);fetch(s.href,c)}})();function Ty(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xu={exports:{}},Ba={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function mT(){if(nh)return Ba;nh=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,s,c){var f=null;if(c!==void 0&&(f=""+c),s.key!==void 0&&(f=""+s.key),"key"in s){c={};for(var g in s)g!=="key"&&(c[g]=s[g])}else c=s;return s=c.ref,{$$typeof:n,type:l,key:f,ref:s!==void 0?s:null,props:c}}return Ba.Fragment=e,Ba.jsx=o,Ba.jsxs=o,Ba}var ih;function pT(){return ih||(ih=1,Xu.exports=mT()),Xu.exports}var v=pT(),Qu={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function hT(){if(oh)return Te;oh=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=T&&R[T]||R["@@iterator"],typeof R=="function"?R:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,A={};function w(R,$,W){this.props=R,this.context=$,this.refs=A,this.updater=W||N}w.prototype.isReactComponent={},w.prototype.setState=function(R,$){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,$,"setState")},w.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function B(){}B.prototype=w.prototype;function k(R,$,W){this.props=R,this.context=$,this.refs=A,this.updater=W||N}var O=k.prototype=new B;O.constructor=k,_(O,w.prototype),O.isPureReactComponent=!0;var H=Array.isArray;function z(){}var Q={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function J(R,$,W){var se=W.ref;return{$$typeof:n,type:R,key:$,ref:se!==void 0?se:null,props:W}}function te(R,$){return J(R.type,$,R.props)}function ne(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function q(R){var $={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(W){return $[W]})}var j=/\/+/g;function ie(R,$){return typeof R=="object"&&R!==null&&R.key!=null?q(""+R.key):$.toString(36)}function he(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(z,z):(R.status="pending",R.then(function($){R.status==="pending"&&(R.status="fulfilled",R.value=$)},function($){R.status==="pending"&&(R.status="rejected",R.reason=$)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function P(R,$,W,se,ge){var Ce=typeof R;(Ce==="undefined"||Ce==="boolean")&&(R=null);var Ge=!1;if(R===null)Ge=!0;else switch(Ce){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(R.$$typeof){case n:case e:Ge=!0;break;case S:return Ge=R._init,P(Ge(R._payload),$,W,se,ge)}}if(Ge)return ge=ge(R),Ge=se===""?"."+ie(R,0):se,H(ge)?(W="",Ge!=null&&(W=Ge.replace(j,"$&/")+"/"),P(ge,$,W,"",function(it){return it})):ge!=null&&(ne(ge)&&(ge=te(ge,W+(ge.key==null||R&&R.key===ge.key?"":(""+ge.key).replace(j,"$&/")+"/")+Ge)),$.push(ge)),1;Ge=0;var ut=se===""?".":se+":";if(H(R))for(var fe=0;fe<R.length;fe++)se=R[fe],Ce=ut+ie(se,fe),Ge+=P(se,$,W,Ce,ge);else if(fe=b(R),typeof fe=="function")for(R=fe.call(R),fe=0;!(se=R.next()).done;)se=se.value,Ce=ut+ie(se,fe++),Ge+=P(se,$,W,Ce,ge);else if(Ce==="object"){if(typeof R.then=="function")return P(he(R),$,W,se,ge);throw $=String(R),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function Z(R,$,W){if(R==null)return R;var se=[],ge=0;return P(R,se,"","",function(Ce){return $.call(W,Ce,ge++)}),se}function le(R){if(R._status===-1){var $=R._result;$=$(),$.then(function(W){(R._status===0||R._status===-1)&&(R._status=1,R._result=W)},function(W){(R._status===0||R._status===-1)&&(R._status=2,R._result=W)}),R._status===-1&&(R._status=0,R._result=$)}if(R._status===1)return R._result.default;throw R._result}var Me=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},we={map:Z,forEach:function(R,$,W){Z(R,function(){$.apply(this,arguments)},W)},count:function(R){var $=0;return Z(R,function(){$++}),$},toArray:function(R){return Z(R,function($){return $})||[]},only:function(R){if(!ne(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Te.Activity=E,Te.Children=we,Te.Component=w,Te.Fragment=o,Te.Profiler=s,Te.PureComponent=k,Te.StrictMode=l,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Te.__COMPILER_RUNTIME={__proto__:null,c:function(R){return Q.H.useMemoCache(R)}},Te.cache=function(R){return function(){return R.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(R,$,W){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var se=_({},R.props),ge=R.key;if($!=null)for(Ce in $.key!==void 0&&(ge=""+$.key),$)!ae.call($,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&$.ref===void 0||(se[Ce]=$[Ce]);var Ce=arguments.length-2;if(Ce===1)se.children=W;else if(1<Ce){for(var Ge=Array(Ce),ut=0;ut<Ce;ut++)Ge[ut]=arguments[ut+2];se.children=Ge}return J(R.type,ge,se)},Te.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},Te.createElement=function(R,$,W){var se,ge={},Ce=null;if($!=null)for(se in $.key!==void 0&&(Ce=""+$.key),$)ae.call($,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ge[se]=$[se]);var Ge=arguments.length-2;if(Ge===1)ge.children=W;else if(1<Ge){for(var ut=Array(Ge),fe=0;fe<Ge;fe++)ut[fe]=arguments[fe+2];ge.children=ut}if(R&&R.defaultProps)for(se in Ge=R.defaultProps,Ge)ge[se]===void 0&&(ge[se]=Ge[se]);return J(R,Ce,ge)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(R){return{$$typeof:g,render:R}},Te.isValidElement=ne,Te.lazy=function(R){return{$$typeof:S,_payload:{_status:-1,_result:R},_init:le}},Te.memo=function(R,$){return{$$typeof:h,type:R,compare:$===void 0?null:$}},Te.startTransition=function(R){var $=Q.T,W={};Q.T=W;try{var se=R(),ge=Q.S;ge!==null&&ge(W,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(z,Me)}catch(Ce){Me(Ce)}finally{$!==null&&W.types!==null&&($.types=W.types),Q.T=$}},Te.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Te.use=function(R){return Q.H.use(R)},Te.useActionState=function(R,$,W){return Q.H.useActionState(R,$,W)},Te.useCallback=function(R,$){return Q.H.useCallback(R,$)},Te.useContext=function(R){return Q.H.useContext(R)},Te.useDebugValue=function(){},Te.useDeferredValue=function(R,$){return Q.H.useDeferredValue(R,$)},Te.useEffect=function(R,$){return Q.H.useEffect(R,$)},Te.useEffectEvent=function(R){return Q.H.useEffectEvent(R)},Te.useId=function(){return Q.H.useId()},Te.useImperativeHandle=function(R,$,W){return Q.H.useImperativeHandle(R,$,W)},Te.useInsertionEffect=function(R,$){return Q.H.useInsertionEffect(R,$)},Te.useLayoutEffect=function(R,$){return Q.H.useLayoutEffect(R,$)},Te.useMemo=function(R,$){return Q.H.useMemo(R,$)},Te.useOptimistic=function(R,$){return Q.H.useOptimistic(R,$)},Te.useReducer=function(R,$,W){return Q.H.useReducer(R,$,W)},Te.useRef=function(R){return Q.H.useRef(R)},Te.useState=function(R){return Q.H.useState(R)},Te.useSyncExternalStore=function(R,$,W){return Q.H.useSyncExternalStore(R,$,W)},Te.useTransition=function(){return Q.H.useTransition()},Te.version="19.2.4",Te}var ah;function Hc(){return ah||(ah=1,Qu.exports=hT()),Qu.exports}var X=Hc();const As=Ty(X);var Zu={exports:{}},Ha={},ju={exports:{}},Wu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh;function gT(){return lh||(lh=1,(function(n){function e(P,Z){var le=P.length;P.push(Z);e:for(;0<le;){var Me=le-1>>>1,we=P[Me];if(0<s(we,Z))P[Me]=Z,P[le]=we,le=Me;else break e}}function o(P){return P.length===0?null:P[0]}function l(P){if(P.length===0)return null;var Z=P[0],le=P.pop();if(le!==Z){P[0]=le;e:for(var Me=0,we=P.length,R=we>>>1;Me<R;){var $=2*(Me+1)-1,W=P[$],se=$+1,ge=P[se];if(0>s(W,le))se<we&&0>s(ge,W)?(P[Me]=ge,P[se]=le,Me=se):(P[Me]=W,P[$]=le,Me=$);else if(se<we&&0>s(ge,le))P[Me]=ge,P[se]=le,Me=se;else break e}}return Z}function s(P,Z){var le=P.sortIndex-Z.sortIndex;return le!==0?le:P.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();n.unstable_now=function(){return f.now()-g}}var y=[],h=[],S=1,E=null,T=3,b=!1,N=!1,_=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function O(P){for(var Z=o(h);Z!==null;){if(Z.callback===null)l(h);else if(Z.startTime<=P)l(h),Z.sortIndex=Z.expirationTime,e(y,Z);else break;Z=o(h)}}function H(P){if(_=!1,O(P),!N)if(o(y)!==null)N=!0,z||(z=!0,q());else{var Z=o(h);Z!==null&&he(H,Z.startTime-P)}}var z=!1,Q=-1,ae=5,J=-1;function te(){return A?!0:!(n.unstable_now()-J<ae)}function ne(){if(A=!1,z){var P=n.unstable_now();J=P;var Z=!0;try{e:{N=!1,_&&(_=!1,B(Q),Q=-1),b=!0;var le=T;try{t:{for(O(P),E=o(y);E!==null&&!(E.expirationTime>P&&te());){var Me=E.callback;if(typeof Me=="function"){E.callback=null,T=E.priorityLevel;var we=Me(E.expirationTime<=P);if(P=n.unstable_now(),typeof we=="function"){E.callback=we,O(P),Z=!0;break t}E===o(y)&&l(y),O(P)}else l(y);E=o(y)}if(E!==null)Z=!0;else{var R=o(h);R!==null&&he(H,R.startTime-P),Z=!1}}break e}finally{E=null,T=le,b=!1}Z=void 0}}finally{Z?q():z=!1}}}var q;if(typeof k=="function")q=function(){k(ne)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ie=j.port2;j.port1.onmessage=ne,q=function(){ie.postMessage(null)}}else q=function(){w(ne,0)};function he(P,Z){Q=w(function(){P(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(P){switch(T){case 1:case 2:case 3:var Z=3;break;default:Z=T}var le=T;T=Z;try{return P()}finally{T=le}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(P,Z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var le=T;T=P;try{return Z()}finally{T=le}},n.unstable_scheduleCallback=function(P,Z,le){var Me=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Me+le:Me):le=Me,P){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=le+we,P={id:S++,callback:Z,priorityLevel:P,startTime:le,expirationTime:we,sortIndex:-1},le>Me?(P.sortIndex=le,e(h,P),o(y)===null&&P===o(h)&&(_?(B(Q),Q=-1):_=!0,he(H,le-Me))):(P.sortIndex=we,e(y,P),N||b||(N=!0,z||(z=!0,q()))),P},n.unstable_shouldYield=te,n.unstable_wrapCallback=function(P){var Z=T;return function(){var le=T;T=Z;try{return P.apply(this,arguments)}finally{T=le}}}})(Wu)),Wu}var sh;function yT(){return sh||(sh=1,ju.exports=gT()),ju.exports}var ec={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function vT(){if(rh)return At;rh=1;var n=Hc();function e(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)h+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(y,h,S){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:y,containerInfo:h,implementation:S}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,At.createPortal=function(y,h){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return c(y,h,null,S)},At.flushSync=function(y){var h=f.T,S=l.p;try{if(f.T=null,l.p=2,y)return y()}finally{f.T=h,l.p=S,l.d.f()}},At.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(y,h))},At.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},At.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var S=h.as,E=g(S,h.crossOrigin),T=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;S==="style"?l.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:b}):S==="script"&&l.d.X(y,{crossOrigin:E,integrity:T,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},At.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var S=g(h.as,h.crossOrigin);l.d.M(y,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(y)},At.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var S=h.as,E=g(S,h.crossOrigin);l.d.L(y,S,{crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},At.preloadModule=function(y,h){if(typeof y=="string")if(h){var S=g(h.as,h.crossOrigin);l.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(y)},At.requestFormReset=function(y){l.d.r(y)},At.unstable_batchedUpdates=function(y,h){return y(h)},At.useFormState=function(y,h,S){return f.H.useFormState(y,h,S)},At.useFormStatus=function(){return f.H.useHostTransitionStatus()},At.version="19.2.4",At}var uh;function ST(){if(uh)return ec.exports;uh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ec.exports=vT(),ec.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch;function TT(){if(ch)return Ha;ch=1;var n=yT(),e=Hc(),o=ST();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(l(188))}function h(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(l(188));return i!==t?null:t}for(var a=t,r=i;;){var m=a.return;if(m===null)break;var p=m.alternate;if(p===null){if(r=m.return,r!==null){a=r;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===a)return y(m),t;if(p===r)return y(m),i;p=p.sibling}throw Error(l(188))}if(a.return!==r.return)a=m,r=p;else{for(var C=!1,x=m.child;x;){if(x===a){C=!0,a=m,r=p;break}if(x===r){C=!0,r=m,a=p;break}x=x.sibling}if(!C){for(x=p.child;x;){if(x===a){C=!0,a=p,r=m;break}if(x===r){C=!0,r=p,a=m;break}x=x.sibling}if(!C)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?t:i}function S(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=S(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var j=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===j?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case w:return"Profiler";case A:return"StrictMode";case H:return"Suspense";case z:return"SuspenseList";case J:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case k:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case O:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return i=t.displayName||null,i!==null?i:ie(t.type)||"Memo";case ae:i=t._payload,t=t._init;try{return ie(t(i))}catch{}}return null}var he=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Me=[],we=-1;function R(t){return{current:t}}function $(t){0>we||(t.current=Me[we],Me[we]=null,we--)}function W(t,i){we++,Me[we]=t.current,t.current=i}var se=R(null),ge=R(null),Ce=R(null),Ge=R(null);function ut(t,i){switch(W(Ce,i),W(ge,t),W(se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Ap(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Ap(i),t=bp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(se),W(se,t)}function fe(){$(se),$(ge),$(Ce)}function it(t){t.memoizedState!==null&&W(Ge,t);var i=se.current,a=bp(i,t.type);i!==a&&(W(ge,t),W(se,a))}function pt(t){ge.current===t&&($(se),$(ge)),Ge.current===t&&($(Ge),Ua._currentValue=le)}var $n,Qi;function _n(t){if($n===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);$n=i&&i[1]||"",Qi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$n+t+Qi}var oe=!1;function re(t,i){if(!t||oe)return"";oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(V){var G=V}Reflect.construct(t,[],K)}else{try{K.call()}catch(V){G=V}t.call(K.prototype)}}else{try{throw Error()}catch(V){G=V}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(V){if(V&&G&&typeof V.stack=="string")return[V.stack,G.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=r.DetermineComponentFrameRoot(),C=p[0],x=p[1];if(C&&x){var I=C.split(`
`),L=x.split(`
`);for(m=r=0;r<I.length&&!I[r].includes("DetermineComponentFrameRoot");)r++;for(;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;if(r===I.length||m===L.length)for(r=I.length-1,m=L.length-1;1<=r&&0<=m&&I[r]!==L[m];)m--;for(;1<=r&&0<=m;r--,m--)if(I[r]!==L[m]){if(r!==1||m!==1)do if(r--,m--,0>m||I[r]!==L[m]){var F=`
`+I[r].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=r&&0<=m);break}}}finally{oe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?_n(a):""}function me(t,i){switch(t.tag){case 26:case 27:case 5:return _n(t.type);case 16:return _n("Lazy");case 13:return t.child!==i&&i!==null?_n("Suspense Fallback"):_n("Suspense");case 19:return _n("SuspenseList");case 0:case 15:return re(t.type,!1);case 11:return re(t.type.render,!1);case 1:return re(t.type,!0);case 31:return _n("Activity");default:return""}}function Ie(t){try{var i="",a=null;do i+=me(t,a),a=t,t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Ee=Object.prototype.hasOwnProperty,be=n.unstable_scheduleCallback,xe=n.unstable_cancelCallback,ze=n.unstable_shouldYield,ke=n.unstable_requestPaint,ye=n.unstable_now,It=n.unstable_getCurrentPriorityLevel,Mt=n.unstable_ImmediatePriority,jt=n.unstable_UserBlockingPriority,ve=n.unstable_NormalPriority,ht=n.unstable_LowPriority,kt=n.unstable_IdlePriority,Ot=n.log,wt=n.unstable_setDisableYieldValue,Ne=null,Fe=null;function ot(t){if(typeof Ot=="function"&&wt(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Ne,t)}catch{}}var tt=Math.clz32?Math.clz32:W0,Wt=Math.log,j0=Math.LN2;function W0(t){return t>>>=0,t===0?32:31-(Wt(t)/j0|0)|0}var Fa=256,Ja=262144,Ya=4194304;function xi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $a(t,i,a){var r=t.pendingLanes;if(r===0)return 0;var m=0,p=t.suspendedLanes,C=t.pingedLanes;t=t.warmLanes;var x=r&134217727;return x!==0?(r=x&~p,r!==0?m=xi(r):(C&=x,C!==0?m=xi(C):a||(a=x&~t,a!==0&&(m=xi(a))))):(x=r&~p,x!==0?m=xi(x):C!==0?m=xi(C):a||(a=r&~t,a!==0&&(m=xi(a)))),m===0?0:i!==0&&i!==m&&(i&p)===0&&(p=m&-m,a=i&-i,p>=a||p===32&&(a&4194048)!==0)?i:m}function Yo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ev(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ad(){var t=Ya;return Ya<<=1,(Ya&62914560)===0&&(Ya=4194304),t}function Bs(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function $o(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tv(t,i,a,r,m,p){var C=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,L=t.hiddenUpdates;for(a=C&~a;0<a;){var F=31-tt(a),K=1<<F;x[F]=0,I[F]=-1;var G=L[F];if(G!==null)for(L[F]=null,F=0;F<G.length;F++){var V=G[F];V!==null&&(V.lane&=-536870913)}a&=~K}r!==0&&ld(t,r,0),p!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=p&~(C&~i))}function ld(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var r=31-tt(i);t.entangledLanes|=i,t.entanglements[r]=t.entanglements[r]|1073741824|a&261930}function sd(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var r=31-tt(a),m=1<<r;m&i|t[r]&i&&(t[r]|=i),a&=~m}}function rd(t,i){var a=i&-i;return a=(a&42)!==0?1:Hs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Hs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ud(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:Xp(t.type))}function cd(t,i){var a=Z.p;try{return Z.p=t,i()}finally{Z.p=a}}var Kn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Kn,Pt="__reactProps$"+Kn,Zi="__reactContainer$"+Kn,zs="__reactEvents$"+Kn,nv="__reactListeners$"+Kn,iv="__reactHandles$"+Kn,dd="__reactResources$"+Kn,Ko="__reactMarker$"+Kn;function qs(t){delete t[Tt],delete t[Pt],delete t[zs],delete t[nv],delete t[iv]}function ji(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Zi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Up(t);t!==null;){if(a=t[Tt])return a;t=Up(t)}return i}t=a,a=t.parentNode}return null}function Wi(t){if(t=t[Tt]||t[Zi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Xo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function eo(t){var i=t[dd];return i||(i=t[dd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function yt(t){t[Ko]=!0}var fd=new Set,md={};function _i(t,i){to(t,i),to(t+"Capture",i)}function to(t,i){for(md[t]=i,t=0;t<i.length;t++)fd.add(i[t])}var ov=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pd={},hd={};function av(t){return Ee.call(hd,t)?!0:Ee.call(pd,t)?!1:ov.test(t)?hd[t]=!0:(pd[t]=!0,!1)}function Ka(t,i,a){if(av(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Xa(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function An(t,i,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+r)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gd(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function lv(t,i,a){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var m=r.get,p=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return m.call(this)},set:function(C){a=""+C,p.call(this,C)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(C){a=""+C},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ks(t){if(!t._valueTracker){var i=gd(t)?"checked":"value";t._valueTracker=lv(t,i,""+t[i])}}function yd(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),r="";return t&&(r=gd(t)?t.checked?"true":"false":t.value),t=r,t!==a?(i.setValue(t),!0):!1}function Qa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sv=/[\n"\\]/g;function tn(t){return t.replace(sv,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Os(t,i,a,r,m,p,C,x){t.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.type=C:t.removeAttribute("type"),i!=null?C==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+en(i)):t.value!==""+en(i)&&(t.value=""+en(i)):C!=="submit"&&C!=="reset"||t.removeAttribute("value"),i!=null?Fs(t,C,en(i)):a!=null?Fs(t,C,en(a)):r!=null&&t.removeAttribute("value"),m==null&&p!=null&&(t.defaultChecked=!!p),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+en(x):t.removeAttribute("name")}function vd(t,i,a,r,m,p,C,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){ks(t);return}a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,x||i===t.value||(t.value=i),t.defaultValue=i}r=r??m,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=x?t.checked:!!r,t.defaultChecked=!!r,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(t.name=C),ks(t)}function Fs(t,i,a){i==="number"&&Qa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function no(t,i,a,r){if(t=t.options,i){i={};for(var m=0;m<a.length;m++)i["$"+a[m]]=!0;for(a=0;a<t.length;a++)m=i.hasOwnProperty("$"+t[a].value),t[a].selected!==m&&(t[a].selected=m),m&&r&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,m=0;m<t.length;m++){if(t[m].value===a){t[m].selected=!0,r&&(t[m].defaultSelected=!0);return}i!==null||t[m].disabled||(i=t[m])}i!==null&&(i.selected=!0)}}function Sd(t,i,a){if(i!=null&&(i=""+en(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+en(a):""}function Td(t,i,a,r){if(i==null){if(r!=null){if(a!=null)throw Error(l(92));if(he(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),i=a}a=en(i),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r),ks(t)}function io(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var rv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ed(t,i,a){var r=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":r?t.setProperty(i,a):typeof a!="number"||a===0||rv.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Cd(t,i,a){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var m in i)r=i[m],i.hasOwnProperty(m)&&a[m]!==r&&Ed(t,m,r)}else for(var p in i)i.hasOwnProperty(p)&&Ed(t,p,i[p])}function Js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(t){return cv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function bn(){}var Ys=null;function $s(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oo=null,ao=null;function xd(t){var i=Wi(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Os(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var r=a[i];if(r!==t&&r.form===t.form){var m=r[Pt]||null;if(!m)throw Error(l(90));Os(r,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<a.length;i++)r=a[i],r.form===t.form&&yd(r)}break e;case"textarea":Sd(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&no(t,!!a.multiple,i,!1)}}}var Ks=!1;function _d(t,i,a){if(Ks)return t(i,a);Ks=!0;try{var r=t(i);return r}finally{if(Ks=!1,(oo!==null||ao!==null)&&(Hl(),oo&&(i=oo,t=ao,ao=oo=null,xd(i),t)))for(i=0;i<t.length;i++)xd(t[i])}}function Qo(t,i){var a=t.stateNode;if(a===null)return null;var r=a[Pt]||null;if(r===null)return null;a=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(l(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(Nn)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{Xs=!1}var Xn=null,Qs=null,ja=null;function Ad(){if(ja)return ja;var t,i=Qs,a=i.length,r,m="value"in Xn?Xn.value:Xn.textContent,p=m.length;for(t=0;t<a&&i[t]===m[t];t++);var C=a-t;for(r=1;r<=C&&i[a-r]===m[p-r];r++);return ja=m.slice(t,1<r?1-r:void 0)}function Wa(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function el(){return!0}function bd(){return!1}function Gt(t){function i(a,r,m,p,C){this._reactName=a,this._targetInst=m,this.type=r,this.nativeEvent=p,this.target=C,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?el:bd,this.isPropagationStopped=bd,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),i}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=Gt(Ai),jo=E({},Ai,{view:0,detail:0}),dv=Gt(jo),Zs,js,Wo,nl=E({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wo&&(Wo&&t.type==="mousemove"?(Zs=t.screenX-Wo.screenX,js=t.screenY-Wo.screenY):js=Zs=0,Wo=t),Zs)},movementY:function(t){return"movementY"in t?t.movementY:js}}),Nd=Gt(nl),fv=E({},nl,{dataTransfer:0}),mv=Gt(fv),pv=E({},jo,{relatedTarget:0}),Ws=Gt(pv),hv=E({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),gv=Gt(hv),yv=E({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vv=Gt(yv),Sv=E({},Ai,{data:0}),Id=Gt(Sv),Tv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xv(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Cv[t])?!!i[t]:!1}function er(){return xv}var _v=E({},jo,{key:function(t){if(t.key){var i=Tv[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Wa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ev[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(t){return t.type==="keypress"?Wa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Av=Gt(_v),bv=E({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Md=Gt(bv),Nv=E({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),Iv=Gt(Nv),Mv=E({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),wv=Gt(Mv),Rv=E({},nl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dv=Gt(Rv),Uv=E({},Ai,{newState:0,oldState:0}),Lv=Gt(Uv),Pv=[9,13,27,32],tr=Nn&&"CompositionEvent"in window,ea=null;Nn&&"documentMode"in document&&(ea=document.documentMode);var Gv=Nn&&"TextEvent"in window&&!ea,wd=Nn&&(!tr||ea&&8<ea&&11>=ea),Rd=" ",Dd=!1;function Ud(t,i){switch(t){case"keyup":return Pv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ld(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lo=!1;function Bv(t,i){switch(t){case"compositionend":return Ld(i);case"keypress":return i.which!==32?null:(Dd=!0,Rd);case"textInput":return t=i.data,t===Rd&&Dd?null:t;default:return null}}function Hv(t,i){if(lo)return t==="compositionend"||!tr&&Ud(t,i)?(t=Ad(),ja=Qs=Xn=null,lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wd&&i.locale!=="ko"?null:i.data;default:return null}}var Vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vv[t.type]:i==="textarea"}function Gd(t,i,a,r){oo?ao?ao.push(r):ao=[r]:oo=r,i=Jl(i,"onChange"),0<i.length&&(a=new tl("onChange","change",null,a,r),t.push({event:a,listeners:i}))}var ta=null,na=null;function zv(t){Sp(t,0)}function il(t){var i=Xo(t);if(yd(i))return t}function Bd(t,i){if(t==="change")return i}var Hd=!1;if(Nn){var nr;if(Nn){var ir="oninput"in document;if(!ir){var Vd=document.createElement("div");Vd.setAttribute("oninput","return;"),ir=typeof Vd.oninput=="function"}nr=ir}else nr=!1;Hd=nr&&(!document.documentMode||9<document.documentMode)}function zd(){ta&&(ta.detachEvent("onpropertychange",qd),na=ta=null)}function qd(t){if(t.propertyName==="value"&&il(na)){var i=[];Gd(i,na,t,$s(t)),_d(zv,i)}}function qv(t,i,a){t==="focusin"?(zd(),ta=i,na=a,ta.attachEvent("onpropertychange",qd)):t==="focusout"&&zd()}function kv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return il(na)}function Ov(t,i){if(t==="click")return il(i)}function Fv(t,i){if(t==="input"||t==="change")return il(i)}function Jv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ft=typeof Object.is=="function"?Object.is:Jv;function ia(t,i){if(Ft(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),r=Object.keys(i);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var m=a[r];if(!Ee.call(i,m)||!Ft(t[m],i[m]))return!1}return!0}function kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Od(t,i){var a=kd(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=i&&r>=i)return{node:a,offset:i-t};t=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kd(a)}}function Fd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Fd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Qa(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Qa(t.document)}return i}function or(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Yv=Nn&&"documentMode"in document&&11>=document.documentMode,so=null,ar=null,oa=null,lr=!1;function Yd(t,i,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lr||so==null||so!==Qa(r)||(r=so,"selectionStart"in r&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oa&&ia(oa,r)||(oa=r,r=Jl(ar,"onSelect"),0<r.length&&(i=new tl("onSelect","select",null,i,a),t.push({event:i,listeners:r}),i.target=so)))}function bi(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ro={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionrun:bi("Transition","TransitionRun"),transitionstart:bi("Transition","TransitionStart"),transitioncancel:bi("Transition","TransitionCancel"),transitionend:bi("Transition","TransitionEnd")},sr={},$d={};Nn&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Ni(t){if(sr[t])return sr[t];if(!ro[t])return t;var i=ro[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in $d)return sr[t]=i[a];return t}var Kd=Ni("animationend"),Xd=Ni("animationiteration"),Qd=Ni("animationstart"),$v=Ni("transitionrun"),Kv=Ni("transitionstart"),Xv=Ni("transitioncancel"),Zd=Ni("transitionend"),jd=new Map,rr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rr.push("scrollEnd");function mn(t,i){jd.set(t,i),_i(i,[t])}var ol=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},nn=[],uo=0,ur=0;function al(){for(var t=uo,i=ur=uo=0;i<t;){var a=nn[i];nn[i++]=null;var r=nn[i];nn[i++]=null;var m=nn[i];nn[i++]=null;var p=nn[i];if(nn[i++]=null,r!==null&&m!==null){var C=r.pending;C===null?m.next=m:(m.next=C.next,C.next=m),r.pending=m}p!==0&&Wd(a,m,p)}}function ll(t,i,a,r){nn[uo++]=t,nn[uo++]=i,nn[uo++]=a,nn[uo++]=r,ur|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function cr(t,i,a,r){return ll(t,i,a,r),sl(t)}function Ii(t,i){return ll(t,null,null,i),sl(t)}function Wd(t,i,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var m=!1,p=t.return;p!==null;)p.childLanes|=a,r=p.alternate,r!==null&&(r.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(m=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,m&&i!==null&&(m=31-tt(a),t=p.hiddenUpdates,r=t[m],r===null?t[m]=[i]:r.push(i),i.lane=a|536870912),p):null}function sl(t){if(50<ba)throw ba=0,Su=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var co={};function Qv(t,i,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,i,a,r){return new Qv(t,i,a,r)}function dr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function In(t,i){var a=t.alternate;return a===null?(a=Jt(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ef(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function rl(t,i,a,r,m,p){var C=0;if(r=t,typeof t=="function")dr(t)&&(C=1);else if(typeof t=="string")C=tT(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case J:return t=Jt(31,a,i,m),t.elementType=J,t.lanes=p,t;case _:return Mi(a.children,m,p,i);case A:C=8,m|=24;break;case w:return t=Jt(12,a,i,m|2),t.elementType=w,t.lanes=p,t;case H:return t=Jt(13,a,i,m),t.elementType=H,t.lanes=p,t;case z:return t=Jt(19,a,i,m),t.elementType=z,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:C=10;break e;case B:C=9;break e;case O:C=11;break e;case Q:C=14;break e;case ae:C=16,r=null;break e}C=29,a=Error(l(130,t===null?"null":typeof t,"")),r=null}return i=Jt(C,a,i,m),i.elementType=t,i.type=r,i.lanes=p,i}function Mi(t,i,a,r){return t=Jt(7,t,r,i),t.lanes=a,t}function fr(t,i,a){return t=Jt(6,t,null,i),t.lanes=a,t}function tf(t){var i=Jt(18,null,null,0);return i.stateNode=t,i}function mr(t,i,a){return i=Jt(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var nf=new WeakMap;function on(t,i){if(typeof t=="object"&&t!==null){var a=nf.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ie(i)},nf.set(t,i),i)}return{value:t,source:i,stack:Ie(i)}}var fo=[],mo=0,ul=null,aa=0,an=[],ln=0,Qn=null,Tn=1,En="";function Mn(t,i){fo[mo++]=aa,fo[mo++]=ul,ul=t,aa=i}function of(t,i,a){an[ln++]=Tn,an[ln++]=En,an[ln++]=Qn,Qn=t;var r=Tn;t=En;var m=32-tt(r)-1;r&=~(1<<m),a+=1;var p=32-tt(i)+m;if(30<p){var C=m-m%5;p=(r&(1<<C)-1).toString(32),r>>=C,m-=C,Tn=1<<32-tt(i)+m|a<<m|r,En=p+t}else Tn=1<<p|a<<m|r,En=t}function pr(t){t.return!==null&&(Mn(t,1),of(t,1,0))}function hr(t){for(;t===ul;)ul=fo[--mo],fo[mo]=null,aa=fo[--mo],fo[mo]=null;for(;t===Qn;)Qn=an[--ln],an[ln]=null,En=an[--ln],an[ln]=null,Tn=an[--ln],an[ln]=null}function af(t,i){an[ln++]=Tn,an[ln++]=En,an[ln++]=Qn,Tn=i.id,En=i.overflow,Qn=t}var Et=null,je=null,Pe=!1,Zn=null,sn=!1,gr=Error(l(519));function jn(t){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw la(on(i,t)),gr}function lf(t){var i=t.stateNode,a=t.type,r=t.memoizedProps;switch(i[Tt]=t,i[Pt]=r,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<Ia.length;a++)De(Ia[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),vd(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),Td(i,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||r.suppressHydrationWarning===!0||xp(i.textContent,a)?(r.popover!=null&&(De("beforetoggle",i),De("toggle",i)),r.onScroll!=null&&De("scroll",i),r.onScrollEnd!=null&&De("scrollend",i),r.onClick!=null&&(i.onclick=bn),i=!0):i=!1,i||jn(t,!0)}function sf(t){for(Et=t.return;Et;)switch(Et.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:Et=Et.return}}function po(t){if(t!==Et)return!1;if(!Pe)return sf(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Lu(t.type,t.memoizedProps)),a=!a),a&&je&&jn(t),sf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));je=Dp(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));je=Dp(t)}else i===27?(i=je,fi(t.type)?(t=Vu,Vu=null,je=t):je=i):je=Et?un(t.stateNode.nextSibling):null;return!0}function wi(){je=Et=null,Pe=!1}function yr(){var t=Zn;return t!==null&&(zt===null?zt=t:zt.push.apply(zt,t),Zn=null),t}function la(t){Zn===null?Zn=[t]:Zn.push(t)}var vr=R(null),Ri=null,wn=null;function Wn(t,i,a){W(vr,i._currentValue),i._currentValue=a}function Rn(t){t._currentValue=vr.current,$(vr)}function Sr(t,i,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),t===a)break;t=t.return}}function Tr(t,i,a,r){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var p=m.dependencies;if(p!==null){var C=m.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=m;for(var I=0;I<i.length;I++)if(x.context===i[I]){p.lanes|=a,x=p.alternate,x!==null&&(x.lanes|=a),Sr(p.return,a,t),r||(C=null);break e}p=x.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(l(341));C.lanes|=a,p=C.alternate,p!==null&&(p.lanes|=a),Sr(C,a,t),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===t){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function ho(t,i,a,r){t=null;for(var m=i,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(l(387));if(C=C.memoizedProps,C!==null){var x=m.type;Ft(m.pendingProps.value,C.value)||(t!==null?t.push(x):t=[x])}}else if(m===Ge.current){if(C=m.alternate,C===null)throw Error(l(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(Ua):t=[Ua])}m=m.return}t!==null&&Tr(i,t,a,r),i.flags|=262144}function cl(t){for(t=t.firstContext;t!==null;){if(!Ft(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Di(t){Ri=t,wn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ct(t){return rf(Ri,t)}function dl(t,i){return Ri===null&&Di(t),rf(t,i)}function rf(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},wn===null){if(t===null)throw Error(l(308));wn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else wn=wn.next=i;return a}var Zv=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},jv=n.unstable_scheduleCallback,Wv=n.unstable_NormalPriority,ct={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Er(){return{controller:new Zv,data:new Map,refCount:0}}function sa(t){t.refCount--,t.refCount===0&&jv(Wv,function(){t.controller.abort()})}var ra=null,Cr=0,go=0,yo=null;function eS(t,i){if(ra===null){var a=ra=[];Cr=0,go=Au(),yo={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Cr++,i.then(uf,uf),i}function uf(){if(--Cr===0&&ra!==null){yo!==null&&(yo.status="fulfilled");var t=ra;ra=null,go=0,yo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function tS(t,i){var a=[],r={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return t.then(function(){r.status="fulfilled",r.value=i;for(var m=0;m<a.length;m++)(0,a[m])(i)},function(m){for(r.status="rejected",r.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),r}var cf=P.S;P.S=function(t,i){$m=ye(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&eS(t,i),cf!==null&&cf(t,i)};var Ui=R(null);function xr(){var t=Ui.current;return t!==null?t:Ze.pooledCache}function fl(t,i){i===null?W(Ui,Ui.current):W(Ui,i.pool)}function df(){var t=xr();return t===null?null:{parent:ct._currentValue,pool:t}}var vo=Error(l(460)),_r=Error(l(474)),ml=Error(l(542)),pl={then:function(){}};function ff(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mf(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(bn,bn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hf(t),t;default:if(typeof i.status=="string")i.then(bn,bn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(r){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=r}},function(r){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hf(t),t}throw Pi=i,vo}}function Li(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Pi=a,vo):a}}var Pi=null;function pf(){if(Pi===null)throw Error(l(459));var t=Pi;return Pi=null,t}function hf(t){if(t===vo||t===ml)throw Error(l(483))}var So=null,ua=0;function hl(t){var i=ua;return ua+=1,So===null&&(So=[]),mf(So,t,i)}function ca(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function gl(t,i){throw i.$$typeof===T?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function gf(t){function i(D,M){if(t){var U=D.deletions;U===null?(D.deletions=[M],D.flags|=16):U.push(M)}}function a(D,M){if(!t)return null;for(;M!==null;)i(D,M),M=M.sibling;return null}function r(D){for(var M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function m(D,M){return D=In(D,M),D.index=0,D.sibling=null,D}function p(D,M,U){return D.index=U,t?(U=D.alternate,U!==null?(U=U.index,U<M?(D.flags|=67108866,M):U):(D.flags|=67108866,M)):(D.flags|=1048576,M)}function C(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function x(D,M,U,Y){return M===null||M.tag!==6?(M=fr(U,D.mode,Y),M.return=D,M):(M=m(M,U),M.return=D,M)}function I(D,M,U,Y){var de=U.type;return de===_?F(D,M,U.props.children,Y,U.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ae&&Li(de)===M.type)?(M=m(M,U.props),ca(M,U),M.return=D,M):(M=rl(U.type,U.key,U.props,null,D.mode,Y),ca(M,U),M.return=D,M)}function L(D,M,U,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=mr(U,D.mode,Y),M.return=D,M):(M=m(M,U.children||[]),M.return=D,M)}function F(D,M,U,Y,de){return M===null||M.tag!==7?(M=Mi(U,D.mode,Y,de),M.return=D,M):(M=m(M,U),M.return=D,M)}function K(D,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=fr(""+M,D.mode,U),M.return=D,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return U=rl(M.type,M.key,M.props,null,D.mode,U),ca(U,M),U.return=D,U;case N:return M=mr(M,D.mode,U),M.return=D,M;case ae:return M=Li(M),K(D,M,U)}if(he(M)||q(M))return M=Mi(M,D.mode,U,null),M.return=D,M;if(typeof M.then=="function")return K(D,hl(M),U);if(M.$$typeof===k)return K(D,dl(D,M),U);gl(D,M)}return null}function G(D,M,U,Y){var de=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:x(D,M,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return U.key===de?I(D,M,U,Y):null;case N:return U.key===de?L(D,M,U,Y):null;case ae:return U=Li(U),G(D,M,U,Y)}if(he(U)||q(U))return de!==null?null:F(D,M,U,Y,null);if(typeof U.then=="function")return G(D,M,hl(U),Y);if(U.$$typeof===k)return G(D,M,dl(D,U),Y);gl(D,U)}return null}function V(D,M,U,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return D=D.get(U)||null,x(M,D,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return D=D.get(Y.key===null?U:Y.key)||null,I(M,D,Y,de);case N:return D=D.get(Y.key===null?U:Y.key)||null,L(M,D,Y,de);case ae:return Y=Li(Y),V(D,M,U,Y,de)}if(he(Y)||q(Y))return D=D.get(U)||null,F(M,D,Y,de,null);if(typeof Y.then=="function")return V(D,M,U,hl(Y),de);if(Y.$$typeof===k)return V(D,M,U,dl(M,Y),de);gl(M,Y)}return null}function ue(D,M,U,Y){for(var de=null,Be=null,ce=M,Ae=M=0,Le=null;ce!==null&&Ae<U.length;Ae++){ce.index>Ae?(Le=ce,ce=null):Le=ce.sibling;var He=G(D,ce,U[Ae],Y);if(He===null){ce===null&&(ce=Le);break}t&&ce&&He.alternate===null&&i(D,ce),M=p(He,M,Ae),Be===null?de=He:Be.sibling=He,Be=He,ce=Le}if(Ae===U.length)return a(D,ce),Pe&&Mn(D,Ae),de;if(ce===null){for(;Ae<U.length;Ae++)ce=K(D,U[Ae],Y),ce!==null&&(M=p(ce,M,Ae),Be===null?de=ce:Be.sibling=ce,Be=ce);return Pe&&Mn(D,Ae),de}for(ce=r(ce);Ae<U.length;Ae++)Le=V(ce,D,Ae,U[Ae],Y),Le!==null&&(t&&Le.alternate!==null&&ce.delete(Le.key===null?Ae:Le.key),M=p(Le,M,Ae),Be===null?de=Le:Be.sibling=Le,Be=Le);return t&&ce.forEach(function(yi){return i(D,yi)}),Pe&&Mn(D,Ae),de}function pe(D,M,U,Y){if(U==null)throw Error(l(151));for(var de=null,Be=null,ce=M,Ae=M=0,Le=null,He=U.next();ce!==null&&!He.done;Ae++,He=U.next()){ce.index>Ae?(Le=ce,ce=null):Le=ce.sibling;var yi=G(D,ce,He.value,Y);if(yi===null){ce===null&&(ce=Le);break}t&&ce&&yi.alternate===null&&i(D,ce),M=p(yi,M,Ae),Be===null?de=yi:Be.sibling=yi,Be=yi,ce=Le}if(He.done)return a(D,ce),Pe&&Mn(D,Ae),de;if(ce===null){for(;!He.done;Ae++,He=U.next())He=K(D,He.value,Y),He!==null&&(M=p(He,M,Ae),Be===null?de=He:Be.sibling=He,Be=He);return Pe&&Mn(D,Ae),de}for(ce=r(ce);!He.done;Ae++,He=U.next())He=V(ce,D,Ae,He.value,Y),He!==null&&(t&&He.alternate!==null&&ce.delete(He.key===null?Ae:He.key),M=p(He,M,Ae),Be===null?de=He:Be.sibling=He,Be=He);return t&&ce.forEach(function(fT){return i(D,fT)}),Pe&&Mn(D,Ae),de}function Xe(D,M,U,Y){if(typeof U=="object"&&U!==null&&U.type===_&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case b:e:{for(var de=U.key;M!==null;){if(M.key===de){if(de=U.type,de===_){if(M.tag===7){a(D,M.sibling),Y=m(M,U.props.children),Y.return=D,D=Y;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ae&&Li(de)===M.type){a(D,M.sibling),Y=m(M,U.props),ca(Y,U),Y.return=D,D=Y;break e}a(D,M);break}else i(D,M);M=M.sibling}U.type===_?(Y=Mi(U.props.children,D.mode,Y,U.key),Y.return=D,D=Y):(Y=rl(U.type,U.key,U.props,null,D.mode,Y),ca(Y,U),Y.return=D,D=Y)}return C(D);case N:e:{for(de=U.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(D,M.sibling),Y=m(M,U.children||[]),Y.return=D,D=Y;break e}else{a(D,M);break}else i(D,M);M=M.sibling}Y=mr(U,D.mode,Y),Y.return=D,D=Y}return C(D);case ae:return U=Li(U),Xe(D,M,U,Y)}if(he(U))return ue(D,M,U,Y);if(q(U)){if(de=q(U),typeof de!="function")throw Error(l(150));return U=de.call(U),pe(D,M,U,Y)}if(typeof U.then=="function")return Xe(D,M,hl(U),Y);if(U.$$typeof===k)return Xe(D,M,dl(D,U),Y);gl(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(D,M.sibling),Y=m(M,U),Y.return=D,D=Y):(a(D,M),Y=fr(U,D.mode,Y),Y.return=D,D=Y),C(D)):a(D,M)}return function(D,M,U,Y){try{ua=0;var de=Xe(D,M,U,Y);return So=null,de}catch(ce){if(ce===vo||ce===ml)throw ce;var Be=Jt(29,ce,null,D.mode);return Be.lanes=Y,Be.return=D,Be}finally{}}}var Gi=gf(!0),yf=gf(!1),ei=!1;function Ar(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function br(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ti(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ni(t,i,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(qe&2)!==0){var m=r.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),r.pending=i,i=sl(t),Wd(t,null,a),i}return ll(t,r,i,a),sl(t)}function da(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,sd(t,a)}}function Nr(t,i){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var m=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var C={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?m=p=C:p=p.next=C,a=a.next}while(a!==null);p===null?m=p=i:p=p.next=i}else m=p=i;a={baseState:r.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ir=!1;function fa(){if(Ir){var t=yo;if(t!==null)throw t}}function ma(t,i,a,r){Ir=!1;var m=t.updateQueue;ei=!1;var p=m.firstBaseUpdate,C=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var I=x,L=I.next;I.next=null,C===null?p=L:C.next=L,C=I;var F=t.alternate;F!==null&&(F=F.updateQueue,x=F.lastBaseUpdate,x!==C&&(x===null?F.firstBaseUpdate=L:x.next=L,F.lastBaseUpdate=I))}if(p!==null){var K=m.baseState;C=0,F=L=I=null,x=p;do{var G=x.lane&-536870913,V=G!==x.lane;if(V?(Ue&G)===G:(r&G)===G){G!==0&&G===go&&(Ir=!0),F!==null&&(F=F.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ue=t,pe=x;G=i;var Xe=a;switch(pe.tag){case 1:if(ue=pe.payload,typeof ue=="function"){K=ue.call(Xe,K,G);break e}K=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=pe.payload,G=typeof ue=="function"?ue.call(Xe,K,G):ue,G==null)break e;K=E({},K,G);break e;case 2:ei=!0}}G=x.callback,G!==null&&(t.flags|=64,V&&(t.flags|=8192),V=m.callbacks,V===null?m.callbacks=[G]:V.push(G))}else V={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},F===null?(L=F=V,I=K):F=F.next=V,C|=G;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;V=x,x=V.next,V.next=null,m.lastBaseUpdate=V,m.shared.pending=null}}while(!0);F===null&&(I=K),m.baseState=I,m.firstBaseUpdate=L,m.lastBaseUpdate=F,p===null&&(m.shared.lanes=0),si|=C,t.lanes=C,t.memoizedState=K}}function vf(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function Sf(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vf(a[t],i)}var To=R(null),yl=R(0);function Tf(t,i){t=zn,W(yl,t),W(To,i),zn=t|i.baseLanes}function Mr(){W(yl,zn),W(To,To.current)}function wr(){zn=yl.current,$(To),$(yl)}var Yt=R(null),rn=null;function ii(t){var i=t.alternate;W(st,st.current&1),W(Yt,t),rn===null&&(i===null||To.current!==null||i.memoizedState!==null)&&(rn=t)}function Rr(t){W(st,st.current),W(Yt,t),rn===null&&(rn=t)}function Ef(t){t.tag===22?(W(st,st.current),W(Yt,t),rn===null&&(rn=t)):oi()}function oi(){W(st,st.current),W(Yt,Yt.current)}function $t(t){$(Yt),rn===t&&(rn=null),$(st)}var st=R(0);function vl(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bu(a)||Hu(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dn=0,_e=null,$e=null,dt=null,Sl=!1,Eo=!1,Bi=!1,Tl=0,pa=0,Co=null,nS=0;function at(){throw Error(l(321))}function Dr(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Ft(t[a],i[a]))return!1;return!0}function Ur(t,i,a,r,m,p){return Dn=p,_e=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=t===null||t.memoizedState===null?om:Kr,Bi=!1,p=a(r,m),Bi=!1,Eo&&(p=xf(i,a,r,m)),Cf(t),p}function Cf(t){P.H=ya;var i=$e!==null&&$e.next!==null;if(Dn=0,dt=$e=_e=null,Sl=!1,pa=0,Co=null,i)throw Error(l(300));t===null||ft||(t=t.dependencies,t!==null&&cl(t)&&(ft=!0))}function xf(t,i,a,r){_e=t;var m=0;do{if(Eo&&(Co=null),pa=0,Eo=!1,25<=m)throw Error(l(301));if(m+=1,dt=$e=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}P.H=am,p=i(a,r)}while(Eo);return p}function iS(){var t=P.H,i=t.useState()[0];return i=typeof i.then=="function"?ha(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(_e.flags|=1024),i}function Lr(){var t=Tl!==0;return Tl=0,t}function Pr(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gr(t){if(Sl){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Sl=!1}Dn=0,dt=$e=_e=null,Eo=!1,pa=Tl=0,Co=null}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?_e.memoizedState=dt=t:dt=dt.next=t,dt}function rt(){if($e===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=dt===null?_e.memoizedState:dt.next;if(i!==null)dt=i,$e=t;else{if(t===null)throw _e.alternate===null?Error(l(467)):Error(l(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},dt===null?_e.memoizedState=dt=t:dt=dt.next=t}return dt}function El(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ha(t){var i=pa;return pa+=1,Co===null&&(Co=[]),t=mf(Co,t,i),i=_e,(dt===null?i.memoizedState:dt.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?om:Kr),t}function Cl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ha(t);if(t.$$typeof===k)return Ct(t)}throw Error(l(438,String(t)))}function Br(t){var i=null,a=_e.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var r=_e.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=El(),_e.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),r=0;r<t;r++)a[r]=te;return i.index++,a}function Un(t,i){return typeof i=="function"?i(t):i}function xl(t){var i=rt();return Hr(i,$e,t)}function Hr(t,i,a){var r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var m=t.baseQueue,p=r.pending;if(p!==null){if(m!==null){var C=m.next;m.next=p.next,p.next=C}i.baseQueue=m=p,r.pending=null}if(p=t.baseState,m===null)t.memoizedState=p;else{i=m.next;var x=C=null,I=null,L=i,F=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(Ue&K)===K:(Dn&K)===K){var G=L.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===go&&(F=!0);else if((Dn&G)===G){L=L.next,G===go&&(F=!0);continue}else K={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(x=I=K,C=p):I=I.next=K,_e.lanes|=G,si|=G;K=L.action,Bi&&a(p,K),p=L.hasEagerState?L.eagerState:a(p,K)}else G={lane:K,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(x=I=G,C=p):I=I.next=G,_e.lanes|=K,si|=K;L=L.next}while(L!==null&&L!==i);if(I===null?C=p:I.next=x,!Ft(p,t.memoizedState)&&(ft=!0,F&&(a=yo,a!==null)))throw a;t.memoizedState=p,t.baseState=C,t.baseQueue=I,r.lastRenderedState=p}return m===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Vr(t){var i=rt(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var r=a.dispatch,m=a.pending,p=i.memoizedState;if(m!==null){a.pending=null;var C=m=m.next;do p=t(p,C.action),C=C.next;while(C!==m);Ft(p,i.memoizedState)||(ft=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,r]}function _f(t,i,a){var r=_e,m=rt(),p=Pe;if(p){if(a===void 0)throw Error(l(407));a=a()}else a=i();var C=!Ft(($e||m).memoizedState,a);if(C&&(m.memoizedState=a,ft=!0),m=m.queue,kr(Nf.bind(null,r,m,t),[t]),m.getSnapshot!==i||C||dt!==null&&dt.memoizedState.tag&1){if(r.flags|=2048,xo(9,{destroy:void 0},bf.bind(null,r,m,a,i),null),Ze===null)throw Error(l(349));p||(Dn&127)!==0||Af(r,i,a)}return a}function Af(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=_e.updateQueue,i===null?(i=El(),_e.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function bf(t,i,a,r){i.value=a,i.getSnapshot=r,If(i)&&Mf(t)}function Nf(t,i,a){return a(function(){If(i)&&Mf(t)})}function If(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Ft(t,a)}catch{return!0}}function Mf(t){var i=Ii(t,2);i!==null&&qt(i,t,2)}function zr(t){var i=Rt();if(typeof t=="function"){var a=t;if(t=a(),Bi){ot(!0);try{a()}finally{ot(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:t},i}function wf(t,i,a,r){return t.baseState=a,Hr(t,$e,typeof r=="function"?r:Un)}function oS(t,i,a,r,m){if(bl(t))throw Error(l(485));if(t=i.action,t!==null){var p={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){p.listeners.push(C)}};P.T!==null?a(!0):p.isTransition=!1,r(p),a=i.pending,a===null?(p.next=i.pending=p,Rf(i,p)):(p.next=a.next,i.pending=a.next=p)}}function Rf(t,i){var a=i.action,r=i.payload,m=t.state;if(i.isTransition){var p=P.T,C={};P.T=C;try{var x=a(m,r),I=P.S;I!==null&&I(C,x),Df(t,i,x)}catch(L){qr(t,i,L)}finally{p!==null&&C.types!==null&&(p.types=C.types),P.T=p}}else try{p=a(m,r),Df(t,i,p)}catch(L){qr(t,i,L)}}function Df(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Uf(t,i,r)},function(r){return qr(t,i,r)}):Uf(t,i,a)}function Uf(t,i,a){i.status="fulfilled",i.value=a,Lf(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Rf(t,a)))}function qr(t,i,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=a,Lf(i),i=i.next;while(i!==r)}t.action=null}function Lf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Pf(t,i){return i}function Gf(t,i){if(Pe){var a=Ze.formState;if(a!==null){e:{var r=_e;if(Pe){if(je){t:{for(var m=je,p=sn;m.nodeType!==8;){if(!p){m=null;break t}if(m=un(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){je=un(m.nextSibling),r=m.data==="F!";break e}}jn(r)}r=!1}r&&(i=a[0])}}return a=Rt(),a.memoizedState=a.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:i},a.queue=r,a=tm.bind(null,_e,r),r.dispatch=a,r=zr(!1),p=$r.bind(null,_e,!1,r.queue),r=Rt(),m={state:i,dispatch:null,action:t,pending:null},r.queue=m,a=oS.bind(null,_e,m,p,a),m.dispatch=a,r.memoizedState=t,[i,a,!1]}function Bf(t){var i=rt();return Hf(i,$e,t)}function Hf(t,i,a){if(i=Hr(t,i,Pf)[0],t=xl(Un)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=ha(i)}catch(C){throw C===vo?ml:C}else r=i;i=rt();var m=i.queue,p=m.dispatch;return a!==i.memoizedState&&(_e.flags|=2048,xo(9,{destroy:void 0},aS.bind(null,m,a),null)),[r,p,t]}function aS(t,i){t.action=i}function Vf(t){var i=rt(),a=$e;if(a!==null)return Hf(i,a,t);rt(),i=i.memoizedState,a=rt();var r=a.queue.dispatch;return a.memoizedState=t,[i,r,!1]}function xo(t,i,a,r){return t={tag:t,create:a,deps:r,inst:i,next:null},i=_e.updateQueue,i===null&&(i=El(),_e.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,i.lastEffect=t),t}function zf(){return rt().memoizedState}function _l(t,i,a,r){var m=Rt();_e.flags|=t,m.memoizedState=xo(1|i,{destroy:void 0},a,r===void 0?null:r)}function Al(t,i,a,r){var m=rt();r=r===void 0?null:r;var p=m.memoizedState.inst;$e!==null&&r!==null&&Dr(r,$e.memoizedState.deps)?m.memoizedState=xo(i,p,a,r):(_e.flags|=t,m.memoizedState=xo(1|i,p,a,r))}function qf(t,i){_l(8390656,8,t,i)}function kr(t,i){Al(2048,8,t,i)}function lS(t){_e.flags|=4;var i=_e.updateQueue;if(i===null)i=El(),_e.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function kf(t){var i=rt().memoizedState;return lS({ref:i,nextImpl:t}),function(){if((qe&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function Of(t,i){return Al(4,2,t,i)}function Ff(t,i){return Al(4,4,t,i)}function Jf(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Yf(t,i,a){a=a!=null?a.concat([t]):null,Al(4,4,Jf.bind(null,i,t),a)}function Or(){}function $f(t,i){var a=rt();i=i===void 0?null:i;var r=a.memoizedState;return i!==null&&Dr(i,r[1])?r[0]:(a.memoizedState=[t,i],t)}function Kf(t,i){var a=rt();i=i===void 0?null:i;var r=a.memoizedState;if(i!==null&&Dr(i,r[1]))return r[0];if(r=t(),Bi){ot(!0);try{t()}finally{ot(!1)}}return a.memoizedState=[r,i],r}function Fr(t,i,a){return a===void 0||(Dn&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Xm(),_e.lanes|=t,si|=t,a)}function Xf(t,i,a,r){return Ft(a,i)?a:To.current!==null?(t=Fr(t,a,r),Ft(t,i)||(ft=!0),t):(Dn&42)===0||(Dn&1073741824)!==0&&(Ue&261930)===0?(ft=!0,t.memoizedState=a):(t=Xm(),_e.lanes|=t,si|=t,i)}function Qf(t,i,a,r,m){var p=Z.p;Z.p=p!==0&&8>p?p:8;var C=P.T,x={};P.T=x,$r(t,!1,i,a);try{var I=m(),L=P.S;if(L!==null&&L(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=tS(I,r);ga(t,i,F,Qt(t))}else ga(t,i,r,Qt(t))}catch(K){ga(t,i,{then:function(){},status:"rejected",reason:K},Qt())}finally{Z.p=p,C!==null&&x.types!==null&&(C.types=x.types),P.T=C}}function sS(){}function Jr(t,i,a,r){if(t.tag!==5)throw Error(l(476));var m=Zf(t).queue;Qf(t,m,i,le,a===null?sS:function(){return jf(t),a(r)})}function Zf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:le},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function jf(t){var i=Zf(t);i.next===null&&(i=t.alternate.memoizedState),ga(t,i.next.queue,{},Qt())}function Yr(){return Ct(Ua)}function Wf(){return rt().memoizedState}function em(){return rt().memoizedState}function rS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Qt();t=ti(a);var r=ni(i,t,a);r!==null&&(qt(r,i,a),da(r,i,a)),i={cache:Er()},t.payload=i;return}i=i.return}}function uS(t,i,a){var r=Qt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},bl(t)?nm(i,a):(a=cr(t,i,a,r),a!==null&&(qt(a,t,r),im(a,i,r)))}function tm(t,i,a){var r=Qt();ga(t,i,a,r)}function ga(t,i,a,r){var m={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(bl(t))nm(i,m);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var C=i.lastRenderedState,x=p(C,a);if(m.hasEagerState=!0,m.eagerState=x,Ft(x,C))return ll(t,i,m,0),Ze===null&&al(),!1}catch{}finally{}if(a=cr(t,i,m,r),a!==null)return qt(a,t,r),im(a,i,r),!0}return!1}function $r(t,i,a,r){if(r={lane:2,revertLane:Au(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},bl(t)){if(i)throw Error(l(479))}else i=cr(t,a,r,2),i!==null&&qt(i,t,2)}function bl(t){var i=t.alternate;return t===_e||i!==null&&i===_e}function nm(t,i){Eo=Sl=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function im(t,i,a){if((a&4194048)!==0){var r=i.lanes;r&=t.pendingLanes,a|=r,i.lanes=a,sd(t,a)}}var ya={readContext:Ct,use:Cl,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};ya.useEffectEvent=at;var om={readContext:Ct,use:Cl,useCallback:function(t,i){return Rt().memoizedState=[t,i===void 0?null:i],t},useContext:Ct,useEffect:qf,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,_l(4194308,4,Jf.bind(null,i,t),a)},useLayoutEffect:function(t,i){return _l(4194308,4,t,i)},useInsertionEffect:function(t,i){_l(4,2,t,i)},useMemo:function(t,i){var a=Rt();i=i===void 0?null:i;var r=t();if(Bi){ot(!0);try{t()}finally{ot(!1)}}return a.memoizedState=[r,i],r},useReducer:function(t,i,a){var r=Rt();if(a!==void 0){var m=a(i);if(Bi){ot(!0);try{a(i)}finally{ot(!1)}}}else m=i;return r.memoizedState=r.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},r.queue=t,t=t.dispatch=uS.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var i=Rt();return t={current:t},i.memoizedState=t},useState:function(t){t=zr(t);var i=t.queue,a=tm.bind(null,_e,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Or,useDeferredValue:function(t,i){var a=Rt();return Fr(a,t,i)},useTransition:function(){var t=zr(!1);return t=Qf.bind(null,_e,t.queue,!0,!1),Rt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var r=_e,m=Rt();if(Pe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),Ze===null)throw Error(l(349));(Ue&127)!==0||Af(r,i,a)}m.memoizedState=a;var p={value:a,getSnapshot:i};return m.queue=p,qf(Nf.bind(null,r,p,t),[t]),r.flags|=2048,xo(9,{destroy:void 0},bf.bind(null,r,p,a,i),null),a},useId:function(){var t=Rt(),i=Ze.identifierPrefix;if(Pe){var a=En,r=Tn;a=(r&~(1<<32-tt(r)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Tl++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=nS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Yr,useFormState:Gf,useActionState:Gf,useOptimistic:function(t){var i=Rt();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=$r.bind(null,_e,!0,a),a.dispatch=i,[t,i]},useMemoCache:Br,useCacheRefresh:function(){return Rt().memoizedState=rS.bind(null,_e)},useEffectEvent:function(t){var i=Rt(),a={impl:t};return i.memoizedState=a,function(){if((qe&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Kr={readContext:Ct,use:Cl,useCallback:$f,useContext:Ct,useEffect:kr,useImperativeHandle:Yf,useInsertionEffect:Of,useLayoutEffect:Ff,useMemo:Kf,useReducer:xl,useRef:zf,useState:function(){return xl(Un)},useDebugValue:Or,useDeferredValue:function(t,i){var a=rt();return Xf(a,$e.memoizedState,t,i)},useTransition:function(){var t=xl(Un)[0],i=rt().memoizedState;return[typeof t=="boolean"?t:ha(t),i]},useSyncExternalStore:_f,useId:Wf,useHostTransitionStatus:Yr,useFormState:Bf,useActionState:Bf,useOptimistic:function(t,i){var a=rt();return wf(a,$e,t,i)},useMemoCache:Br,useCacheRefresh:em};Kr.useEffectEvent=kf;var am={readContext:Ct,use:Cl,useCallback:$f,useContext:Ct,useEffect:kr,useImperativeHandle:Yf,useInsertionEffect:Of,useLayoutEffect:Ff,useMemo:Kf,useReducer:Vr,useRef:zf,useState:function(){return Vr(Un)},useDebugValue:Or,useDeferredValue:function(t,i){var a=rt();return $e===null?Fr(a,t,i):Xf(a,$e.memoizedState,t,i)},useTransition:function(){var t=Vr(Un)[0],i=rt().memoizedState;return[typeof t=="boolean"?t:ha(t),i]},useSyncExternalStore:_f,useId:Wf,useHostTransitionStatus:Yr,useFormState:Vf,useActionState:Vf,useOptimistic:function(t,i){var a=rt();return $e!==null?wf(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Br,useCacheRefresh:em};am.useEffectEvent=kf;function Xr(t,i,a,r){i=t.memoizedState,a=a(r,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qr={enqueueSetState:function(t,i,a){t=t._reactInternals;var r=Qt(),m=ti(r);m.payload=i,a!=null&&(m.callback=a),i=ni(t,m,r),i!==null&&(qt(i,t,r),da(i,t,r))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var r=Qt(),m=ti(r);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=ni(t,m,r),i!==null&&(qt(i,t,r),da(i,t,r))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Qt(),r=ti(a);r.tag=2,i!=null&&(r.callback=i),i=ni(t,r,a),i!==null&&(qt(i,t,a),da(i,t,a))}};function lm(t,i,a,r,m,p,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,p,C):i.prototype&&i.prototype.isPureReactComponent?!ia(a,r)||!ia(m,p):!0}function sm(t,i,a,r){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,r),i.state!==t&&Qr.enqueueReplaceState(i,i.state,null)}function Hi(t,i){var a=i;if("ref"in i){a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var m in t)a[m]===void 0&&(a[m]=t[m])}return a}function rm(t){ol(t)}function um(t){console.error(t)}function cm(t){ol(t)}function Nl(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function dm(t,i,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Zr(t,i,a){return a=ti(a),a.tag=3,a.payload={element:null},a.callback=function(){Nl(t,i)},a}function fm(t){return t=ti(t),t.tag=3,t}function mm(t,i,a,r){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var p=r.value;t.payload=function(){return m(p)},t.callback=function(){dm(i,a,r)}}var C=a.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(t.callback=function(){dm(i,a,r),typeof m!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})})}function cS(t,i,a,r,m){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=a.alternate,i!==null&&ho(i,a,m,!0),a=Yt.current,a!==null){switch(a.tag){case 31:case 13:return rn===null?Vl():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=m,r===pl?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([r]):i.add(r),Cu(t,r,m)),!1;case 22:return a.flags|=65536,r===pl?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([r]):a.add(r)),Cu(t,r,m)),!1}throw Error(l(435,a.tag))}return Cu(t,r,m),Vl(),!1}if(Pe)return i=Yt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,r!==gr&&(t=Error(l(422),{cause:r}),la(on(t,a)))):(r!==gr&&(i=Error(l(423),{cause:r}),la(on(i,a))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,r=on(r,a),m=Zr(t.stateNode,r,m),Nr(t,m),lt!==4&&(lt=2)),!1;var p=Error(l(520),{cause:r});if(p=on(p,a),Aa===null?Aa=[p]:Aa.push(p),lt!==4&&(lt=2),i===null)return!0;r=on(r,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=m&-m,a.lanes|=t,t=Zr(a.stateNode,r,t),Nr(a,t),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ri===null||!ri.has(p))))return a.flags|=65536,m&=-m,a.lanes|=m,m=fm(m),mm(m,t,a,r),Nr(a,m),!1}a=a.return}while(a!==null);return!1}var jr=Error(l(461)),ft=!1;function xt(t,i,a,r){i.child=t===null?yf(i,null,a,r):Gi(i,t.child,a,r)}function pm(t,i,a,r,m){a=a.render;var p=i.ref;if("ref"in r){var C={};for(var x in r)x!=="ref"&&(C[x]=r[x])}else C=r;return Di(i),r=Ur(t,i,a,C,p,m),x=Lr(),t!==null&&!ft?(Pr(t,i,m),Ln(t,i,m)):(Pe&&x&&pr(i),i.flags|=1,xt(t,i,r,m),i.child)}function hm(t,i,a,r,m){if(t===null){var p=a.type;return typeof p=="function"&&!dr(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,gm(t,i,p,r,m)):(t=rl(a.type,null,r,i,i.mode,m),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!lu(t,m)){var C=p.memoizedProps;if(a=a.compare,a=a!==null?a:ia,a(C,r)&&t.ref===i.ref)return Ln(t,i,m)}return i.flags|=1,t=In(p,r),t.ref=i.ref,t.return=i,i.child=t}function gm(t,i,a,r,m){if(t!==null){var p=t.memoizedProps;if(ia(p,r)&&t.ref===i.ref)if(ft=!1,i.pendingProps=r=p,lu(t,m))(t.flags&131072)!==0&&(ft=!0);else return i.lanes=t.lanes,Ln(t,i,m)}return Wr(t,i,a,r,m)}function ym(t,i,a,r){var m=r.children,p=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,t!==null){for(r=i.child=t.child,m=0;r!==null;)m=m|r.lanes|r.childLanes,r=r.sibling;r=m&~p}else r=0,i.child=null;return vm(t,i,p,a,r)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&fl(i,p!==null?p.cachePool:null),p!==null?Tf(i,p):Mr(),Ef(i);else return r=i.lanes=536870912,vm(t,i,p!==null?p.baseLanes|a:a,a,r)}else p!==null?(fl(i,p.cachePool),Tf(i,p),oi(),i.memoizedState=null):(t!==null&&fl(i,null),Mr(),oi());return xt(t,i,m,a),i.child}function va(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function vm(t,i,a,r,m){var p=xr();return p=p===null?null:{parent:ct._currentValue,pool:p},i.memoizedState={baseLanes:a,cachePool:p},t!==null&&fl(i,null),Mr(),Ef(i),t!==null&&ho(t,i,r,!0),i.childLanes=m,null}function Il(t,i){return i=wl({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Sm(t,i,a){return Gi(i,t.child,null,a),t=Il(i,i.pendingProps),t.flags|=2,$t(i),i.memoizedState=null,t}function dS(t,i,a){var r=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(r.mode==="hidden")return t=Il(i,r),i.lanes=536870912,va(null,t);if(Rr(i),(t=je)?(t=Rp(t,sn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Qn!==null?{id:Tn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},a=tf(t),a.return=i,i.child=a,Et=i,je=null)):t=null,t===null)throw jn(i);return i.lanes=536870912,null}return Il(i,r)}var p=t.memoizedState;if(p!==null){var C=p.dehydrated;if(Rr(i),m)if(i.flags&256)i.flags&=-257,i=Sm(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(l(558));else if(ft||ho(t,i,a,!1),m=(a&t.childLanes)!==0,ft||m){if(r=Ze,r!==null&&(C=rd(r,a),C!==0&&C!==p.retryLane))throw p.retryLane=C,Ii(t,C),qt(r,t,C),jr;Vl(),i=Sm(t,i,a)}else t=p.treeContext,je=un(C.nextSibling),Et=i,Pe=!0,Zn=null,sn=!1,t!==null&&af(i,t),i=Il(i,r),i.flags|=4096;return i}return t=In(t.child,{mode:r.mode,children:r.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ml(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Wr(t,i,a,r,m){return Di(i),a=Ur(t,i,a,r,void 0,m),r=Lr(),t!==null&&!ft?(Pr(t,i,m),Ln(t,i,m)):(Pe&&r&&pr(i),i.flags|=1,xt(t,i,a,m),i.child)}function Tm(t,i,a,r,m,p){return Di(i),i.updateQueue=null,a=xf(i,r,a,m),Cf(t),r=Lr(),t!==null&&!ft?(Pr(t,i,p),Ln(t,i,p)):(Pe&&r&&pr(i),i.flags|=1,xt(t,i,a,p),i.child)}function Em(t,i,a,r,m){if(Di(i),i.stateNode===null){var p=co,C=a.contextType;typeof C=="object"&&C!==null&&(p=Ct(C)),p=new a(r,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Qr,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=r,p.state=i.memoizedState,p.refs={},Ar(i),C=a.contextType,p.context=typeof C=="object"&&C!==null?Ct(C):co,p.state=i.memoizedState,C=a.getDerivedStateFromProps,typeof C=="function"&&(Xr(i,a,C,r),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(C=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),C!==p.state&&Qr.enqueueReplaceState(p,p.state,null),ma(i,r,p,m),fa(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(t===null){p=i.stateNode;var x=i.memoizedProps,I=Hi(a,x);p.props=I;var L=p.context,F=a.contextType;C=co,typeof F=="object"&&F!==null&&(C=Ct(F));var K=a.getDerivedStateFromProps;F=typeof K=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,F||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||L!==C)&&sm(i,p,r,C),ei=!1;var G=i.memoizedState;p.state=G,ma(i,r,p,m),fa(),L=i.memoizedState,x||G!==L||ei?(typeof K=="function"&&(Xr(i,a,K,r),L=i.memoizedState),(I=ei||lm(i,a,I,r,G,L,C))?(F||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=L),p.props=r,p.state=L,p.context=C,r=I):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{p=i.stateNode,br(t,i),C=i.memoizedProps,F=Hi(a,C),p.props=F,K=i.pendingProps,G=p.context,L=a.contextType,I=co,typeof L=="object"&&L!==null&&(I=Ct(L)),x=a.getDerivedStateFromProps,(L=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C!==K||G!==I)&&sm(i,p,r,I),ei=!1,G=i.memoizedState,p.state=G,ma(i,r,p,m),fa();var V=i.memoizedState;C!==K||G!==V||ei||t!==null&&t.dependencies!==null&&cl(t.dependencies)?(typeof x=="function"&&(Xr(i,a,x,r),V=i.memoizedState),(F=ei||lm(i,a,F,r,G,V,I)||t!==null&&t.dependencies!==null&&cl(t.dependencies))?(L||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,V,I),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,V,I)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||C===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=V),p.props=r,p.state=V,p.context=I,r=F):(typeof p.componentDidUpdate!="function"||C===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),r=!1)}return p=r,Ml(t,i),r=(i.flags&128)!==0,p||r?(p=i.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&r?(i.child=Gi(i,t.child,null,m),i.child=Gi(i,null,a,m)):xt(t,i,a,m),i.memoizedState=p.state,t=i.child):t=Ln(t,i,m),t}function Cm(t,i,a,r){return wi(),i.flags|=256,xt(t,i,a,r),i.child}var eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tu(t){return{baseLanes:t,cachePool:df()}}function nu(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Xt),t}function xm(t,i,a){var r=i.pendingProps,m=!1,p=(i.flags&128)!==0,C;if((C=p)||(C=t!==null&&t.memoizedState===null?!1:(st.current&2)!==0),C&&(m=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(m?ii(i):oi(),(t=je)?(t=Rp(t,sn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Qn!==null?{id:Tn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},a=tf(t),a.return=i,i.child=a,Et=i,je=null)):t=null,t===null)throw jn(i);return Hu(t)?i.lanes=32:i.lanes=536870912,null}var x=r.children;return r=r.fallback,m?(oi(),m=i.mode,x=wl({mode:"hidden",children:x},m),r=Mi(r,m,a,null),x.return=i,r.return=i,x.sibling=r,i.child=x,r=i.child,r.memoizedState=tu(a),r.childLanes=nu(t,C,a),i.memoizedState=eu,va(null,r)):(ii(i),iu(i,x))}var I=t.memoizedState;if(I!==null&&(x=I.dehydrated,x!==null)){if(p)i.flags&256?(ii(i),i.flags&=-257,i=ou(t,i,a)):i.memoizedState!==null?(oi(),i.child=t.child,i.flags|=128,i=null):(oi(),x=r.fallback,m=i.mode,r=wl({mode:"visible",children:r.children},m),x=Mi(x,m,a,null),x.flags|=2,r.return=i,x.return=i,r.sibling=x,i.child=r,Gi(i,t.child,null,a),r=i.child,r.memoizedState=tu(a),r.childLanes=nu(t,C,a),i.memoizedState=eu,i=va(null,r));else if(ii(i),Hu(x)){if(C=x.nextSibling&&x.nextSibling.dataset,C)var L=C.dgst;C=L,r=Error(l(419)),r.stack="",r.digest=C,la({value:r,source:null,stack:null}),i=ou(t,i,a)}else if(ft||ho(t,i,a,!1),C=(a&t.childLanes)!==0,ft||C){if(C=Ze,C!==null&&(r=rd(C,a),r!==0&&r!==I.retryLane))throw I.retryLane=r,Ii(t,r),qt(C,t,r),jr;Bu(x)||Vl(),i=ou(t,i,a)}else Bu(x)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,je=un(x.nextSibling),Et=i,Pe=!0,Zn=null,sn=!1,t!==null&&af(i,t),i=iu(i,r.children),i.flags|=4096);return i}return m?(oi(),x=r.fallback,m=i.mode,I=t.child,L=I.sibling,r=In(I,{mode:"hidden",children:r.children}),r.subtreeFlags=I.subtreeFlags&65011712,L!==null?x=In(L,x):(x=Mi(x,m,a,null),x.flags|=2),x.return=i,r.return=i,r.sibling=x,i.child=r,va(null,r),r=i.child,x=t.child.memoizedState,x===null?x=tu(a):(m=x.cachePool,m!==null?(I=ct._currentValue,m=m.parent!==I?{parent:I,pool:I}:m):m=df(),x={baseLanes:x.baseLanes|a,cachePool:m}),r.memoizedState=x,r.childLanes=nu(t,C,a),i.memoizedState=eu,va(t.child,r)):(ii(i),a=t.child,t=a.sibling,a=In(a,{mode:"visible",children:r.children}),a.return=i,a.sibling=null,t!==null&&(C=i.deletions,C===null?(i.deletions=[t],i.flags|=16):C.push(t)),i.child=a,i.memoizedState=null,a)}function iu(t,i){return i=wl({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function wl(t,i){return t=Jt(22,t,null,i),t.lanes=0,t}function ou(t,i,a){return Gi(i,t.child,null,a),t=iu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function _m(t,i,a){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i),Sr(t.return,i,a)}function au(t,i,a,r,m,p){var C=t.memoizedState;C===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:m,treeForkCount:p}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=r,C.tail=a,C.tailMode=m,C.treeForkCount=p)}function Am(t,i,a){var r=i.pendingProps,m=r.revealOrder,p=r.tail;r=r.children;var C=st.current,x=(C&2)!==0;if(x?(C=C&1|2,i.flags|=128):C&=1,W(st,C),xt(t,i,r,a),r=Pe?aa:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_m(t,a,i);else if(t.tag===19)_m(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(a=i.child,m=null;a!==null;)t=a.alternate,t!==null&&vl(t)===null&&(m=a),a=a.sibling;a=m,a===null?(m=i.child,i.child=null):(m=a.sibling,a.sibling=null),au(i,!1,m,a,p,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=i.child,i.child=null;m!==null;){if(t=m.alternate,t!==null&&vl(t)===null){i.child=m;break}t=m.sibling,m.sibling=a,a=m,m=t}au(i,!0,a,null,p,r);break;case"together":au(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function Ln(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),si|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ho(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,a=In(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=In(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function lu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&cl(t)))}function fS(t,i,a){switch(i.tag){case 3:ut(i,i.stateNode.containerInfo),Wn(i,ct,t.memoizedState.cache),wi();break;case 27:case 5:it(i);break;case 4:ut(i,i.stateNode.containerInfo);break;case 10:Wn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Rr(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(ii(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xm(t,i,a):(ii(i),t=Ln(t,i,a),t!==null?t.sibling:null);ii(i);break;case 19:var m=(t.flags&128)!==0;if(r=(a&i.childLanes)!==0,r||(ho(t,i,a,!1),r=(a&i.childLanes)!==0),m){if(r)return Am(t,i,a);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),W(st,st.current),r)break;return null;case 22:return i.lanes=0,ym(t,i,a,i.pendingProps);case 24:Wn(i,ct,t.memoizedState.cache)}return Ln(t,i,a)}function bm(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ft=!0;else{if(!lu(t,a)&&(i.flags&128)===0)return ft=!1,fS(t,i,a);ft=(t.flags&131072)!==0}else ft=!1,Pe&&(i.flags&1048576)!==0&&of(i,aa,i.index);switch(i.lanes=0,i.tag){case 16:e:{var r=i.pendingProps;if(t=Li(i.elementType),i.type=t,typeof t=="function")dr(t)?(r=Hi(t,r),i.tag=1,i=Em(null,i,t,r,a)):(i.tag=0,i=Wr(null,i,t,r,a));else{if(t!=null){var m=t.$$typeof;if(m===O){i.tag=11,i=pm(null,i,t,r,a);break e}else if(m===Q){i.tag=14,i=hm(null,i,t,r,a);break e}}throw i=ie(t)||t,Error(l(306,i,""))}}return i;case 0:return Wr(t,i,i.type,i.pendingProps,a);case 1:return r=i.type,m=Hi(r,i.pendingProps),Em(t,i,r,m,a);case 3:e:{if(ut(i,i.stateNode.containerInfo),t===null)throw Error(l(387));r=i.pendingProps;var p=i.memoizedState;m=p.element,br(t,i),ma(i,r,null,a);var C=i.memoizedState;if(r=C.cache,Wn(i,ct,r),r!==p.cache&&Tr(i,[ct],a,!0),fa(),r=C.element,p.isDehydrated)if(p={element:r,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Cm(t,i,r,a);break e}else if(r!==m){m=on(Error(l(424)),i),la(m),i=Cm(t,i,r,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(je=un(t.firstChild),Et=i,Pe=!0,Zn=null,sn=!0,a=yf(i,null,r,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wi(),r===m){i=Ln(t,i,a);break e}xt(t,i,r,a)}i=i.child}return i;case 26:return Ml(t,i),t===null?(a=Bp(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,r=Yl(Ce.current).createElement(a),r[Tt]=i,r[Pt]=t,_t(r,a,t),yt(r),i.stateNode=r):i.memoizedState=Bp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return it(i),t===null&&Pe&&(r=i.stateNode=Lp(i.type,i.pendingProps,Ce.current),Et=i,sn=!0,m=je,fi(i.type)?(Vu=m,je=un(r.firstChild)):je=m),xt(t,i,i.pendingProps.children,a),Ml(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((m=r=je)&&(r=kS(r,i.type,i.pendingProps,sn),r!==null?(i.stateNode=r,Et=i,je=un(r.firstChild),sn=!1,m=!0):m=!1),m||jn(i)),it(i),m=i.type,p=i.pendingProps,C=t!==null?t.memoizedProps:null,r=p.children,Lu(m,p)?r=null:C!==null&&Lu(m,C)&&(i.flags|=32),i.memoizedState!==null&&(m=Ur(t,i,iS,null,null,a),Ua._currentValue=m),Ml(t,i),xt(t,i,r,a),i.child;case 6:return t===null&&Pe&&((t=a=je)&&(a=OS(a,i.pendingProps,sn),a!==null?(i.stateNode=a,Et=i,je=null,t=!0):t=!1),t||jn(i)),null;case 13:return xm(t,i,a);case 4:return ut(i,i.stateNode.containerInfo),r=i.pendingProps,t===null?i.child=Gi(i,null,r,a):xt(t,i,r,a),i.child;case 11:return pm(t,i,i.type,i.pendingProps,a);case 7:return xt(t,i,i.pendingProps,a),i.child;case 8:return xt(t,i,i.pendingProps.children,a),i.child;case 12:return xt(t,i,i.pendingProps.children,a),i.child;case 10:return r=i.pendingProps,Wn(i,i.type,r.value),xt(t,i,r.children,a),i.child;case 9:return m=i.type._context,r=i.pendingProps.children,Di(i),m=Ct(m),r=r(m),i.flags|=1,xt(t,i,r,a),i.child;case 14:return hm(t,i,i.type,i.pendingProps,a);case 15:return gm(t,i,i.type,i.pendingProps,a);case 19:return Am(t,i,a);case 31:return dS(t,i,a);case 22:return ym(t,i,a,i.pendingProps);case 24:return Di(i),r=Ct(ct),t===null?(m=xr(),m===null&&(m=Ze,p=Er(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=a),m=p),i.memoizedState={parent:r,cache:m},Ar(i),Wn(i,ct,m)):((t.lanes&a)!==0&&(br(t,i),ma(i,null,null,a),fa()),m=t.memoizedState,p=i.memoizedState,m.parent!==r?(m={parent:r,cache:r},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Wn(i,ct,r)):(r=p.cache,Wn(i,ct,r),r!==m.cache&&Tr(i,[ct],a,!0))),xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Pn(t){t.flags|=4}function su(t,i,a,r,m){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(Wm())t.flags|=8192;else throw Pi=pl,_r}else t.flags&=-16777217}function Nm(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kp(i))if(Wm())t.flags|=8192;else throw Pi=pl,_r}function Rl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ad():536870912,t.lanes|=i,No|=i)}function Sa(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function We(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(i)for(var m=t.child;m!==null;)a|=m.lanes|m.childLanes,r|=m.subtreeFlags&65011712,r|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)a|=m.lanes|m.childLanes,r|=m.subtreeFlags,r|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=r,t.childLanes=a,i}function mS(t,i,a){var r=i.pendingProps;switch(hr(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(i),null;case 1:return We(i),null;case 3:return a=i.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Rn(ct),fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(po(i)?Pn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yr())),We(i),null;case 26:var m=i.type,p=i.memoizedState;return t===null?(Pn(i),p!==null?(We(i),Nm(i,p)):(We(i),su(i,m,null,r,a))):p?p!==t.memoizedState?(Pn(i),We(i),Nm(i,p)):(We(i),i.flags&=-16777217):(t=t.memoizedProps,t!==r&&Pn(i),We(i),su(i,m,t,r,a)),null;case 27:if(pt(i),a=Ce.current,m=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&Pn(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return We(i),null}t=se.current,po(i)?lf(i):(t=Lp(m,r,a),i.stateNode=t,Pn(i))}return We(i),null;case 5:if(pt(i),m=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&Pn(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return We(i),null}if(p=se.current,po(i))lf(i);else{var C=Yl(Ce.current);switch(p){case 1:p=C.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=C.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=C.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof r.is=="string"?C.createElement("select",{is:r.is}):C.createElement("select"),r.multiple?p.multiple=!0:r.size&&(p.size=r.size);break;default:p=typeof r.is=="string"?C.createElement(m,{is:r.is}):C.createElement(m)}}p[Tt]=i,p[Pt]=r;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)p.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=p;e:switch(_t(p,m,r),m){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Pn(i)}}return We(i),su(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==r&&Pn(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(l(166));if(t=Ce.current,po(i)){if(t=i.stateNode,a=i.memoizedProps,r=null,m=Et,m!==null)switch(m.tag){case 27:case 5:r=m.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||xp(t.nodeValue,a)),t||jn(i,!0)}else t=Yl(t).createTextNode(r),t[Tt]=i,i.stateNode=t}return We(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(r=po(i),a!==null){if(t===null){if(!r)throw Error(l(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[Tt]=i}else wi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;We(i),t=!1}else a=yr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?($t(i),i):($t(i),null);if((i.flags&128)!==0)throw Error(l(558))}return We(i),null;case 13:if(r=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=po(i),r!==null&&r.dehydrated!==null){if(t===null){if(!m)throw Error(l(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(l(317));m[Tt]=i}else wi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;We(i),m=!1}else m=yr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?($t(i),i):($t(i),null)}return $t(i),(i.flags&128)!==0?(i.lanes=a,i):(a=r!==null,t=t!==null&&t.memoizedState!==null,a&&(r=i.child,m=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(m=r.alternate.memoizedState.cachePool.pool),p=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(p=r.memoizedState.cachePool.pool),p!==m&&(r.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Rl(i,i.updateQueue),We(i),null);case 4:return fe(),t===null&&Mu(i.stateNode.containerInfo),We(i),null;case 10:return Rn(i.type),We(i),null;case 19:if($(st),r=i.memoizedState,r===null)return We(i),null;if(m=(i.flags&128)!==0,p=r.rendering,p===null)if(m)Sa(r,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=vl(t),p!==null){for(i.flags|=128,Sa(r,!1),t=p.updateQueue,i.updateQueue=t,Rl(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ef(a,t),a=a.sibling;return W(st,st.current&1|2),Pe&&Mn(i,r.treeForkCount),i.child}t=t.sibling}r.tail!==null&&ye()>Gl&&(i.flags|=128,m=!0,Sa(r,!1),i.lanes=4194304)}else{if(!m)if(t=vl(p),t!==null){if(i.flags|=128,m=!0,t=t.updateQueue,i.updateQueue=t,Rl(i,t),Sa(r,!0),r.tail===null&&r.tailMode==="hidden"&&!p.alternate&&!Pe)return We(i),null}else 2*ye()-r.renderingStartTime>Gl&&a!==536870912&&(i.flags|=128,m=!0,Sa(r,!1),i.lanes=4194304);r.isBackwards?(p.sibling=i.child,i.child=p):(t=r.last,t!==null?t.sibling=p:i.child=p,r.last=p)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ye(),t.sibling=null,a=st.current,W(st,m?a&1|2:a&1),Pe&&Mn(i,r.treeForkCount),t):(We(i),null);case 22:case 23:return $t(i),wr(),r=i.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(a&536870912)!==0&&(i.flags&128)===0&&(We(i),i.subtreeFlags&6&&(i.flags|=8192)):We(i),a=i.updateQueue,a!==null&&Rl(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048),t!==null&&$(Ui),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Rn(ct),We(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function pS(t,i){switch(hr(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Rn(ct),fe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return pt(i),null;case 31:if(i.memoizedState!==null){if($t(i),i.alternate===null)throw Error(l(340));wi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if($t(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));wi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(st),null;case 4:return fe(),null;case 10:return Rn(i.type),null;case 22:case 23:return $t(i),wr(),t!==null&&$(Ui),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Rn(ct),null;case 25:return null;default:return null}}function Im(t,i){switch(hr(i),i.tag){case 3:Rn(ct),fe();break;case 26:case 27:case 5:pt(i);break;case 4:fe();break;case 31:i.memoizedState!==null&&$t(i);break;case 13:$t(i);break;case 19:$(st);break;case 10:Rn(i.type);break;case 22:case 23:$t(i),wr(),t!==null&&$(Ui);break;case 24:Rn(ct)}}function Ta(t,i){try{var a=i.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var m=r.next;a=m;do{if((a.tag&t)===t){r=void 0;var p=a.create,C=a.inst;r=p(),C.destroy=r}a=a.next}while(a!==m)}}catch(x){Ye(i,i.return,x)}}function ai(t,i,a){try{var r=i.updateQueue,m=r!==null?r.lastEffect:null;if(m!==null){var p=m.next;r=p;do{if((r.tag&t)===t){var C=r.inst,x=C.destroy;if(x!==void 0){C.destroy=void 0,m=i;var I=a,L=x;try{L()}catch(F){Ye(m,I,F)}}}r=r.next}while(r!==p)}}catch(F){Ye(i,i.return,F)}}function Mm(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Sf(i,a)}catch(r){Ye(t,t.return,r)}}}function wm(t,i,a){a.props=Hi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){Ye(t,i,r)}}function Ea(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(m){Ye(t,i,m)}}function Cn(t,i){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(m){Ye(t,i,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Ye(t,i,m)}else a.current=null}function Rm(t){var i=t.type,a=t.memoizedProps,r=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(m){Ye(t,t.return,m)}}function ru(t,i,a){try{var r=t.stateNode;GS(r,t.type,a,i),r[Pt]=i}catch(m){Ye(t,t.return,m)}}function Dm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fi(t.type)||t.tag===4}function uu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cu(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=bn));else if(r!==4&&(r===27&&fi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(cu(t,i,a),t=t.sibling;t!==null;)cu(t,i,a),t=t.sibling}function Dl(t,i,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(r!==4&&(r===27&&fi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Dl(t,i,a),t=t.sibling;t!==null;)Dl(t,i,a),t=t.sibling}function Um(t){var i=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);_t(i,r,a),i[Tt]=t,i[Pt]=a}catch(p){Ye(t,t.return,p)}}var Gn=!1,mt=!1,du=!1,Lm=typeof WeakSet=="function"?WeakSet:Set,vt=null;function hS(t,i){if(t=t.containerInfo,Du=Wl,t=Jd(t),or(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var m=r.anchorOffset,p=r.focusNode;r=r.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var C=0,x=-1,I=-1,L=0,F=0,K=t,G=null;t:for(;;){for(var V;K!==a||m!==0&&K.nodeType!==3||(x=C+m),K!==p||r!==0&&K.nodeType!==3||(I=C+r),K.nodeType===3&&(C+=K.nodeValue.length),(V=K.firstChild)!==null;)G=K,K=V;for(;;){if(K===t)break t;if(G===a&&++L===m&&(x=C),G===p&&++F===r&&(I=C),(V=K.nextSibling)!==null)break;K=G,G=K.parentNode}K=V}a=x===-1||I===-1?null:{start:x,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uu={focusedElem:t,selectionRange:a},Wl=!1,vt=i;vt!==null;)if(i=vt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,vt=t;else for(;vt!==null;){switch(i=vt,p=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)m=t[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,a=i,m=p.memoizedProps,p=p.memoizedState,r=a.stateNode;try{var ue=Hi(a.type,m);t=r.getSnapshotBeforeUpdate(ue,p),r.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ye(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gu(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,vt=t;break}vt=i.return}}function Pm(t,i,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Hn(t,a),r&4&&Ta(5,a);break;case 1:if(Hn(t,a),r&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(C){Ye(a,a.return,C)}else{var m=Hi(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(m,i,t.__reactInternalSnapshotBeforeUpdate)}catch(C){Ye(a,a.return,C)}}r&64&&Mm(a),r&512&&Ea(a,a.return);break;case 3:if(Hn(t,a),r&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Sf(t,i)}catch(C){Ye(a,a.return,C)}}break;case 27:i===null&&r&4&&Um(a);case 26:case 5:Hn(t,a),i===null&&r&4&&Rm(a),r&512&&Ea(a,a.return);break;case 12:Hn(t,a);break;case 31:Hn(t,a),r&4&&Hm(t,a);break;case 13:Hn(t,a),r&4&&Vm(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_S.bind(null,a),FS(t,a))));break;case 22:if(r=a.memoizedState!==null||Gn,!r){i=i!==null&&i.memoizedState!==null||mt,m=Gn;var p=mt;Gn=r,(mt=i)&&!p?Vn(t,a,(a.subtreeFlags&8772)!==0):Hn(t,a),Gn=m,mt=p}break;case 30:break;default:Hn(t,a)}}function Gm(t){var i=t.alternate;i!==null&&(t.alternate=null,Gm(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&qs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,Bt=!1;function Bn(t,i,a){for(a=a.child;a!==null;)Bm(t,i,a),a=a.sibling}function Bm(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Ne,a)}catch{}switch(a.tag){case 26:mt||Cn(a,i),Bn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||Cn(a,i);var r=nt,m=Bt;fi(a.type)&&(nt=a.stateNode,Bt=!1),Bn(t,i,a),wa(a.stateNode),nt=r,Bt=m;break;case 5:mt||Cn(a,i);case 6:if(r=nt,m=Bt,nt=null,Bn(t,i,a),nt=r,Bt=m,nt!==null)if(Bt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(p){Ye(a,i,p)}else try{nt.removeChild(a.stateNode)}catch(p){Ye(a,i,p)}break;case 18:nt!==null&&(Bt?(t=nt,Mp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Po(t)):Mp(nt,a.stateNode));break;case 4:r=nt,m=Bt,nt=a.stateNode.containerInfo,Bt=!0,Bn(t,i,a),nt=r,Bt=m;break;case 0:case 11:case 14:case 15:ai(2,a,i),mt||ai(4,a,i),Bn(t,i,a);break;case 1:mt||(Cn(a,i),r=a.stateNode,typeof r.componentWillUnmount=="function"&&wm(a,i,r)),Bn(t,i,a);break;case 21:Bn(t,i,a);break;case 22:mt=(r=mt)||a.memoizedState!==null,Bn(t,i,a),mt=r;break;default:Bn(t,i,a)}}function Hm(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Po(t)}catch(a){Ye(i,i.return,a)}}}function Vm(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Po(t)}catch(a){Ye(i,i.return,a)}}function gS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Lm),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Lm),i;default:throw Error(l(435,t.tag))}}function Ul(t,i){var a=gS(t);i.forEach(function(r){if(!a.has(r)){a.add(r);var m=AS.bind(null,t,r);r.then(m,m)}})}function Ht(t,i){var a=i.deletions;if(a!==null)for(var r=0;r<a.length;r++){var m=a[r],p=t,C=i,x=C;e:for(;x!==null;){switch(x.tag){case 27:if(fi(x.type)){nt=x.stateNode,Bt=!1;break e}break;case 5:nt=x.stateNode,Bt=!1;break e;case 3:case 4:nt=x.stateNode.containerInfo,Bt=!0;break e}x=x.return}if(nt===null)throw Error(l(160));Bm(p,C,m),nt=null,Bt=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)zm(i,t),i=i.sibling}var pn=null;function zm(t,i){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ht(i,t),Vt(t),r&4&&(ai(3,t,t.return),Ta(3,t),ai(5,t,t.return));break;case 1:Ht(i,t),Vt(t),r&512&&(mt||a===null||Cn(a,a.return)),r&64&&Gn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var m=pn;if(Ht(i,t),Vt(t),r&512&&(mt||a===null||Cn(a,a.return)),r&4){var p=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){e:{r=t.type,a=t.memoizedProps,m=m.ownerDocument||m;t:switch(r){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Ko]||p[Tt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(r),m.head.insertBefore(p,m.querySelector("head > title"))),_t(p,r,a),p[Tt]=t,yt(p),r=p;break e;case"link":var C=zp("link","href",m).get(r+(a.href||""));if(C){for(var x=0;x<C.length;x++)if(p=C[x],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){C.splice(x,1);break t}}p=m.createElement(r),_t(p,r,a),m.head.appendChild(p);break;case"meta":if(C=zp("meta","content",m).get(r+(a.content||""))){for(x=0;x<C.length;x++)if(p=C[x],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){C.splice(x,1);break t}}p=m.createElement(r),_t(p,r,a),m.head.appendChild(p);break;default:throw Error(l(468,r))}p[Tt]=t,yt(p),r=p}t.stateNode=r}else qp(m,t.type,t.stateNode);else t.stateNode=Vp(m,r,t.memoizedProps);else p!==r?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,r===null?qp(m,t.type,t.stateNode):Vp(m,r,t.memoizedProps)):r===null&&t.stateNode!==null&&ru(t,t.memoizedProps,a.memoizedProps)}break;case 27:Ht(i,t),Vt(t),r&512&&(mt||a===null||Cn(a,a.return)),a!==null&&r&4&&ru(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Ht(i,t),Vt(t),r&512&&(mt||a===null||Cn(a,a.return)),t.flags&32){m=t.stateNode;try{io(m,"")}catch(ue){Ye(t,t.return,ue)}}r&4&&t.stateNode!=null&&(m=t.memoizedProps,ru(t,m,a!==null?a.memoizedProps:m)),r&1024&&(du=!0);break;case 6:if(Ht(i,t),Vt(t),r&4){if(t.stateNode===null)throw Error(l(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(ue){Ye(t,t.return,ue)}}break;case 3:if(Xl=null,m=pn,pn=$l(i.containerInfo),Ht(i,t),pn=m,Vt(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Po(i.containerInfo)}catch(ue){Ye(t,t.return,ue)}du&&(du=!1,qm(t));break;case 4:r=pn,pn=$l(t.stateNode.containerInfo),Ht(i,t),Vt(t),pn=r;break;case 12:Ht(i,t),Vt(t);break;case 31:Ht(i,t),Vt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ul(t,r)));break;case 13:Ht(i,t),Vt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pl=ye()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ul(t,r)));break;case 22:m=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,L=Gn,F=mt;if(Gn=L||m,mt=F||I,Ht(i,t),mt=F,Gn=L,Vt(t),r&8192)e:for(i=t.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(a===null||I||Gn||mt||Vi(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(p=I.stateNode,m)C=p.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{x=I.stateNode;var K=I.memoizedProps.style,G=K!=null&&K.hasOwnProperty("display")?K.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ue){Ye(I,I.return,ue)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=m?"":I.memoizedProps}catch(ue){Ye(I,I.return,ue)}}}else if(i.tag===18){if(a===null){I=i;try{var V=I.stateNode;m?wp(V,!0):wp(I.stateNode,!1)}catch(ue){Ye(I,I.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Ul(t,a))));break;case 19:Ht(i,t),Vt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ul(t,r)));break;case 30:break;case 21:break;default:Ht(i,t),Vt(t)}}function Vt(t){var i=t.flags;if(i&2){try{for(var a,r=t.return;r!==null;){if(Dm(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var m=a.stateNode,p=uu(t);Dl(t,p,m);break;case 5:var C=a.stateNode;a.flags&32&&(io(C,""),a.flags&=-33);var x=uu(t);Dl(t,x,C);break;case 3:case 4:var I=a.stateNode.containerInfo,L=uu(t);cu(t,L,I);break;default:throw Error(l(161))}}catch(F){Ye(t,t.return,F)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function qm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;qm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Hn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Pm(t,i.alternate,i),i=i.sibling}function Vi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ai(4,i,i.return),Vi(i);break;case 1:Cn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&wm(i,i.return,a),Vi(i);break;case 27:wa(i.stateNode);case 26:case 5:Cn(i,i.return),Vi(i);break;case 22:i.memoizedState===null&&Vi(i);break;case 30:Vi(i);break;default:Vi(i)}t=t.sibling}}function Vn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,m=t,p=i,C=p.flags;switch(p.tag){case 0:case 11:case 15:Vn(m,p,a),Ta(4,p);break;case 1:if(Vn(m,p,a),r=p,m=r.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(L){Ye(r,r.return,L)}if(r=p,m=r.updateQueue,m!==null){var x=r.stateNode;try{var I=m.shared.hiddenCallbacks;if(I!==null)for(m.shared.hiddenCallbacks=null,m=0;m<I.length;m++)vf(I[m],x)}catch(L){Ye(r,r.return,L)}}a&&C&64&&Mm(p),Ea(p,p.return);break;case 27:Um(p);case 26:case 5:Vn(m,p,a),a&&r===null&&C&4&&Rm(p),Ea(p,p.return);break;case 12:Vn(m,p,a);break;case 31:Vn(m,p,a),a&&C&4&&Hm(m,p);break;case 13:Vn(m,p,a),a&&C&4&&Vm(m,p);break;case 22:p.memoizedState===null&&Vn(m,p,a),Ea(p,p.return);break;case 30:break;default:Vn(m,p,a)}i=i.sibling}}function fu(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sa(a))}function mu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sa(t))}function hn(t,i,a,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)km(t,i,a,r),i=i.sibling}function km(t,i,a,r){var m=i.flags;switch(i.tag){case 0:case 11:case 15:hn(t,i,a,r),m&2048&&Ta(9,i);break;case 1:hn(t,i,a,r);break;case 3:hn(t,i,a,r),m&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sa(t)));break;case 12:if(m&2048){hn(t,i,a,r),t=i.stateNode;try{var p=i.memoizedProps,C=p.id,x=p.onPostCommit;typeof x=="function"&&x(C,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ye(i,i.return,I)}}else hn(t,i,a,r);break;case 31:hn(t,i,a,r);break;case 13:hn(t,i,a,r);break;case 23:break;case 22:p=i.stateNode,C=i.alternate,i.memoizedState!==null?p._visibility&2?hn(t,i,a,r):Ca(t,i):p._visibility&2?hn(t,i,a,r):(p._visibility|=2,_o(t,i,a,r,(i.subtreeFlags&10256)!==0||!1)),m&2048&&fu(C,i);break;case 24:hn(t,i,a,r),m&2048&&mu(i.alternate,i);break;default:hn(t,i,a,r)}}function _o(t,i,a,r,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=t,C=i,x=a,I=r,L=C.flags;switch(C.tag){case 0:case 11:case 15:_o(p,C,x,I,m),Ta(8,C);break;case 23:break;case 22:var F=C.stateNode;C.memoizedState!==null?F._visibility&2?_o(p,C,x,I,m):Ca(p,C):(F._visibility|=2,_o(p,C,x,I,m)),m&&L&2048&&fu(C.alternate,C);break;case 24:_o(p,C,x,I,m),m&&L&2048&&mu(C.alternate,C);break;default:_o(p,C,x,I,m)}i=i.sibling}}function Ca(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,r=i,m=r.flags;switch(r.tag){case 22:Ca(a,r),m&2048&&fu(r.alternate,r);break;case 24:Ca(a,r),m&2048&&mu(r.alternate,r);break;default:Ca(a,r)}i=i.sibling}}var xa=8192;function Ao(t,i,a){if(t.subtreeFlags&xa)for(t=t.child;t!==null;)Om(t,i,a),t=t.sibling}function Om(t,i,a){switch(t.tag){case 26:Ao(t,i,a),t.flags&xa&&t.memoizedState!==null&&nT(a,pn,t.memoizedState,t.memoizedProps);break;case 5:Ao(t,i,a);break;case 3:case 4:var r=pn;pn=$l(t.stateNode.containerInfo),Ao(t,i,a),pn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=xa,xa=16777216,Ao(t,i,a),xa=r):Ao(t,i,a));break;default:Ao(t,i,a)}}function Fm(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _a(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];vt=r,Ym(r,t)}Fm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jm(t),t=t.sibling}function Jm(t){switch(t.tag){case 0:case 11:case 15:_a(t),t.flags&2048&&ai(9,t,t.return);break;case 3:_a(t);break;case 12:_a(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ll(t)):_a(t);break;default:_a(t)}}function Ll(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];vt=r,Ym(r,t)}Fm(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ai(8,i,i.return),Ll(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ll(i));break;default:Ll(i)}t=t.sibling}}function Ym(t,i){for(;vt!==null;){var a=vt;switch(a.tag){case 0:case 11:case 15:ai(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:sa(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,vt=r;else e:for(a=t;vt!==null;){r=vt;var m=r.sibling,p=r.return;if(Gm(r),r===a){vt=null;break e}if(m!==null){m.return=p,vt=m;break e}vt=p}}}var yS={getCacheForType:function(t){var i=Ct(ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ct(ct).controller.signal}},vS=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ze=null,Re=null,Ue=0,Je=0,Kt=null,li=!1,bo=!1,pu=!1,zn=0,lt=0,si=0,zi=0,hu=0,Xt=0,No=0,Aa=null,zt=null,gu=!1,Pl=0,$m=0,Gl=1/0,Bl=null,ri=null,gt=0,ui=null,Io=null,qn=0,yu=0,vu=null,Km=null,ba=0,Su=null;function Qt(){return(qe&2)!==0&&Ue!==0?Ue&-Ue:P.T!==null?Au():ud()}function Xm(){if(Xt===0)if((Ue&536870912)===0||Pe){var t=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),Xt=t}else Xt=536870912;return t=Yt.current,t!==null&&(t.flags|=32),Xt}function qt(t,i,a){(t===Ze&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Mo(t,0),ci(t,Ue,Xt,!1)),$o(t,a),((qe&2)===0||t!==Ze)&&(t===Ze&&((qe&2)===0&&(zi|=a),lt===4&&ci(t,Ue,Xt,!1)),xn(t))}function Qm(t,i,a){if((qe&6)!==0)throw Error(l(327));var r=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Yo(t,i),m=r?ES(t,i):Eu(t,i,!0),p=r;do{if(m===0){bo&&!r&&ci(t,i,0,!1);break}else{if(a=t.current.alternate,p&&!SS(a)){m=Eu(t,i,!1),p=!1;continue}if(m===2){if(p=i,t.errorRecoveryDisabledLanes&p)var C=0;else C=t.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var x=t;m=Aa;var I=x.current.memoizedState.isDehydrated;if(I&&(Mo(x,C).flags|=256),C=Eu(x,C,!1),C!==2){if(pu&&!I){x.errorRecoveryDisabledLanes|=p,zi|=p,m=4;break e}p=zt,zt=m,p!==null&&(zt===null?zt=p:zt.push.apply(zt,p))}m=C}if(p=!1,m!==2)continue}}if(m===1){Mo(t,0),ci(t,i,0,!0);break}e:{switch(r=t,p=m,p){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:ci(r,i,Xt,!li);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(m=Pl+300-ye(),10<m)){if(ci(r,i,Xt,!li),$a(r,0,!0)!==0)break e;qn=i,r.timeoutHandle=Np(Zm.bind(null,r,a,zt,Bl,gu,i,Xt,zi,No,li,p,"Throttled",-0,0),m);break e}Zm(r,a,zt,Bl,gu,i,Xt,zi,No,li,p,null,-0,0)}}break}while(!0);xn(t)}function Zm(t,i,a,r,m,p,C,x,I,L,F,K,G,V){if(t.timeoutHandle=-1,K=i.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bn},Om(i,p,K);var ue=(p&62914560)===p?Pl-ye():(p&4194048)===p?$m-ye():0;if(ue=iT(K,ue),ue!==null){qn=p,t.cancelPendingCommit=ue(ap.bind(null,t,i,p,a,r,m,C,x,I,F,K,null,G,V)),ci(t,p,C,!L);return}}ap(t,i,p,a,r,m,C,x,I)}function SS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var m=a[r],p=m.getSnapshot;m=m.value;try{if(!Ft(p(),m))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ci(t,i,a,r){i&=~hu,i&=~zi,t.suspendedLanes|=i,t.pingedLanes&=~i,r&&(t.warmLanes|=i),r=t.expirationTimes;for(var m=i;0<m;){var p=31-tt(m),C=1<<p;r[p]=-1,m&=~C}a!==0&&ld(t,a,i)}function Hl(){return(qe&6)===0?(Na(0),!1):!0}function Tu(){if(Re!==null){if(Je===0)var t=Re.return;else t=Re,wn=Ri=null,Gr(t),So=null,ua=0,t=Re;for(;t!==null;)Im(t.alternate,t),t=t.return;Re=null}}function Mo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,VS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qn=0,Tu(),Ze=t,Re=a=In(t.current,null),Ue=i,Je=0,Kt=null,li=!1,bo=Yo(t,i),pu=!1,No=Xt=hu=zi=si=lt=0,zt=Aa=null,gu=!1,(i&8)!==0&&(i|=i&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=i;0<r;){var m=31-tt(r),p=1<<m;i|=t[m],r&=~p}return zn=i,al(),a}function jm(t,i){_e=null,P.H=ya,i===vo||i===ml?(i=pf(),Je=3):i===_r?(i=pf(),Je=4):Je=i===jr?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kt=i,Re===null&&(lt=1,Nl(t,on(i,t.current)))}function Wm(){var t=Yt.current;return t===null?!0:(Ue&4194048)===Ue?rn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===rn:!1}function ep(){var t=P.H;return P.H=ya,t===null?ya:t}function tp(){var t=P.A;return P.A=yS,t}function Vl(){lt=4,li||(Ue&4194048)!==Ue&&Yt.current!==null||(bo=!0),(si&134217727)===0&&(zi&134217727)===0||Ze===null||ci(Ze,Ue,Xt,!1)}function Eu(t,i,a){var r=qe;qe|=2;var m=ep(),p=tp();(Ze!==t||Ue!==i)&&(Bl=null,Mo(t,i)),i=!1;var C=lt;e:do try{if(Je!==0&&Re!==null){var x=Re,I=Kt;switch(Je){case 8:Tu(),C=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(i=!0);var L=Je;if(Je=0,Kt=null,wo(t,x,I,L),a&&bo){C=0;break e}break;default:L=Je,Je=0,Kt=null,wo(t,x,I,L)}}TS(),C=lt;break}catch(F){jm(t,F)}while(!0);return i&&t.shellSuspendCounter++,wn=Ri=null,qe=r,P.H=m,P.A=p,Re===null&&(Ze=null,Ue=0,al()),C}function TS(){for(;Re!==null;)np(Re)}function ES(t,i){var a=qe;qe|=2;var r=ep(),m=tp();Ze!==t||Ue!==i?(Bl=null,Gl=ye()+500,Mo(t,i)):bo=Yo(t,i);e:do try{if(Je!==0&&Re!==null){i=Re;var p=Kt;t:switch(Je){case 1:Je=0,Kt=null,wo(t,i,p,1);break;case 2:case 9:if(ff(p)){Je=0,Kt=null,ip(i);break}i=function(){Je!==2&&Je!==9||Ze!==t||(Je=7),xn(t)},p.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:ff(p)?(Je=0,Kt=null,ip(i)):(Je=0,Kt=null,wo(t,i,p,7));break;case 5:var C=null;switch(Re.tag){case 26:C=Re.memoizedState;case 5:case 27:var x=Re;if(C?kp(C):x.stateNode.complete){Je=0,Kt=null;var I=x.sibling;if(I!==null)Re=I;else{var L=x.return;L!==null?(Re=L,zl(L)):Re=null}break t}}Je=0,Kt=null,wo(t,i,p,5);break;case 6:Je=0,Kt=null,wo(t,i,p,6);break;case 8:Tu(),lt=6;break e;default:throw Error(l(462))}}CS();break}catch(F){jm(t,F)}while(!0);return wn=Ri=null,P.H=r,P.A=m,qe=a,Re!==null?0:(Ze=null,Ue=0,al(),lt)}function CS(){for(;Re!==null&&!ze();)np(Re)}function np(t){var i=bm(t.alternate,t,zn);t.memoizedProps=t.pendingProps,i===null?zl(t):Re=i}function ip(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Tm(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Tm(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Gr(i);default:Im(a,i),i=Re=ef(i,zn),i=bm(a,i,zn)}t.memoizedProps=t.pendingProps,i===null?zl(t):Re=i}function wo(t,i,a,r){wn=Ri=null,Gr(i),So=null,ua=0;var m=i.return;try{if(cS(t,m,i,a,Ue)){lt=1,Nl(t,on(a,t.current)),Re=null;return}}catch(p){if(m!==null)throw Re=m,p;lt=1,Nl(t,on(a,t.current)),Re=null;return}i.flags&32768?(Pe||r===1?t=!0:bo||(Ue&536870912)!==0?t=!1:(li=t=!0,(r===2||r===9||r===3||r===6)&&(r=Yt.current,r!==null&&r.tag===13&&(r.flags|=16384))),op(i,t)):zl(i)}function zl(t){var i=t;do{if((i.flags&32768)!==0){op(i,li);return}t=i.return;var a=mS(i.alternate,i,zn);if(a!==null){Re=a;return}if(i=i.sibling,i!==null){Re=i;return}Re=i=t}while(i!==null);lt===0&&(lt=5)}function op(t,i){do{var a=pS(t.alternate,t);if(a!==null){a.flags&=32767,Re=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Re=t;return}Re=t=a}while(t!==null);lt=6,Re=null}function ap(t,i,a,r,m,p,C,x,I){t.cancelPendingCommit=null;do ql();while(gt!==0);if((qe&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(p=i.lanes|i.childLanes,p|=ur,tv(t,a,p,C,x,I),t===Ze&&(Re=Ze=null,Ue=0),Io=i,ui=t,qn=a,yu=p,vu=m,Km=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bS(ve,function(){return cp(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=P.T,P.T=null,m=Z.p,Z.p=2,C=qe,qe|=4;try{hS(t,i,a)}finally{qe=C,Z.p=m,P.T=r}}gt=1,lp(),sp(),rp()}}function lp(){if(gt===1){gt=0;var t=ui,i=Io,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var r=Z.p;Z.p=2;var m=qe;qe|=4;try{zm(i,t);var p=Uu,C=Jd(t.containerInfo),x=p.focusedElem,I=p.selectionRange;if(C!==x&&x&&x.ownerDocument&&Fd(x.ownerDocument.documentElement,x)){if(I!==null&&or(x)){var L=I.start,F=I.end;if(F===void 0&&(F=L),"selectionStart"in x)x.selectionStart=L,x.selectionEnd=Math.min(F,x.value.length);else{var K=x.ownerDocument||document,G=K&&K.defaultView||window;if(G.getSelection){var V=G.getSelection(),ue=x.textContent.length,pe=Math.min(I.start,ue),Xe=I.end===void 0?pe:Math.min(I.end,ue);!V.extend&&pe>Xe&&(C=Xe,Xe=pe,pe=C);var D=Od(x,pe),M=Od(x,Xe);if(D&&M&&(V.rangeCount!==1||V.anchorNode!==D.node||V.anchorOffset!==D.offset||V.focusNode!==M.node||V.focusOffset!==M.offset)){var U=K.createRange();U.setStart(D.node,D.offset),V.removeAllRanges(),pe>Xe?(V.addRange(U),V.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),V.addRange(U))}}}}for(K=[],V=x;V=V.parentNode;)V.nodeType===1&&K.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<K.length;x++){var Y=K[x];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Wl=!!Du,Uu=Du=null}finally{qe=m,Z.p=r,P.T=a}}t.current=i,gt=2}}function sp(){if(gt===2){gt=0;var t=ui,i=Io,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var r=Z.p;Z.p=2;var m=qe;qe|=4;try{Pm(t,i.alternate,i)}finally{qe=m,Z.p=r,P.T=a}}gt=3}}function rp(){if(gt===4||gt===3){gt=0,ke();var t=ui,i=Io,a=qn,r=Km;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gt=5:(gt=0,Io=ui=null,up(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(ri=null),Vs(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Ne,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=P.T,m=Z.p,Z.p=2,P.T=null;try{for(var p=t.onRecoverableError,C=0;C<r.length;C++){var x=r[C];p(x.value,{componentStack:x.stack})}}finally{P.T=i,Z.p=m}}(qn&3)!==0&&ql(),xn(t),m=t.pendingLanes,(a&261930)!==0&&(m&42)!==0?t===Su?ba++:(ba=0,Su=t):ba=0,Na(0)}}function up(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,sa(i)))}function ql(){return lp(),sp(),rp(),cp()}function cp(){if(gt!==5)return!1;var t=ui,i=yu;yu=0;var a=Vs(qn),r=P.T,m=Z.p;try{Z.p=32>a?32:a,P.T=null,a=vu,vu=null;var p=ui,C=qn;if(gt=0,Io=ui=null,qn=0,(qe&6)!==0)throw Error(l(331));var x=qe;if(qe|=4,Jm(p.current),km(p,p.current,C,a),qe=x,Na(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Ne,p)}catch{}return!0}finally{Z.p=m,P.T=r,up(t,i)}}function dp(t,i,a){i=on(a,i),i=Zr(t.stateNode,i,2),t=ni(t,i,2),t!==null&&($o(t,2),xn(t))}function Ye(t,i,a){if(t.tag===3)dp(t,t,a);else for(;i!==null;){if(i.tag===3){dp(i,t,a);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){t=on(a,t),a=fm(2),r=ni(i,a,2),r!==null&&(mm(a,r,i,t),$o(r,2),xn(r));break}}i=i.return}}function Cu(t,i,a){var r=t.pingCache;if(r===null){r=t.pingCache=new vS;var m=new Set;r.set(i,m)}else m=r.get(i),m===void 0&&(m=new Set,r.set(i,m));m.has(a)||(pu=!0,m.add(a),t=xS.bind(null,t,i,a),i.then(t,t))}function xS(t,i,a){var r=t.pingCache;r!==null&&r.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(Ue&a)===a&&(lt===4||lt===3&&(Ue&62914560)===Ue&&300>ye()-Pl?(qe&2)===0&&Mo(t,0):hu|=a,No===Ue&&(No=0)),xn(t)}function fp(t,i){i===0&&(i=ad()),t=Ii(t,i),t!==null&&($o(t,i),xn(t))}function _S(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),fp(t,a)}function AS(t,i){var a=0;switch(t.tag){case 31:case 13:var r=t.stateNode,m=t.memoizedState;m!==null&&(a=m.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(i),fp(t,a)}function bS(t,i){return be(t,i)}var kl=null,Ro=null,xu=!1,Ol=!1,_u=!1,di=0;function xn(t){t!==Ro&&t.next===null&&(Ro===null?kl=Ro=t:Ro=Ro.next=t),Ol=!0,xu||(xu=!0,IS())}function Na(t,i){if(!_u&&Ol){_u=!0;do for(var a=!1,r=kl;r!==null;){if(t!==0){var m=r.pendingLanes;if(m===0)var p=0;else{var C=r.suspendedLanes,x=r.pingedLanes;p=(1<<31-tt(42|t)+1)-1,p&=m&~(C&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,gp(r,p))}else p=Ue,p=$a(r,r===Ze?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(p&3)===0||Yo(r,p)||(a=!0,gp(r,p));r=r.next}while(a);_u=!1}}function NS(){mp()}function mp(){Ol=xu=!1;var t=0;di!==0&&HS()&&(t=di);for(var i=ye(),a=null,r=kl;r!==null;){var m=r.next,p=pp(r,i);p===0?(r.next=null,a===null?kl=m:a.next=m,m===null&&(Ro=a)):(a=r,(t!==0||(p&3)!==0)&&(Ol=!0)),r=m}gt!==0&&gt!==5||Na(t),di!==0&&(di=0)}function pp(t,i){for(var a=t.suspendedLanes,r=t.pingedLanes,m=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var C=31-tt(p),x=1<<C,I=m[C];I===-1?((x&a)===0||(x&r)!==0)&&(m[C]=ev(x,i)):I<=i&&(t.expiredLanes|=x),p&=~x}if(i=Ze,a=Ue,a=$a(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&xe(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yo(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(r!==null&&xe(r),Vs(a)){case 2:case 8:a=jt;break;case 32:a=ve;break;case 268435456:a=kt;break;default:a=ve}return r=hp.bind(null,t),a=be(a,r),t.callbackPriority=i,t.callbackNode=a,i}return r!==null&&r!==null&&xe(r),t.callbackPriority=2,t.callbackNode=null,2}function hp(t,i){if(gt!==0&&gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ql()&&t.callbackNode!==a)return null;var r=Ue;return r=$a(t,t===Ze?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Qm(t,r,i),pp(t,ye()),t.callbackNode!=null&&t.callbackNode===a?hp.bind(null,t):null)}function gp(t,i){if(ql())return null;Qm(t,i,!0)}function IS(){zS(function(){(qe&6)!==0?be(Mt,NS):mp()})}function Au(){if(di===0){var t=go;t===0&&(t=Fa,Fa<<=1,(Fa&261888)===0&&(Fa=256)),di=t}return di}function yp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Za(""+t)}function vp(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function MS(t,i,a,r,m){if(i==="submit"&&a&&a.stateNode===m){var p=yp((m[Pt]||null).action),C=r.submitter;C&&(i=(i=C[Pt]||null)?yp(i.formAction):C.getAttribute("formAction"),i!==null&&(p=i,C=null));var x=new tl("action","action",null,r,m);t.push({event:x,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(di!==0){var I=C?vp(m,C):new FormData(m);Jr(a,{pending:!0,data:I,method:m.method,action:p},null,I)}}else typeof p=="function"&&(x.preventDefault(),I=C?vp(m,C):new FormData(m),Jr(a,{pending:!0,data:I,method:m.method,action:p},p,I))},currentTarget:m}]})}}for(var bu=0;bu<rr.length;bu++){var Nu=rr[bu],wS=Nu.toLowerCase(),RS=Nu[0].toUpperCase()+Nu.slice(1);mn(wS,"on"+RS)}mn(Kd,"onAnimationEnd"),mn(Xd,"onAnimationIteration"),mn(Qd,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn($v,"onTransitionRun"),mn(Kv,"onTransitionStart"),mn(Xv,"onTransitionCancel"),mn(Zd,"onTransitionEnd"),to("onMouseEnter",["mouseout","mouseover"]),to("onMouseLeave",["mouseout","mouseover"]),to("onPointerEnter",["pointerout","pointerover"]),to("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ia));function Sp(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],m=r.event;r=r.listeners;e:{var p=void 0;if(i)for(var C=r.length-1;0<=C;C--){var x=r[C],I=x.instance,L=x.currentTarget;if(x=x.listener,I!==p&&m.isPropagationStopped())break e;p=x,m.currentTarget=L;try{p(m)}catch(F){ol(F)}m.currentTarget=null,p=I}else for(C=0;C<r.length;C++){if(x=r[C],I=x.instance,L=x.currentTarget,x=x.listener,I!==p&&m.isPropagationStopped())break e;p=x,m.currentTarget=L;try{p(m)}catch(F){ol(F)}m.currentTarget=null,p=I}}}}function De(t,i){var a=i[zs];a===void 0&&(a=i[zs]=new Set);var r=t+"__bubble";a.has(r)||(Tp(i,t,2,!1),a.add(r))}function Iu(t,i,a){var r=0;i&&(r|=4),Tp(a,t,r,i)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function Mu(t){if(!t[Fl]){t[Fl]=!0,fd.forEach(function(a){a!=="selectionchange"&&(DS.has(a)||Iu(a,!1,t),Iu(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Fl]||(i[Fl]=!0,Iu("selectionchange",!1,i))}}function Tp(t,i,a,r){switch(Xp(i)){case 2:var m=lT;break;case 8:m=sT;break;default:m=Fu}a=m.bind(null,i,a,t),m=void 0,!Xs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),r?m!==void 0?t.addEventListener(i,a,{capture:!0,passive:m}):t.addEventListener(i,a,!0):m!==void 0?t.addEventListener(i,a,{passive:m}):t.addEventListener(i,a,!1)}function wu(t,i,a,r,m){var p=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var C=r.tag;if(C===3||C===4){var x=r.stateNode.containerInfo;if(x===m)break;if(C===4)for(C=r.return;C!==null;){var I=C.tag;if((I===3||I===4)&&C.stateNode.containerInfo===m)return;C=C.return}for(;x!==null;){if(C=ji(x),C===null)return;if(I=C.tag,I===5||I===6||I===26||I===27){r=p=C;continue e}x=x.parentNode}}r=r.return}_d(function(){var L=p,F=$s(a),K=[];e:{var G=jd.get(t);if(G!==void 0){var V=tl,ue=t;switch(t){case"keypress":if(Wa(a)===0)break e;case"keydown":case"keyup":V=Av;break;case"focusin":ue="focus",V=Ws;break;case"focusout":ue="blur",V=Ws;break;case"beforeblur":case"afterblur":V=Ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Iv;break;case Kd:case Xd:case Qd:V=gv;break;case Zd:V=wv;break;case"scroll":case"scrollend":V=dv;break;case"wheel":V=Dv;break;case"copy":case"cut":case"paste":V=vv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Md;break;case"toggle":case"beforetoggle":V=Lv}var pe=(i&4)!==0,Xe=!pe&&(t==="scroll"||t==="scrollend"),D=pe?G!==null?G+"Capture":null:G;pe=[];for(var M=L,U;M!==null;){var Y=M;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||D===null||(Y=Qo(M,D),Y!=null&&pe.push(Ma(M,Y,U))),Xe)break;M=M.return}0<pe.length&&(G=new V(G,ue,null,a,F),K.push({event:G,listeners:pe}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",G&&a!==Ys&&(ue=a.relatedTarget||a.fromElement)&&(ji(ue)||ue[Zi]))break e;if((V||G)&&(G=F.window===F?F:(G=F.ownerDocument)?G.defaultView||G.parentWindow:window,V?(ue=a.relatedTarget||a.toElement,V=L,ue=ue?ji(ue):null,ue!==null&&(Xe=c(ue),pe=ue.tag,ue!==Xe||pe!==5&&pe!==27&&pe!==6)&&(ue=null)):(V=null,ue=L),V!==ue)){if(pe=Nd,Y="onMouseLeave",D="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Md,Y="onPointerLeave",D="onPointerEnter",M="pointer"),Xe=V==null?G:Xo(V),U=ue==null?G:Xo(ue),G=new pe(Y,M+"leave",V,a,F),G.target=Xe,G.relatedTarget=U,Y=null,ji(F)===L&&(pe=new pe(D,M+"enter",ue,a,F),pe.target=U,pe.relatedTarget=Xe,Y=pe),Xe=Y,V&&ue)t:{for(pe=US,D=V,M=ue,U=0,Y=D;Y;Y=pe(Y))U++;Y=0;for(var de=M;de;de=pe(de))Y++;for(;0<U-Y;)D=pe(D),U--;for(;0<Y-U;)M=pe(M),Y--;for(;U--;){if(D===M||M!==null&&D===M.alternate){pe=D;break t}D=pe(D),M=pe(M)}pe=null}else pe=null;V!==null&&Ep(K,G,V,pe,!1),ue!==null&&Xe!==null&&Ep(K,Xe,ue,pe,!0)}}e:{if(G=L?Xo(L):window,V=G.nodeName&&G.nodeName.toLowerCase(),V==="select"||V==="input"&&G.type==="file")var Be=Bd;else if(Pd(G))if(Hd)Be=Fv;else{Be=kv;var ce=qv}else V=G.nodeName,!V||V.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?L&&Js(L.elementType)&&(Be=Bd):Be=Ov;if(Be&&(Be=Be(t,L))){Gd(K,Be,a,F);break e}ce&&ce(t,G,L),t==="focusout"&&L&&G.type==="number"&&L.memoizedProps.value!=null&&Fs(G,"number",G.value)}switch(ce=L?Xo(L):window,t){case"focusin":(Pd(ce)||ce.contentEditable==="true")&&(so=ce,ar=L,oa=null);break;case"focusout":oa=ar=so=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,Yd(K,a,F);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":Yd(K,a,F)}var Ae;if(tr)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else lo?Ud(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(wd&&a.locale!=="ko"&&(lo||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&lo&&(Ae=Ad()):(Xn=F,Qs="value"in Xn?Xn.value:Xn.textContent,lo=!0)),ce=Jl(L,Le),0<ce.length&&(Le=new Id(Le,t,null,a,F),K.push({event:Le,listeners:ce}),Ae?Le.data=Ae:(Ae=Ld(a),Ae!==null&&(Le.data=Ae)))),(Ae=Gv?Bv(t,a):Hv(t,a))&&(Le=Jl(L,"onBeforeInput"),0<Le.length&&(ce=new Id("onBeforeInput","beforeinput",null,a,F),K.push({event:ce,listeners:Le}),ce.data=Ae)),MS(K,t,L,a,F)}Sp(K,i)})}function Ma(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Jl(t,i){for(var a=i+"Capture",r=[];t!==null;){var m=t,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Qo(t,a),m!=null&&r.unshift(Ma(t,m,p)),m=Qo(t,i),m!=null&&r.push(Ma(t,m,p))),t.tag===3)return r;t=t.return}return[]}function US(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ep(t,i,a,r,m){for(var p=i._reactName,C=[];a!==null&&a!==r;){var x=a,I=x.alternate,L=x.stateNode;if(x=x.tag,I!==null&&I===r)break;x!==5&&x!==26&&x!==27||L===null||(I=L,m?(L=Qo(a,p),L!=null&&C.unshift(Ma(a,L,I))):m||(L=Qo(a,p),L!=null&&C.push(Ma(a,L,I)))),a=a.return}C.length!==0&&t.push({event:i,listeners:C})}var LS=/\r\n?/g,PS=/\u0000|\uFFFD/g;function Cp(t){return(typeof t=="string"?t:""+t).replace(LS,`
`).replace(PS,"")}function xp(t,i){return i=Cp(i),Cp(t)===i}function Ke(t,i,a,r,m,p){switch(a){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||io(t,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&io(t,""+r);break;case"className":Xa(t,"class",r);break;case"tabIndex":Xa(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Xa(t,a,r);break;case"style":Cd(t,r,p);break;case"data":if(i!=="object"){Xa(t,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Za(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&Ke(t,i,"name",m.name,m,null),Ke(t,i,"formEncType",m.formEncType,m,null),Ke(t,i,"formMethod",m.formMethod,m,null),Ke(t,i,"formTarget",m.formTarget,m,null)):(Ke(t,i,"encType",m.encType,m,null),Ke(t,i,"method",m.method,m,null),Ke(t,i,"target",m.target,m,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Za(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=bn);break;case"onScroll":r!=null&&De("scroll",t);break;case"onScrollEnd":r!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(m.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=Za(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":De("beforetoggle",t),De("toggle",t),Ka(t,"popover",r);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ka(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uv.get(a)||a,Ka(t,a,r))}}function Ru(t,i,a,r,m,p){switch(a){case"style":Cd(t,r,p);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(m.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"children":typeof r=="string"?io(t,r):(typeof r=="number"||typeof r=="bigint")&&io(t,""+r);break;case"onScroll":r!=null&&De("scroll",t);break;case"onScrollEnd":r!=null&&De("scrollend",t);break;case"onClick":r!=null&&(t.onclick=bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!md.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),i=a.slice(2,m?a.length-7:void 0),p=t[Pt]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(i,p,m),typeof r=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,r,m);break e}a in t?t[a]=r:r===!0?t.setAttribute(a,""):Ka(t,a,r)}}}function _t(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var r=!1,m=!1,p;for(p in a)if(a.hasOwnProperty(p)){var C=a[p];if(C!=null)switch(p){case"src":r=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ke(t,i,p,C,a,null)}}m&&Ke(t,i,"srcSet",a.srcSet,a,null),r&&Ke(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var x=p=C=m=null,I=null,L=null;for(r in a)if(a.hasOwnProperty(r)){var F=a[r];if(F!=null)switch(r){case"name":m=F;break;case"type":C=F;break;case"checked":I=F;break;case"defaultChecked":L=F;break;case"value":p=F;break;case"defaultValue":x=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(l(137,i));break;default:Ke(t,i,r,F,a,null)}}vd(t,p,x,I,L,C,m,!1);return;case"select":De("invalid",t),r=C=p=null;for(m in a)if(a.hasOwnProperty(m)&&(x=a[m],x!=null))switch(m){case"value":p=x;break;case"defaultValue":C=x;break;case"multiple":r=x;default:Ke(t,i,m,x,a,null)}i=p,a=C,t.multiple=!!r,i!=null?no(t,!!r,i,!1):a!=null&&no(t,!!r,a,!0);return;case"textarea":De("invalid",t),p=m=r=null;for(C in a)if(a.hasOwnProperty(C)&&(x=a[C],x!=null))switch(C){case"value":r=x;break;case"defaultValue":m=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:Ke(t,i,C,x,a,null)}Td(t,r,m,p);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(r=a[I],r!=null))switch(I){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ke(t,i,I,r,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(r=0;r<Ia.length;r++)De(Ia[r],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(r=a[L],r!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ke(t,i,L,r,a,null)}return;default:if(Js(i)){for(F in a)a.hasOwnProperty(F)&&(r=a[F],r!==void 0&&Ru(t,i,F,r,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(r=a[x],r!=null&&Ke(t,i,x,r,a,null))}function GS(t,i,a,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,C=null,x=null,I=null,L=null,F=null;for(V in a){var K=a[V];if(a.hasOwnProperty(V)&&K!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":I=K;default:r.hasOwnProperty(V)||Ke(t,i,V,null,r,K)}}for(var G in r){var V=r[G];if(K=a[G],r.hasOwnProperty(G)&&(V!=null||K!=null))switch(G){case"type":p=V;break;case"name":m=V;break;case"checked":L=V;break;case"defaultChecked":F=V;break;case"value":C=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,i));break;default:V!==K&&Ke(t,i,G,V,r,K)}}Os(t,C,x,I,L,F,p,m);return;case"select":V=C=x=G=null;for(p in a)if(I=a[p],a.hasOwnProperty(p)&&I!=null)switch(p){case"value":break;case"multiple":V=I;default:r.hasOwnProperty(p)||Ke(t,i,p,null,r,I)}for(m in r)if(p=r[m],I=a[m],r.hasOwnProperty(m)&&(p!=null||I!=null))switch(m){case"value":G=p;break;case"defaultValue":x=p;break;case"multiple":C=p;default:p!==I&&Ke(t,i,m,p,r,I)}i=x,a=C,r=V,G!=null?no(t,!!a,G,!1):!!r!=!!a&&(i!=null?no(t,!!a,i,!0):no(t,!!a,a?[]:"",!1));return;case"textarea":V=G=null;for(x in a)if(m=a[x],a.hasOwnProperty(x)&&m!=null&&!r.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ke(t,i,x,null,r,m)}for(C in r)if(m=r[C],p=a[C],r.hasOwnProperty(C)&&(m!=null||p!=null))switch(C){case"value":G=m;break;case"defaultValue":V=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(l(91));break;default:m!==p&&Ke(t,i,C,m,r,p)}Sd(t,G,V);return;case"option":for(var ue in a)if(G=a[ue],a.hasOwnProperty(ue)&&G!=null&&!r.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:Ke(t,i,ue,null,r,G)}for(I in r)if(G=r[I],V=a[I],r.hasOwnProperty(I)&&G!==V&&(G!=null||V!=null))switch(I){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ke(t,i,I,G,r,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)G=a[pe],a.hasOwnProperty(pe)&&G!=null&&!r.hasOwnProperty(pe)&&Ke(t,i,pe,null,r,G);for(L in r)if(G=r[L],V=a[L],r.hasOwnProperty(L)&&G!==V&&(G!=null||V!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,i));break;default:Ke(t,i,L,G,r,V)}return;default:if(Js(i)){for(var Xe in a)G=a[Xe],a.hasOwnProperty(Xe)&&G!==void 0&&!r.hasOwnProperty(Xe)&&Ru(t,i,Xe,void 0,r,G);for(F in r)G=r[F],V=a[F],!r.hasOwnProperty(F)||G===V||G===void 0&&V===void 0||Ru(t,i,F,G,r,V);return}}for(var D in a)G=a[D],a.hasOwnProperty(D)&&G!=null&&!r.hasOwnProperty(D)&&Ke(t,i,D,null,r,G);for(K in r)G=r[K],V=a[K],!r.hasOwnProperty(K)||G===V||G==null&&V==null||Ke(t,i,K,G,r,V)}function _p(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var m=a[r],p=m.transferSize,C=m.initiatorType,x=m.duration;if(p&&x&&_p(C)){for(C=0,x=m.responseEnd,r+=1;r<a.length;r++){var I=a[r],L=I.startTime;if(L>x)break;var F=I.transferSize,K=I.initiatorType;F&&_p(K)&&(I=I.responseEnd,C+=F*(I<x?1:(x-L)/(I-L)))}if(--r,i+=8*(p+C)/(m.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Du=null,Uu=null;function Yl(t){return t.nodeType===9?t:t.ownerDocument}function Ap(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Lu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pu=null;function HS(){var t=window.event;return t&&t.type==="popstate"?t===Pu?!1:(Pu=t,!0):(Pu=null,!1)}var Np=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,zS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(t){return Ip.resolve(null).then(t).catch(qS)}:Np;function qS(t){setTimeout(function(){throw t})}function fi(t){return t==="head"}function Mp(t,i){var a=i,r=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(r===0){t.removeChild(m),Po(i);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")wa(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wa(a);for(var p=a.firstChild;p;){var C=p.nextSibling,x=p.nodeName;p[Ko]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=C}}else a==="body"&&wa(t.ownerDocument.body);a=m}while(a);Po(i)}function wp(t,i){var a=t;t=0;do{var r=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=r}while(a)}function Gu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gu(a),qs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kS(t,i,a,r){for(;t.nodeType===1;){var m=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ko])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=un(t.nextSibling),t===null)break}return null}function OS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=un(t.nextSibling),t===null))return null;return t}function Rp(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=un(t.nextSibling),t===null))return null;return t}function Bu(t){return t.data==="$?"||t.data==="$~"}function Hu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function FS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var r=function(){i(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Vu=null;function Dp(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return un(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Up(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Lp(t,i,a){switch(i=Yl(a),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function wa(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);qs(t)}var cn=new Map,Pp=new Set;function $l(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var kn=Z.d;Z.d={f:JS,r:YS,D:$S,C:KS,L:XS,m:QS,X:jS,S:ZS,M:WS};function JS(){var t=kn.f(),i=Hl();return t||i}function YS(t){var i=Wi(t);i!==null&&i.tag===5&&i.type==="form"?jf(i):kn.r(t)}var Do=typeof document>"u"?null:document;function Gp(t,i,a){var r=Do;if(r&&typeof i=="string"&&i){var m=tn(i);m='link[rel="'+t+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),Pp.has(m)||(Pp.add(m),t={rel:t,crossOrigin:a,href:i},r.querySelector(m)===null&&(i=r.createElement("link"),_t(i,"link",t),yt(i),r.head.appendChild(i)))}}function $S(t){kn.D(t),Gp("dns-prefetch",t,null)}function KS(t,i){kn.C(t,i),Gp("preconnect",t,i)}function XS(t,i,a){kn.L(t,i,a);var r=Do;if(r&&t&&i){var m='link[rel="preload"][as="'+tn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+tn(a.imageSizes)+'"]')):m+='[href="'+tn(t)+'"]';var p=m;switch(i){case"style":p=Uo(t);break;case"script":p=Lo(t)}cn.has(p)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),cn.set(p,t),r.querySelector(m)!==null||i==="style"&&r.querySelector(Ra(p))||i==="script"&&r.querySelector(Da(p))||(i=r.createElement("link"),_t(i,"link",t),yt(i),r.head.appendChild(i)))}}function QS(t,i){kn.m(t,i);var a=Do;if(a&&t){var r=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+tn(r)+'"][href="'+tn(t)+'"]',p=m;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Lo(t)}if(!cn.has(p)&&(t=E({rel:"modulepreload",href:t},i),cn.set(p,t),a.querySelector(m)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Da(p)))return}r=a.createElement("link"),_t(r,"link",t),yt(r),a.head.appendChild(r)}}}function ZS(t,i,a){kn.S(t,i,a);var r=Do;if(r&&t){var m=eo(r).hoistableStyles,p=Uo(t);i=i||"default";var C=m.get(p);if(!C){var x={loading:0,preload:null};if(C=r.querySelector(Ra(p)))x.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=cn.get(p))&&zu(t,a);var I=C=r.createElement("link");yt(I),_t(I,"link",t),I._p=new Promise(function(L,F){I.onload=L,I.onerror=F}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Kl(C,i,r)}C={type:"stylesheet",instance:C,count:1,state:x},m.set(p,C)}}}function jS(t,i){kn.X(t,i);var a=Do;if(a&&t){var r=eo(a).hoistableScripts,m=Lo(t),p=r.get(m);p||(p=a.querySelector(Da(m)),p||(t=E({src:t,async:!0},i),(i=cn.get(m))&&qu(t,i),p=a.createElement("script"),yt(p),_t(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(m,p))}}function WS(t,i){kn.M(t,i);var a=Do;if(a&&t){var r=eo(a).hoistableScripts,m=Lo(t),p=r.get(m);p||(p=a.querySelector(Da(m)),p||(t=E({src:t,async:!0,type:"module"},i),(i=cn.get(m))&&qu(t,i),p=a.createElement("script"),yt(p),_t(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(m,p))}}function Bp(t,i,a,r){var m=(m=Ce.current)?$l(m):null;if(!m)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Uo(a.href),a=eo(m).hoistableStyles,r=a.get(i),r||(r={type:"style",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Uo(a.href);var p=eo(m).hoistableStyles,C=p.get(t);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,C),(p=m.querySelector(Ra(t)))&&!p._p&&(C.instance=p,C.state.loading=5),cn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},cn.set(t,a),p||eT(m,t,a,C.state))),i&&r===null)throw Error(l(528,""));return C}if(i&&r!==null)throw Error(l(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Lo(a),a=eo(m).hoistableScripts,r=a.get(i),r||(r={type:"script",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Uo(t){return'href="'+tn(t)+'"'}function Ra(t){return'link[rel="stylesheet"]['+t+"]"}function Hp(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function eT(t,i,a,r){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=t.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),_t(i,"link",a),yt(i),t.head.appendChild(i))}function Lo(t){return'[src="'+tn(t)+'"]'}function Da(t){return"script[async]"+t}function Vp(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var r=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(r)return i.instance=r,yt(r),r;var m=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),yt(r),_t(r,"style",m),Kl(r,a.precedence,t),i.instance=r;case"stylesheet":m=Uo(a.href);var p=t.querySelector(Ra(m));if(p)return i.state.loading|=4,i.instance=p,yt(p),p;r=Hp(a),(m=cn.get(m))&&zu(r,m),p=(t.ownerDocument||t).createElement("link"),yt(p);var C=p;return C._p=new Promise(function(x,I){C.onload=x,C.onerror=I}),_t(p,"link",r),i.state.loading|=4,Kl(p,a.precedence,t),i.instance=p;case"script":return p=Lo(a.src),(m=t.querySelector(Da(p)))?(i.instance=m,yt(m),m):(r=a,(m=cn.get(p))&&(r=E({},a),qu(r,m)),t=t.ownerDocument||t,m=t.createElement("script"),yt(m),_t(m,"link",r),t.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,Kl(r,a.precedence,t));return i.instance}function Kl(t,i,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=r.length?r[r.length-1]:null,p=m,C=0;C<r.length;C++){var x=r[C];if(x.dataset.precedence===i)p=x;else if(p!==m)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function zu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function qu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Xl=null;function zp(t,i,a){if(Xl===null){var r=new Map,m=Xl=new Map;m.set(a,r)}else m=Xl,r=m.get(a),r||(r=new Map,m.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),m=0;m<a.length;m++){var p=a[m];if(!(p[Ko]||p[Tt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var C=p.getAttribute(i)||"";C=t+C;var x=r.get(C);x?x.push(p):r.set(C,[p])}}return r}function qp(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function tT(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function kp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function nT(t,i,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Uo(r.href),p=i.querySelector(Ra(m));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Ql.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=p,yt(p);return}p=i.ownerDocument||i,r=Hp(r),(m=cn.get(m))&&zu(r,m),p=p.createElement("link"),yt(p);var C=p;C._p=new Promise(function(x,I){C.onload=x,C.onerror=I}),_t(p,"link",r),a.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ql.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var ku=0;function iT(t,i){return t.stylesheets&&t.count===0&&jl(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var r=setTimeout(function(){if(t.stylesheets&&jl(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+i);0<t.imgBytes&&ku===0&&(ku=62500*BS());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&jl(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>ku?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(m)}}:null}function Ql(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zl=null;function jl(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zl=new Map,i.forEach(oT,t),Zl=null,Ql.call(t))}function oT(t,i){if(!(i.state.loading&4)){var a=Zl.get(t);if(a)var r=a.get(null);else{a=new Map,Zl.set(t,a);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var C=m[p];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(a.set(C.dataset.precedence,C),r=C)}r&&a.set(null,r)}m=i.instance,C=m.getAttribute("data-precedence"),p=a.get(C)||r,p===r&&a.set(null,m),a.set(C,m),this.count++,r=Ql.bind(this),m.addEventListener("load",r),m.addEventListener("error",r),p?p.parentNode.insertBefore(m,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),i.state.loading|=4}}var Ua={$$typeof:k,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function aT(t,i,a,r,m,p,C,x,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bs(0),this.hiddenUpdates=Bs(null),this.identifierPrefix=r,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Op(t,i,a,r,m,p,C,x,I,L,F,K){return t=new aT(t,i,a,C,I,L,F,K,x),i=1,p===!0&&(i|=24),p=Jt(3,null,null,i),t.current=p,p.stateNode=t,i=Er(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:r,isDehydrated:a,cache:i},Ar(p),t}function Fp(t){return t?(t=co,t):co}function Jp(t,i,a,r,m,p){m=Fp(m),r.context===null?r.context=m:r.pendingContext=m,r=ti(i),r.payload={element:a},p=p===void 0?null:p,p!==null&&(r.callback=p),a=ni(t,r,i),a!==null&&(qt(a,t,i),da(a,t,i))}function Yp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ou(t,i){Yp(t,i),(t=t.alternate)&&Yp(t,i)}function $p(t){if(t.tag===13||t.tag===31){var i=Ii(t,67108864);i!==null&&qt(i,t,67108864),Ou(t,67108864)}}function Kp(t){if(t.tag===13||t.tag===31){var i=Qt();i=Hs(i);var a=Ii(t,i);a!==null&&qt(a,t,i),Ou(t,i)}}var Wl=!0;function lT(t,i,a,r){var m=P.T;P.T=null;var p=Z.p;try{Z.p=2,Fu(t,i,a,r)}finally{Z.p=p,P.T=m}}function sT(t,i,a,r){var m=P.T;P.T=null;var p=Z.p;try{Z.p=8,Fu(t,i,a,r)}finally{Z.p=p,P.T=m}}function Fu(t,i,a,r){if(Wl){var m=Ju(r);if(m===null)wu(t,i,r,es,a),Qp(t,r);else if(uT(m,t,i,a,r))r.stopPropagation();else if(Qp(t,r),i&4&&-1<rT.indexOf(t)){for(;m!==null;){var p=Wi(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var C=xi(p.pendingLanes);if(C!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;C;){var I=1<<31-tt(C);x.entanglements[1]|=I,C&=~I}xn(p),(qe&6)===0&&(Gl=ye()+500,Na(0))}}break;case 31:case 13:x=Ii(p,2),x!==null&&qt(x,p,2),Hl(),Ou(p,2)}if(p=Ju(r),p===null&&wu(t,i,r,es,a),p===m)break;m=p}m!==null&&r.stopPropagation()}else wu(t,i,r,null,a)}}function Ju(t){return t=$s(t),Yu(t)}var es=null;function Yu(t){if(es=null,t=ji(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return es=t,null}function Xp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case Mt:return 2;case jt:return 8;case ve:case ht:return 32;case kt:return 268435456;default:return 32}default:return 32}}var $u=!1,mi=null,pi=null,hi=null,La=new Map,Pa=new Map,gi=[],rT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qp(t,i){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":La.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(i.pointerId)}}function Ga(t,i,a,r,m,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:a,eventSystemFlags:r,nativeEvent:p,targetContainers:[m]},i!==null&&(i=Wi(i),i!==null&&$p(i)),t):(t.eventSystemFlags|=r,i=t.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),t)}function uT(t,i,a,r,m){switch(i){case"focusin":return mi=Ga(mi,t,i,a,r,m),!0;case"dragenter":return pi=Ga(pi,t,i,a,r,m),!0;case"mouseover":return hi=Ga(hi,t,i,a,r,m),!0;case"pointerover":var p=m.pointerId;return La.set(p,Ga(La.get(p)||null,t,i,a,r,m)),!0;case"gotpointercapture":return p=m.pointerId,Pa.set(p,Ga(Pa.get(p)||null,t,i,a,r,m)),!0}return!1}function Zp(t){var i=ji(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,cd(t.priority,function(){Kp(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,cd(t.priority,function(){Kp(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ts(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ju(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);Ys=r,a.target.dispatchEvent(r),Ys=null}else return i=Wi(a),i!==null&&$p(i),t.blockedOn=a,!1;i.shift()}return!0}function jp(t,i,a){ts(t)&&a.delete(i)}function cT(){$u=!1,mi!==null&&ts(mi)&&(mi=null),pi!==null&&ts(pi)&&(pi=null),hi!==null&&ts(hi)&&(hi=null),La.forEach(jp),Pa.forEach(jp)}function ns(t,i){t.blockedOn===i&&(t.blockedOn=null,$u||($u=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,cT)))}var is=null;function Wp(t){is!==t&&(is=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){is===t&&(is=null);for(var i=0;i<t.length;i+=3){var a=t[i],r=t[i+1],m=t[i+2];if(typeof r!="function"){if(Yu(r||a)===null)continue;break}var p=Wi(a);p!==null&&(t.splice(i,3),i-=3,Jr(p,{pending:!0,data:m,method:a.method,action:r},r,m))}}))}function Po(t){function i(I){return ns(I,t)}mi!==null&&ns(mi,t),pi!==null&&ns(pi,t),hi!==null&&ns(hi,t),La.forEach(i),Pa.forEach(i);for(var a=0;a<gi.length;a++){var r=gi[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<gi.length&&(a=gi[0],a.blockedOn===null);)Zp(a),a.blockedOn===null&&gi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var m=a[r],p=a[r+1],C=m[Pt]||null;if(typeof p=="function")C||Wp(a);else if(C){var x=null;if(p&&p.hasAttribute("formAction")){if(m=p,C=p[Pt]||null)x=C.formAction;else if(Yu(m)!==null)continue}else x=C.action;typeof x=="function"?a[r+1]=x:(a.splice(r,3),r-=3),Wp(a)}}}function eh(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(C){return m=C})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function Ku(t){this._internalRoot=t}os.prototype.render=Ku.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var a=i.current,r=Qt();Jp(a,r,t,i,null,null)},os.prototype.unmount=Ku.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Jp(t.current,2,null,t,null,null),Hl(),i[Zi]=null}};function os(t){this._internalRoot=t}os.prototype.unstable_scheduleHydration=function(t){if(t){var i=ud();t={blockedOn:null,target:t,priority:i};for(var a=0;a<gi.length&&i!==0&&i<gi[a].priority;a++);gi.splice(a,0,t),a===0&&Zp(t)}};var th=e.version;if(th!=="19.2.4")throw Error(l(527,th,"19.2.4"));Z.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=h(i),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var dT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var as=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!as.isDisabled&&as.supportsFiber)try{Ne=as.inject(dT),Fe=as}catch{}}return Ha.createRoot=function(t,i){if(!s(t))throw Error(l(299));var a=!1,r="",m=rm,p=um,C=cm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=Op(t,1,!1,null,null,a,r,null,m,p,C,eh),t[Zi]=i.current,Mu(t),new Ku(i)},Ha.hydrateRoot=function(t,i,a){if(!s(t))throw Error(l(299));var r=!1,m="",p=rm,C=um,x=cm,I=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(C=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=Op(t,1,!0,i,a??null,r,m,I,p,C,x,eh),i.context=Fp(null),a=i.current,r=Qt(),r=Hs(r),m=ti(r),m.callback=null,ni(a,m,r),a=r,i.current.lanes=a,$o(i,a),xn(i),t[Zi]=i.current,Mu(t),new os(i)},Ha.version="19.2.4",Ha}var dh;function ET(){if(dh)return Zu.exports;dh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zu.exports=TT(),Zu.exports}var CT=ET();const xT=Ty(CT);var Qe=(n=>(n[n.SETUP=0]="SETUP",n[n.MATCHMAKING=1]="MATCHMAKING",n[n.LIVE_FIGHT=2]="LIVE_FIGHT",n[n.RESULTS=3]="RESULTS",n[n.TOURNAMENT_RESULTS=4]="TOURNAMENT_RESULTS",n))(Qe||{}),Oi=(n=>(n.LISO="Liso",n.PAVA="pava",n))(Oi||{}),gn=(n=>(n.POLLO="Pollo",n.GALLO="Gallo",n))(gn||{});const Vc=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),v.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),v.jsx("path",{d:"M4 22h16"}),v.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21A2.5 2.5 0 0 1 7.5 18c-1.93 0-3.5-1.57-3.5-3.5V9c0-2.65 2.15-5 5-5h3c2.85 0 5 2.35 5 5v5.5c0 1.93-1.57 3.5-3.5 3.5a2.5 2.5 0 0 1-1.53-.79c-.5-.23-.97-.66-.97-1.21v-2.34"})]}),fc=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M18.5 2.5c1.4 1.4 1.4 3.7 0 5.1l-6.5 6.5-4-4L14.5.5c1.4-1.4 3.7-1.4 5.1 0zM8 8l-6 6"}),v.jsx("path",{d:"M10 12l6 6"}),v.jsx("path",{d:"M22 22l-6-6"}),v.jsx("path",{d:"M2 12l6-6"})]}),Ey=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),v.jsx("circle",{cx:"9",cy:"7",r:"4"}),v.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),v.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),_T=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),v.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),fh=({className:n})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),AT=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M17 2l4 4-4 4"}),v.jsx("path",{d:"M3 11v-1a4 4 0 0 1 4-4h14"}),v.jsx("path",{d:"M7 22l-4-4 4-4"}),v.jsx("path",{d:"M21 13v1a4 4 0 0 1-4 4H3"})]}),Cy=({className:n})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"20 6 9 17 4 12"})}),ps=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),bs=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),mc=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polyline",{points:"3 6 5 6 21 6"}),v.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),v.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),v.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),pc=({className:n})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),xy=({className:n})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"6 9 12 15 18 9"})}),bT=({className:n})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})}),NT=({className:n,title:e})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e&&v.jsx("title",{children:e}),v.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),v.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),v.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),zc=({isOpen:n,onClose:e,title:o,children:l,size:s="default",headerContent:c})=>{if(!n)return null;const f=s==="wide"?"max-w-4xl":"max-w-lg";return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4",children:v.jsxs("div",{className:`bg-gray-800 rounded-2xl shadow-2xl w-full ${f} border border-gray-700 transform transition-all scale-95 hover:scale-100 duration-300`,children:[v.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-700",children:[v.jsx("div",{className:"text-xl font-bold text-amber-400 flex items-center flex-grow min-w-0",children:o}),v.jsxs("div",{className:"flex items-center space-x-4 ml-4",children:[c,v.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:v.jsx(ps,{className:"w-6 h-6"})})]})]}),v.jsx("div",{className:"p-6",children:l})]})})},mh={1:[{ageMonths:9,displayText:"Ao 2025 - 9 meses"}],2:[{ageMonths:8,displayText:"Ao 2025 - 8 meses"}],3:[{ageMonths:7,displayText:"Ao 2025 - 7 meses"}],4:[{ageMonths:6,displayText:"Ao 2025 - 6 meses"},{ageMonths:18,displayText:"Ao 2024 - 18 meses"}],5:[{ageMonths:5,displayText:"Ao 2025 - 5 meses"},{ageMonths:17,displayText:"Ao 2024 - 17 meses"}],6:[{ageMonths:4,displayText:"Ao 2025 - 4 meses"},{ageMonths:16,displayText:"Ao 2024 - 16 meses"}],7:[{ageMonths:3,displayText:"Ao 2025 - 3 meses"},{ageMonths:15,displayText:"Ao 2024 - 15 meses"}],8:[{ageMonths:2,displayText:"Ao 2025 - 2 meses"},{ageMonths:14,displayText:"Ao 2024 - 14 meses"}],9:[{ageMonths:13,displayText:"Ao 2024 - 13 meses"}],10:[{ageMonths:12,displayText:"Ao 2024 - 12 meses"}],11:[{ageMonths:11,displayText:"Ao 2024 - 11 meses"}],12:[{ageMonths:10,displayText:"Ao 2024 - 10 meses"}]},IT={departamentos:[{departamento:"Amazonas",ciudades:["Leticia","Puerto Nario"]},{departamento:"Antioquia",ciudades:["Abejorral","Abriaqu","Alejandra","Amag","Amalfi","Andes","Angelpolis","Angostura","Anor","Anz","Apartad","Arboletes","Argelia","Armenia","Barbosa","Bello","Belmira","Betania","Betulia","Briceo","Buritic","Cceres","Caicedo","Caldas","Campamento","Caasgordas","Caracol","Caramanta","Carepa","Carolina del Prncipe","Caucasia","Chigorod","Cisneros","Ciudad Bolvar","Cocorn","Concepcin","Concordia","Copacabana","Dabeiba","Donmatas","Ebjico","El Bagre","El Carmen de Viboral","El Peol","El Retiro","El Santuario","Entrerros","Envigado","Fredonia","Frontino","Giraldo","Girardota","Gmez Plata","Granada","Guadalupe","Guarne","Guatap","Heliconia","Hispania","Itag","Ituango","Jardn","Jeric","La Ceja","La Estrella","La Pintada","La Unin","Liborina","Maceo","Marinilla","Medelln","Montebello","Murind","Mutat","Nario","Nech","Necocl","Olaya","Peque","Pueblorrico","Puerto Berro","Puerto Nare","Puerto Triunfo","Remedios","Rionegro","Sabanalarga","Sabaneta","Salgar","San Andrs de Cuerquia","San Carlos","San Francisco","San Jernimo","San Jos de la Montaa","San Juan de Urab","San Luis","San Pedro de los Milagros","San Pedro de Urab","San Rafael","San Roque","San Vicente","Santa Brbara","Santa Fe de Antioquia","Santa Rosa de Osos","Santo Domingo","Segovia","Sonsn","Sopetrn","Tmesis","Taraz","Tarso","Titirib","Toledo","Turbo","Uramita","Urrao","Valdivia","Valparaso","Vegach","Venecia","Viga del Fuerte","Yal","Yarumal","Yolomb","Yond","Zaragoza"]},{departamento:"Arauca",ciudades:["Arauca","Arauquita","Cravo Norte","Fortul","Puerto Rondn","Saravena","Tame"]},{departamento:"Atlntico",ciudades:["Baranoa","Barranquilla","Campo de la Cruz","Candelaria","Galapa","Juan de Acosta","Luruaco","Malambo","Manat","Palmar de Varela","Pioj","Polonuevo","Ponedera","Puerto Colombia","Repeln","Sabanagrande","Sabanalarga","Santa Luca","Santo Toms","Soledad","Sun","Tubar","Usiacur"]},{departamento:"Bogot D.C.",ciudades:["Bogot"]},{departamento:"Bolvar",ciudades:["Ach","Altos del Rosario","Arenal","Arjona","Arroyohondo","Barranco de Loba","Brazuelo de Papayal","Calamar","Cantagallo","Cartagena de Indias","Cicuco","Clemencia","Crdoba","El Carmen de Bolvar","El Guamo","El Pen","Hatillo de Loba","Magangu","Mahates","Margarita","Mara La Baja","Momps","Montecristo","Morales","Noros","Pinillos","Regidor","Ro Viejo","San Cristbal","San Estanislao","San Fernando","San Jacinto","San Jacinto del Cauca","San Juan Nepomuceno","San Martn de Loba","San Pablo","Santa Catalina","Santa Cruz de Mompox","Santa Rosa","Santa Rosa del Sur","Simit","Soplaviento","Talaigua Nuevo","Tiquisio","Turbaco","Turban","Villanueva","Zambrano"]},{departamento:"Boyac",ciudades:["Almeida","Aquitania","Arcabuco","Beln","Berbeo","Betitiva","Boavita","Boyac","Briceo","Buenavista","Busbanz","Caldas","Campohermoso","Cerinza","Chinavita","Chiquinquir","Chquiza","Chiscas","Chita","Chitaraque","Chivat","Chivor","Cinega","Cmbita","Coper","Corrales","Covaracha","Cubar","Cucaita","Cutiva","Duitama","El Cocuy","El Espino","Firavitoba","Floresta","Gachantiv","Gmeza","Garagoa","Guacamayas","Guateque","Guayat","Gicn","Iza","Jenesano","Jeric","La Capilla","La Uvita","La Victoria","Labranzagrande","Macanal","Marip","Miraflores","Mongua","Mongu","Moniquir","Motavita","Muzo","Nobsa","Nuevo Coln","Oicat","Otanche","Pachavita","Pez","Paipa","Pajarito","Panqueba","Pauna","Paya","Paz de Ro","Pesca","Pisba","Puerto Boyac","Qupama","Ramiriqu","Rquira","Rondn","Saboy","Schica","Samac","San Eduardo","San Jos de Pare","San Luis de Gaceno","San Mateo","San Miguel de Sema","San Pablo de Borbur","Santa Mara","Santa Rosa de Viterbo","Santa Sofa","Santana","Sativanorte","Sativasur","Siachoque","Soat","Socha","Socot","Sogamoso","Somondoco","Sora","Sorac","Sotaquir","Susacn","Sutamarchn","Sutatenza","Tasco","Tenza","Tiban","Tibasosa","Tinjac","Tipacoque","Toca","Tog","Tpaga","Tota","Tunja","Tunungu","Turmequ","Tuta","Tutaz","mbita","Ventaquemada","Villa de Leyva","Viracach","Zetaquira"]},{departamento:"Caldas",ciudades:["Aguadas","Anserma","Aranzazu","Belalczar","Chinchin","Filadelfia","La Dorada","La Merced","Manizales","Manzanares","Marmato","Marquetalia","Marulanda","Neira","Norcasia","Pcora","Palestina","Pensilvania","Riosucio","Risaralda","Salamina","Saman","San Jos","Supa","Victoria","Villamara","Viterbo"]},{departamento:"Caquet",ciudades:["Albania","Beln de los Andaques","Cartagena del Chair","Curillo","El Doncello","El Paujil","Florencia","La Montaita","Miln","Morelia","Puerto Rico","San Jos del Fragua","San Vicente del Cagun","Solano","Solita","Valparaso"]},{departamento:"Casanare",ciudades:["Aguazul","Chmeza","Hato Corozal","La Salina","Man","Monterrey","Nuncha","Orocu","Paz de Ariporo","Pore","Recetor","Sabanalarga","Scama","San Luis de Palenque","Tmara","Tauramena","Trinidad","Villanueva","Yopal"]},{departamento:"Cauca",ciudades:["Almaguer","Argelia","Balboa","Bolvar","Buenos Aires","Cajibo","Caldono","Caloto","Corinto","El Tambo","Florencia","Guachen","Guap","Inz","Jambal","La Sierra","La Vega","Lpez de Micay","Mercaderes","Miranda","Morales","Padilla","Pez","Pata","Piamonte","Piendam","Popayn","Puerto Tejada","Purac","Rosas","San Sebastin","Santa Rosa","Santander de Quilichao","Silvia","Sotar","Surez","Sucre","Timbo","Timbiqu","Toribo","Totor","Villa Rica"]},{departamento:"Cesar",ciudades:["Aguachica","Agustn Codazzi","Astrea","Becerril","Bosconia","Chimichagua","Chiriguan","Curuman","El Copey","El Paso","Gamarra","Gonzlez","La Gloria","La Jagua de Ibirico","La Paz","Manaure Balcn del Cesar","Pailitas","Pelaya","Pueblo Bello","Ro de Oro","San Alberto","San Diego","San Martn","Tamalameque","Valledupar"]},{departamento:"Choc",ciudades:["Acand","Alto Baud","Atrato","Bagad","Baha Solano","Bajo Baud","Bojay","Carmen del Darin","Crtegui","Condoto","El Cantn del San Pablo","El Carmen de Atrato","El Litoral del San Juan","Istmina","Jurad","Llor","Medio Atrato","Medio Baud","Medio San Juan","Nvita","Nuqu","Quibd","Riosucio","Ro Ir","Ro Quito","San Jos del Palmar","Sip","Tad","Ungua","Unin Panamericana"]},{departamento:"Crdoba",ciudades:["Ayapel","Buenavista","Canalete","Ceret","Chim","Chin","Cinaga de Oro","Cotorra","La Apartada","Lorica","Los Crdobas","Momil","Montelbano","Montera","Moitos","Planeta Rica","Pueblo Nuevo","Puerto Escondido","Puerto Libertador","Pursima","Sahagn","San Andrs de Sotavento","San Antero","San Bernardo del Viento","San Carlos","San Jos de Ur","San Pelayo","Santa Cruz de Lorica","Tierralta","Tuchn","Valencia"]},{departamento:"Cundinamarca",ciudades:["Agua de Dios","Albn","Anapoima","Anolaima","Apulo","Arbelez","Beltrn","Bituima","Bojac","Cabrera","Cachipay","Cajic","Caparrap","Cqueza","Carmen de Carupa","Chaguan","Cha","Chipaque","Choach","Chocont","Cogua","Cota","Cucunub","El Colegio","El Pen","El Rosal","Facatativ","Fmeque","Fosca","Funza","Fquene","Fusagasug","Gachal","Gachancip","Gachet","Gama","Girardot","Granada","Guachet","Guaduas","Guasca","Guataqu","Guatavita","Guayabal de Squima","Guayabetal","Gutirrez","Jerusaln","Junn","La Calera","La Mesa","La Palma","La Pea","La Vega","Lenguazaque","Machet","Madrid","Manta","Medina","Mosquera","Nario","Nemocn","Nilo","Nimaima","Nocaima","Pacho","Paime","Pandi","Paratebueno","Pasca","Puerto Salgar","Pul","Quebradanegra","Quetame","Quipile","Ricaurte","San Antonio del Tequendama","San Bernardo","San Cayetano","San Francisco","San Juan de Rioseco","Sasaima","Sesquil","Sibat","Silvania","Simijaca","Soacha","Sop","Subachoque","Suesca","Supat","Susa","Sutatausa","Tabio","Tausa","Tena","Tenjo","Tibacuy","Tibirita","Tocaima","Tocancip","Topaip","Ubal","Ubaque","Ubat","Une","tica","Venecia","Vergara","Vian","Villagmez","Villapinzn","Villeta","Viot","Yacop","Zipacn","Zipaquir"]},{departamento:"Guaina",ciudades:["Inrida"]},{departamento:"Guaviare",ciudades:["Calamar","El Retorno","Miraflores","San Jos del Guaviare"]},{departamento:"Huila",ciudades:["Acevedo","Agrado","Aipe","Algeciras","Altamira","Baraya","Campoalegre","Colombia","Elas","Garzn","Gigante","Guadalupe","Hobo","quira","Isnos","La Argentina","La Plata","Ntaga","Neiva","Oporapa","Paicol","Palermo","Palestina","Pital","Pitalito","Rivera","Saladoblanco","San Agustn","Santa Mara","Suaza","Tarqui","Tello","Teruel","Tesalia","Timan","Villavieja","Yaguar"]},{departamento:"La Guajira",ciudades:["Albania","Barrancas","Dibulla","Distraccin","El Molino","Fonseca","Hatonuevo","La Jagua del Pilar","Maicao","Manaure","Riohacha","San Juan del Cesar","Uribia","Urumita","Villanueva"]},{departamento:"Magdalena",ciudades:["Algarrobo","Aracataca","Ariguan","Cerro de San Antonio","Chivolo","Cinaga","Concordia","El Banco","El Pin","El Retn","Fundacin","Guamal","Nueva Granada","Pedraza","Pijio del Carmen","Pivijay","Plato","Puebloviejo","Remolino","Sabanas de San ngel","Salamina","San Sebastin de Buenavista","San Zenn","Santa Ana","Santa Brbara de Pinto","Santa Marta","Sitionuevo","Tenerife","Zapayn","Zona Bananera"]},{departamento:"Meta",ciudades:["Acacas","Barranca de Upa","Cabuyaro","Castilla la Nueva","Cubarral","Cumaral","El Calvario","El Castillo","El Dorado","Fuente de Oro","Granada","Guamal","La Macarena","Lejanas","Mapiripn","Mesetas","Puerto Concordia","Puerto Gaitn","Puerto Lleras","Puerto Lpez","Puerto Rico","Restrepo","San Carlos de Guaroa","San Juan de Arama","San Juanito","San Martn","Uribe","Villavicencio","Vista Hermosa"]},{departamento:"Nario",ciudades:["Aldana","Ancuy","Arboleda","Barbacoas","Beln","Buesaco","Chachag","Coln","Consac","Contadero","Crdoba","Cuaspud","Cumbal","Cumbitara","El Charco","El Peol","El Rosario","El Tabln de Gmez","El Tambo","Francisco Pizarro","Funes","Guachucal","Guaitarilla","Gualmatn","Iles","Imus","Ipiales","La Cruz","La Florida","La Llanada","La Tola","La Unin","Leiva","Linares","Los Andes","Mag Payn","Mallama","Mosquera","Nario","Olaya Herrera","Ospina","Pasto","Policarpa","Potos","Providencia","Puerres","Pupiales","Ricaurte","Roberto Payn","Samaniego","San Bernardo","San Lorenzo","San Pablo","San Pedro de Cartago","Sandon","Santa Brbara","Santacruz","Sapuyes","Taminango","Tangua","Tumaco","Tquerres","Yacuanquer"]},{departamento:"Norte de Santander",ciudades:["brego","Arboledas","Bochalema","Bucarasica","Cchira","Ccota","Chincota","Chitag","Convencin","Ccuta","Cucutilla","Durana","El Carmen","El Tarra","El Zulia","Gramalote","Hacar","Herrn","La Esperanza","La Playa de Beln","Labateca","Los Patios","Lourdes","Mutiscua","Ocaa","Pamplona","Pamplonita","Puerto Santander","Ragonvalia","Salazar de Las Palmas","San Calixto","San Cayetano","Santiago","Sardinata","Silos","Teorama","Tib","Toledo","Villa Caro","Villa del Rosario"]},{departamento:"Putumayo",ciudades:["Coln","Mocoa","Orito","Puerto Ass","Puerto Caicedo","Puerto Guzmn","Puerto Leguzamo","San Francisco","San Miguel","Santiago","Sibundoy","Valle del Guamuez","Villagarzn"]},{departamento:"Quindo",ciudades:["Armenia","Buenavista","Calarc","Circasia","Crdoba","Filandia","Gnova","La Tebaida","Montenegro","Pijao","Quimbaya","Salento"]},{departamento:"Risaralda",ciudades:["Apa","Balboa","Beln de Umbra","Dosquebradas","Gutica","La Celia","La Virginia","Marsella","Mistrat","Pereira","Pueblo Rico","Quincha","Santa Rosa de Cabal","Santuario"]},{departamento:"San Andrs y Providencia",ciudades:["Providencia y Santa Catalina Islas","San Andrs"]},{departamento:"Santander",ciudades:["Aguada","Albania","Aratoca","Barbosa","Barichara","Barrancabermeja","Betulia","Bolvar","Bucaramanga","Cabrera","California","Capitanejo","Carcas","Cepit","Cerrito","Charal","Charta","Chima","Chipat","Cimitarra","Concepcin","Confines","Contratacin","Coromoro","Curit","El Carmen de Chucur","El Guacamayo","El Pen","El Playn","Encino","Enciso","Florin","Floridablanca","Galn","Gmbita","Girn","Guaca","Guadalupe","Guapot","Guavat","Gepsa","Hato","Jess Mara","Jordn","La Belleza","La Paz","Landzuri","Lebrija","Los Santos","Macaravita","Mlaga","Matanza","Mogotes","Molagavita","Ocamonte","Oiba","Onzaga","Palmar","Palmas del Socorro","Pramo","Piedecuesta","Pinchote","Puente Nacional","Puerto Parra","Puerto Wilches","Rionegro","Sabana de Torres","San Andrs","San Benito","San Gil","San Joaqun","San Jos de Miranda","San Miguel","San Vicente de Chucur","Santa Brbara","Santa Helena del Opn","Simacota","Socorro","Suaita","Sucre","Surat","Tona","Valle de San Jos","Vlez","Vetas","Villanueva","Zapatoca"]},{departamento:"Sucre",ciudades:["Buenavista","Caimito","Chaln","Colos","Corozal","Coveas","El Roble","Galeras","Guaranda","La Unin","Los Palmitos","Majagual","Morroa","Ovejas","Palmito","Sampus","San Benito Abad","San Juan de Betulia","San Marcos","San Onofre","San Pedro","Sinc","Sincelejo","Sucre","Tol","Tol Viejo"]},{departamento:"Tolima",ciudades:["Alpujarra","Alvarado","Ambalema","Anzotegui","Armero","Ataco","Cajamarca","Carmen de Apical","Casabianca","Chaparral","Coello","Coyaima","Cunday","Dolores","Espinal","Falan","Flandes","Fresno","Guamo","Herveo","Honda","Ibagu","Icononzo","Lrida","Lbano","Mariquita","Melgar","Murillo","Natagaima","Ortega","Palocabildo","Piedras","Planadas","Prado","Purificacin","Rioblanco","Roncesvalles","Rovira","Saldaa","San Antonio","San Luis","Santa Isabel","Surez","Valle de San Juan","Venadillo","Villahermosa","Villarrica"]},{departamento:"Valle del Cauca",ciudades:["Alcal","Andaluca","Ansermanuevo","Argelia","Bolvar","Buenaventura","Buga","Bugalagrande","Caicedonia","Cali","Candelaria","Cartago","Dagua","El guila","El Cairo","El Cerrito","El Dovio","Florida","Ginebra","Guacar","Jamund","La Cumbre","La Unin","La Victoria","Obando","Palmira","Pradera","Restrepo","Riofro","Roldanillo","San Pedro","Sevilla","Toro","Trujillo","Tulu","Ulloa","Versalles","Vijes","Yotoco","Yumbo","Zarzal"]},{departamento:"Vaups",ciudades:["Carur","Mit","Pacoa","Papunahua","Taraira","Yavarat"]},{departamento:"Vichada",ciudades:["Cumaribo","La Primavera","Puerto Carreo","Santa Rosala"]}]},ph=IT.departamentos.flatMap(n=>n.ciudades).sort(),Vo=16,MT=n=>{if(isNaN(n)||n<0)return{lbs:0,oz:0};const e=Math.round(n),o=Math.floor(e/Vo),l=e%Vo;return{lbs:o,oz:l}},hc=(n,e)=>Math.round(n*Vo+e),tc=(n,e=!1)=>{const{lbs:o,oz:l}=MT(n),s=e?" Lb.Oz":"";return`${o}.${String(l).padStart(2,"0")}${s}`},wT=n=>{let e=n.replace(/[^0-9.]/g,"");!e.includes(".")&&e.length===3&&(e=`${e.substring(0,1)}.${e.substring(1)}`);const o=e.split(".");let l=parseInt(o[0],10)||0,s=o[1]||"0",c=parseInt(s,10)||0;return c>=Vo&&(l+=Math.floor(c/Vo),c=c%Vo),hc(l,c)},ds=({label:n,value:e,onChange:o,disabled:l,validator:s})=>{const[c,f]=X.useState(tc(e)),[g,y]=X.useState(!0),[h,S]=X.useState(!1),E=X.useRef(null);X.useEffect(()=>{f(tc(e)),y(s?s(e):!0)},[e,s]),X.useEffect(()=>{const b=N=>{E.current&&!E.current.contains(N.target)&&S(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const T=X.useMemo(()=>{const b=[],N=hc(2,10),_=hc(5,4);for(let A=N;A<=_;A++)b.push(A);return b},[]);return v.jsxs("div",{ref:E,className:"relative",children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:n}),v.jsxs("div",{className:"relative flex items-center",children:[v.jsx("input",{type:"text",value:c,onChange:b=>f(b.target.value),onFocus:()=>S(!0),onBlur:()=>o(wT(c)),disabled:l,className:`w-full bg-[#2a2f3e] border ${g?"border-gray-700":"border-red-500"} text-gray-200 rounded-md px-3 py-2 outline-none text-center font-mono font-bold shadow-inner`}),v.jsx("button",{type:"button",onClick:()=>S(!h),className:"absolute right-2 text-gray-500",children:v.jsx(xy,{className:"w-4 h-4"})})]}),h&&!l&&v.jsx("div",{className:"absolute top-full mt-1 w-full bg-[#1e2230] border border-gray-700 rounded shadow-xl z-50 max-h-40 overflow-y-auto grid grid-cols-4 p-1 gap-1",children:T.map(b=>v.jsx("button",{onClick:()=>{o(b),S(!1)},className:"p-1 text-[10px] hover:bg-amber-500 hover:text-black rounded text-gray-300 font-mono",children:tc(b)},b))})]})},bt=({label:n,value:e,onChange:o,placeholder:l,disabled:s,type:c="text",required:f,min:g,inputClassName:y})=>v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:n}),v.jsx("input",{type:c,value:e,onChange:o,placeholder:l,disabled:s,required:f,min:g,className:`w-full bg-[#2a2f3e] border border-gray-700 rounded-md px-3 py-2 outline-none focus:border-amber-500 transition-colors disabled:opacity-50 ${y||"text-gray-200"}`})]}),RT=({isOpen:n,onClose:e,onSaveSingle:o,onAddSingleGallo:l,gallo:s,cuerdas:c,gallos:f,torneo:g})=>{const[y,h]=X.useState(""),[S,E]=X.useState(0),[T,b]=X.useState(null),N={ringId:"",color:"",cuerdaId:"",weight:0,ageMonths:"",markingId:"",breederPlateId:"",tipoGallo:Oi.LISO,marca:""},[_,A]=X.useState(N),w=X.useMemo(()=>{if(!y)return[];const q=c.find(ie=>ie.id===y);if(!q)return[];q.baseCuerdaId||q.id;const j=q.name.replace(/\s\(F\d+\)$/,"");return c.filter(ie=>ie.name.startsWith(j)).sort((ie,he)=>ie.name.localeCompare(he.name,void 0,{numeric:!0}))},[y,c]),B=X.useMemo(()=>{if(!y||w.length===0)return[];const q=new Set(w.map(j=>j.id));return f.filter(j=>q.has(j.cuerdaId))},[f,w,y]),k=X.useMemo(()=>{const q=w.length;if(q===0)return[];const j=[];for(let ie=0;ie<g.roostersPerTeam;ie++){const he=ie%q,P=w[he],Z=Math.floor(ie/q),Me=B.filter(we=>we.cuerdaId===P.id)[Z];j.push({slotIndex:ie+1,front:P,gallo:Me})}return j},[w,B,g.roostersPerTeam]),O=q=>{b(q),A({...q,ageMonths:String(q.ageMonths),marca:String(q.marca),breederPlateId:q.breederPlateId==="N/A"?"":q.breederPlateId})},H=q=>{const j=k[q];if(!j)return;const ie=c.find(he=>he.id===y);A({...N,cuerdaId:j.front.id,breederPlateId:(ie==null?void 0:ie.breederPlateId)==="N/A"?"":(ie==null?void 0:ie.breederPlateId)||""}),b(null)},z=X.useMemo(()=>{if(T){const q=T.breederPlateId==="N/A"?"":T.breederPlateId;return _.ringId!==T.ringId||_.color!==T.color||_.weight!==T.weight||_.ageMonths!==String(T.ageMonths)||_.markingId!==T.markingId||_.breederPlateId!==q||_.tipoGallo!==T.tipoGallo||_.marca!==String(T.marca)}return _.ringId!==""||_.color!==""||_.weight!==0||_.ageMonths!==""||_.markingId!==""||_.marca!==""},[_,T]);X.useEffect(()=>{var q;if(n){if(s){const j=((q=c.find(ie=>ie.id===s.cuerdaId))==null?void 0:q.baseCuerdaId)||s.cuerdaId;h(j)}else if(c.length>0&&y===""){const j=c.find(ie=>!ie.baseCuerdaId)||c[0];h(j.id)}}},[n,s,c]),X.useEffect(()=>{if(n&&k.length>0){let q=0;if(s){const ie=k.findIndex(he=>{var P;return((P=he.gallo)==null?void 0:P.id)===s.id});ie!==-1&&(q=ie)}E(q);const j=k[q];j.gallo?O(j.gallo):H(q)}},[n,y,k.length,s==null?void 0:s.id]);const Q=q=>{E(q);const j=k[q];j.gallo?O(j.gallo):H(q)},ae=q=>{h(q)},J=()=>{if(!_.ringId||!_.color||_.weight===0||!_.marca||!_.ageMonths){alert("Por favor completa los campos obligatorios.");return}const q={..._,ageMonths:Number(_.ageMonths),marca:Number(_.marca),breederPlateId:_.breederPlateId.trim()||"N/A"};T?(o(q,T.id),b({...T,...q,id:T.id,tipoEdad:q.ageMonths>=12?gn.GALLO:gn.POLLO})):l(q)},te=X.useMemo(()=>c.filter(j=>!j.baseCuerdaId).map(j=>{const he=c.filter(P=>P.baseCuerdaId===j.id||P.id===j.id).map((P,Z)=>`(F${Z+1})`).join(" ");return{id:j.id,label:`${j.name.replace(/\s\(F\d+\)$/,"")} ${he}`}}),[c]);if(!n)return null;const ne=_.marca?mh[_.marca]||[]:[];return v.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:v.jsxs("div",{className:"bg-[#1a1d29] w-full max-w-4xl rounded-xl border border-gray-800 shadow-2xl overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"p-5 flex flex-col md:flex-row items-center justify-between border-b border-gray-800 gap-4",children:[v.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 overflow-x-auto w-full custom-scrollbar pb-2 md:pb-0",children:[v.jsx("h2",{className:"text-2xl font-bold text-[#facc15] whitespace-nowrap",children:T?"Editar Gallo":"Aadir Gallos"}),v.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-1",children:k.map((q,j)=>{const ie=S===j,he=!!q.gallo;return v.jsxs("button",{onClick:()=>Q(j),className:`px-3 py-1.5 text-xs font-bold rounded-md transition-all whitespace-nowrap border ${ie?"bg-amber-500 text-black border-amber-500":he?"bg-[#2a2f3e] text-amber-400 border-amber-500/50 hover:bg-[#363b4e]":"text-gray-500 border-gray-700 hover:text-gray-300"}`,children:["F",j%w.length+1," (",j+1,"/",g.roostersPerTeam,")"]},j)})})]}),v.jsxs("div",{className:"flex items-center space-x-4 shrink-0",children:[v.jsx("select",{value:y,onChange:q=>ae(q.target.value),className:"bg-[#1a1d29] border-2 border-[#facc15] text-white rounded-md px-3 py-1.5 text-sm outline-none min-w-[180px]",children:te.map(q=>v.jsx("option",{value:q.id,children:q.label},q.id))}),v.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white transition-colors",children:v.jsx(ps,{className:"w-6 h-6"})})]})]}),v.jsx("div",{className:"p-8 space-y-6 flex-grow overflow-y-auto custom-scrollbar",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-6 bg-[#1f2330] p-8 rounded-xl border border-gray-800 shadow-inner",children:[v.jsx(bt,{label:"ID del Anillo (A)",value:_.ringId,onChange:q=>A({..._,ringId:q.target.value})}),v.jsx(bt,{label:"Nmero de Placa Marcaje (Pm)",value:_.markingId,onChange:q=>A({..._,markingId:q.target.value})}),v.jsx(bt,{label:"Placa del Criadero (Pc)",value:_.breederPlateId,onChange:q=>A({..._,breederPlateId:q.target.value}),placeholder:"N/A"}),v.jsx(bt,{label:"Color del Gallo",value:_.color,onChange:q=>A({..._,color:q.target.value})}),v.jsx(ds,{label:"Peso (Lb.Oz)",value:_.weight,onChange:q=>A({..._,weight:q})}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Marca"}),v.jsxs("select",{value:_.marca,onChange:q=>A({..._,marca:q.target.value,ageMonths:""}),className:"w-full bg-[#2a2f3e] border border-gray-700 text-gray-200 rounded-md px-3 py-2 outline-none focus:border-amber-500 transition-colors",children:[v.jsx("option",{value:"",children:"Seleccionar..."}),Object.keys(mh).map(q=>v.jsxs("option",{value:q,children:["Marca ",q]},q))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Edad"}),v.jsxs("select",{value:_.ageMonths,onChange:q=>A({..._,ageMonths:q.target.value}),className:"w-full bg-[#2a2f3e] border border-gray-700 text-gray-200 rounded-md px-3 py-2 outline-none focus:border-amber-500 transition-colors",children:[v.jsx("option",{value:"",children:"Seleccionar..."}),ne.map(q=>v.jsx("option",{value:q.ageMonths,children:q.displayText},q.ageMonths))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Tipo (Pollo/Gallo)"}),v.jsx("input",{type:"text",value:Number(_.ageMonths)>=12?"Gallo":"Pollo",disabled:!0,className:"w-full bg-[#2a2f3e] border border-gray-700 text-gray-400 rounded-md px-3 py-2 outline-none opacity-60 font-medium"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Fenotipo"}),v.jsx("select",{value:_.tipoGallo,onChange:q=>A({..._,tipoGallo:q.target.value}),className:"w-full bg-[#2a2f3e] border border-gray-700 text-gray-200 rounded-md px-3 py-2 outline-none focus:border-amber-500 transition-colors",children:Object.values(Oi).map(q=>v.jsx("option",{value:q,children:q},q))})]}),v.jsx("div",{className:"md:col-span-3 pt-6",children:v.jsx("button",{onClick:J,className:`w-full ${z?"bg-green-600 hover:bg-green-700":"bg-[#5c637a] hover:bg-[#6c7491]"} text-white font-bold py-4 rounded-lg transition-all shadow-lg text-lg flex items-center justify-center space-x-2 active:scale-[0.99]`,children:T?v.jsxs(v.Fragment,{children:[v.jsx(pc,{className:"w-5 h-5"})," ",v.jsx("span",{children:"Guardar Cambios del Gallo"})]}):v.jsxs(v.Fragment,{children:[v.jsx(bs,{className:"w-5 h-5"})," ",v.jsx("span",{children:"Aadir Gallo a este Frente"})]})})})]})}),v.jsx("div",{className:"p-4 flex justify-end bg-[#1a1d29] border-t border-gray-800",children:v.jsx("button",{onClick:e,className:"bg-[#facc15] hover:bg-[#eab308] text-black font-bold py-2.5 px-10 rounded-lg transition-colors shadow-md",children:"Cerrar"})})]})})},hh=({options:n,selectedValue:e,onSelect:o,disabledValue:l,placeholder:s,disabled:c=!1})=>{const[f,g]=X.useState(!1),[y,h]=X.useState(""),S=X.useRef(null);X.useEffect(()=>{const N=_=>{S.current&&!S.current.contains(_.target)&&(g(!1),h(""))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const{filteredCities:E,filteredCuerdas:T}=X.useMemo(()=>{const N=y.toLowerCase(),_=n.filter(A=>(l==null?void 0:l.type)==="cuerda"&&A.id===l.id?!1:A.name.toLowerCase().includes(N)||A.city&&A.city.toLowerCase().includes(N));return{filteredCities:_.filter(A=>A.type==="city"),filteredCuerdas:_.filter(A=>A.type==="cuerda")}},[n,y,l]),b=()=>e?e.type==="city"?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"font-semibold text-blue-300",children:"CIUDAD:"})," ",e.name]}):v.jsxs(v.Fragment,{children:[e.name," ",v.jsxs("span",{className:"text-gray-400",children:["(",e.city,")"]})]}):v.jsx("span",{className:"text-gray-400",children:s});return v.jsxs("div",{ref:S,className:"relative w-full",children:[v.jsxs("button",{type:"button",onClick:()=>!c&&g(!f),disabled:c,className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg px-3 py-2 text-left flex justify-between items-center text-sm disabled:bg-gray-800 disabled:opacity-70",children:[v.jsx("span",{children:b()}),v.jsx(xy,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-180":""}`})]}),f&&v.jsxs("div",{className:"absolute top-full mt-1 w-full bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-20 p-2",children:[v.jsx("input",{type:"text",placeholder:"Buscar por nombre o ciudad...",value:y,onChange:N=>h(N.target.value),className:"w-full bg-gray-900 text-white rounded-md px-3 py-2 mb-2 focus:ring-2 focus:ring-amber-500 outline-none text-sm",autoFocus:!0}),v.jsxs("ul",{className:"max-h-48 overflow-y-auto custom-scrollbar",children:[E.length>0&&v.jsxs(v.Fragment,{children:[v.jsx("li",{className:"px-2 py-1 text-xs font-bold text-blue-300 uppercase",children:"Ciudades"}),E.map(N=>v.jsx("li",{onClick:()=>{o(N),g(!1),h("")},className:"p-2 rounded-md hover:bg-gray-700 cursor-pointer text-sm",children:v.jsx("div",{className:"font-semibold",children:N.name})},N.id))]}),T.length>0&&v.jsxs(v.Fragment,{children:[v.jsx("li",{className:"px-2 py-1 text-xs font-bold text-amber-300 uppercase mt-1",children:"Cuerdas"}),T.map(N=>v.jsxs("li",{onClick:()=>{o(N),g(!1),h("")},className:"p-2 rounded-md hover:bg-gray-700 cursor-pointer text-sm",children:[v.jsx("div",{className:"font-semibold",children:N.name}),v.jsx("div",{className:"text-xs text-gray-400",children:N.city})]},N.id))]}),E.length===0&&T.length===0&&v.jsx("li",{className:"p-2 text-gray-500 text-sm",children:"No se encontraron resultados."})]})]})]})},DT=({isOpen:n,onClose:e,torneo:o,cuerdas:l,onUpdateTorneo:s,isReadOnly:c})=>{const[f,g]=X.useState(null),[y,h]=X.useState(null),S=X.useMemo(()=>l.filter(_=>!_.baseCuerdaId).map(_=>({id:_.id,name:_.name.replace(/\s\(F\d+\)$/,""),city:_.city||"N/A"})).sort((_,A)=>_.name.localeCompare(A.name)),[l]),E=X.useMemo(()=>{const A=Array.from(new Set(S.map(B=>B.city).filter(B=>B!=="N/A"))).sort().map(B=>({id:`city_${B}`,type:"city",name:B,city:"CIUDAD"})),w=S.map(B=>({id:B.id,type:"cuerda",name:B.name,city:B.city}));return[...A,...w]},[S]),T=()=>{if(!f||!y)return;const _=H=>H.type==="city"?S.filter(z=>z.city===H.name).map(z=>z.id):[H.id],A=_(f),w=_(y),B=[];for(const H of A)for(const z of w)H!==z&&B.push({cuerda1Id:H,cuerda2Id:z});const k=new Set(o.exceptions.map(H=>{const z=[H.cuerda1Id,H.cuerda2Id].sort();return`${z[0]}-${z[1]}`})),O=B.filter(H=>{const z=[H.cuerda1Id,H.cuerda2Id].sort(),Q=`${z[0]}-${z[1]}`;return k.has(Q)?!1:(k.add(Q),!0)});O.length>0&&s({...o,exceptions:[...o.exceptions,...O]}),g(null),h(null)},b=_=>{const A=o.exceptions.filter((w,B)=>B!==_);s({...o,exceptions:A})},N=_=>{var A;return((A=S.find(w=>w.id===_))==null?void 0:A.name)||"Desconocido"};return v.jsx(zc,{isOpen:n,onClose:e,title:"Gestionar Excepciones de Cotejo",children:v.jsxs("div",{className:"space-y-4",children:[!c&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Aadir Nueva Excepcin"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(hh,{options:E,selectedValue:f,onSelect:g,disabledValue:y,placeholder:"Seleccionar Cuerda/Ciudad 1..."}),v.jsx(hh,{options:E,selectedValue:y,onSelect:h,disabledValue:f,placeholder:"Seleccionar Cuerda/Ciudad 2..."}),v.jsx("button",{onClick:T,type:"button",className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg flex-shrink-0 disabled:bg-gray-600",disabled:!f||!y,children:v.jsx(bs,{className:"w-5 h-5"})})]})]}),v.jsx("hr",{className:"border-gray-600 my-4"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Excepciones Actuales"}),v.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-2",children:o.exceptions.length===0?v.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay excepciones configuradas."}):o.exceptions.map((_,A)=>v.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 p-2 rounded-lg text-sm",children:[v.jsxs("span",{children:[N(_.cuerda1Id)," ",v.jsx("span",{className:"text-red-400 font-bold",children:"vs"})," ",N(_.cuerda2Id)]}),!c&&v.jsx("button",{onClick:()=>b(A),className:"p-1 text-gray-400 hover:text-red-500",children:v.jsx(mc,{className:"w-4 h-4"})})]},A))})]}),v.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-700 mt-4",children:v.jsx("button",{type:"button",onClick:e,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg",children:"Cerrar"})})]})})};var UT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let LT,PT;function GT(){return{geminiUrl:LT,vertexUrl:PT}}function BT(n,e,o,l){var s,c;if(!(n!=null&&n.baseUrl)){const f=GT();return e?(s=f.vertexUrl)!==null&&s!==void 0?s:o:(c=f.geminiUrl)!==null&&c!==void 0?c:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jn{}function ee(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(l,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const c=e[s];return c!=null?String(c):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function d(n,e,o){for(let c=0;c<e.length-1;c++){const f=e[c];if(f.endsWith("[]")){const g=f.slice(0,-2);if(!(g in n))if(Array.isArray(o))n[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const S=y[h];d(S,e.slice(c+1),o[h])}else for(const h of y)d(h,e.slice(c+1),o)}return}else if(f.endsWith("[0]")){const g=f.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];d(y[0],e.slice(c+1),o);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const l=e[e.length-1],s=n[l];if(s!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===s)return;if(typeof s=="object"&&typeof o=="object"&&s!==null&&o!==null)Object.assign(s,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[l]=o}function u(n,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return o;const s=e[l];if(s.endsWith("[]")){const c=s.slice(0,-2);if(c in n){const f=n[c];return Array.isArray(f)?f.map(g=>u(g,e.slice(l+1),o)):o}else return o}else n=n[s]}return n}catch(l){if(l instanceof TypeError)return o;throw l}}function HT(n,e){for(const[o,l]of Object.entries(e)){const s=o.split("."),c=l.split("."),f=new Set;let g=-1;for(let y=0;y<s.length;y++)if(s[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const h=c[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&f.add(h)}gc(n,s,c,0,f)}}function gc(n,e,o,l,s){if(l>=e.length||typeof n!="object"||n===null)return;const c=e[l];if(c.endsWith("[]")){const f=c.slice(0,-2),g=n;if(f in g&&Array.isArray(g[f]))for(const y of g[f])gc(y,e,o,l+1,s)}else if(c==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,g=Object.keys(f).filter(h=>!h.startsWith("_")&&!s.has(h)),y={};for(const h of g)y[h]=f[h];for(const[h,S]of Object.entries(y)){const E=[];for(const T of o.slice(l))T==="*"?E.push(h):E.push(T);d(f,E,S)}for(const h of g)delete f[h]}}else{const f=n;c in f&&gc(f[c],e,o,l+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VT(n){const e={},o=u(n,["operationName"]);o!=null&&d(e,["operationName"],o);const l=u(n,["resourceName"]);return l!=null&&d(e,["_url","resourceName"],l),e}function zT(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],kT(f)),e}function qT(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],OT(f)),e}function kT(n){const e={},o=u(n,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>FT(f))),d(e,["generatedVideos"],c)}const l=u(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const s=u(n,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function OT(n){const e={},o=u(n,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>JT(f))),d(e,["generatedVideos"],c)}const l=u(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const s=u(n,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function FT(n){const e={},o=u(n,["video"]);return o!=null&&d(e,["video"],ZT(o)),e}function JT(n){const e={},o=u(n,["_self"]);return o!=null&&d(e,["video"],jT(o)),e}function YT(n){const e={},o=u(n,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function $T(n){const e={},o=u(n,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function KT(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],XT(f)),e}function XT(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["parent"]);l!=null&&d(e,["parent"],l);const s=u(n,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function _y(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],QT(f)),e}function QT(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["parent"]);l!=null&&d(e,["parent"],l);const s=u(n,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function ZT(n){const e={},o=u(n,["uri"]);o!=null&&d(e,["uri"],o);const l=u(n,["encodedVideo"]);l!=null&&d(e,["videoBytes"],qc(l));const s=u(n,["encoding"]);return s!=null&&d(e,["mimeType"],s),e}function jT(n){const e={},o=u(n,["gcsUri"]);o!=null&&d(e,["uri"],o);const l=u(n,["bytesBase64Encoded"]);l!=null&&d(e,["videoBytes"],qc(l));const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gh;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gh||(gh={}));var yh;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(yh||(yh={}));var vh;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(vh||(vh={}));var Oe;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Oe||(Oe={}));var Sh;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Sh||(Sh={}));var Th;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Th||(Th={}));var Eh;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Eh||(Eh={}));var Ch;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ch||(Ch={}));var xh;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(xh||(xh={}));var _h;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(_h||(_h={}));var Ah;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Ah||(Ah={}));var bh;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(bh||(bh={}));var Nh;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Nh||(Nh={}));var Ih;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Ih||(Ih={}));var Mh;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Mh||(Mh={}));var wh;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(wh||(wh={}));var Rh;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Rh||(Rh={}));var Dh;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Dh||(Dh={}));var Uh;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Uh||(Uh={}));var Lh;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Lh||(Lh={}));var Ph;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ph||(Ph={}));var hs;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(hs||(hs={}));var Gh;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Gh||(Gh={}));var Bh;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Bh||(Bh={}));var Hh;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hh||(Hh={}));var yc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yc||(yc={}));var Vh;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Vh||(Vh={}));var zh;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(zh||(zh={}));var vc;(function(n){n.COLLECTION="COLLECTION"})(vc||(vc={}));var qh;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(qh||(qh={}));var kh;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(kh||(kh={}));var Oh;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Oh||(Oh={}));var Fh;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Fh||(Fh={}));var Jh;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Jh||(Jh={}));var Yh;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Yh||(Yh={}));var $h;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($h||($h={}));var Kh;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Kh||(Kh={}));var Xh;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Xh||(Xh={}));var Qh;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Qh||(Qh={}));var Zh;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Zh||(Zh={}));var jh;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(jh||(jh={}));var Wh;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Wh||(Wh={}));var eg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(eg||(eg={}));var tg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(tg||(tg={}));var ng;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(ng||(ng={}));var ig;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(ig||(ig={}));var og;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(og||(og={}));var ag;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(ag||(ag={}));var lg;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(lg||(lg={}));var sg;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(sg||(sg={}));var rg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(rg||(rg={}));var ug;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ug||(ug={}));var cg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(cg||(cg={}));var dg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(dg||(dg={}));var fg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(fg||(fg={}));var mg;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(mg||(mg={}));var Bo;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Bo||(Bo={}));class Sc{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Va{get text(){var e,o,l,s,c,f,g,y;if(((s=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",S=!1;const E=[];for(const T of(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[b,N]of Object.entries(T))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(N!==null||N!==void 0)&&E.push(b);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;S=!0,h+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),S?h:void 0}get data(){var e,o,l,s,c,f,g,y;if(((s=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const S=[];for(const E of(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[T,b]of Object.entries(E))T!=="inlineData"&&(b!==null||b!==void 0)&&S.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(h+=atob(E.inlineData.data))}return S.length>0&&console.warn(`there are non-data parts ${S} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,o,l,s,c,f,g,y;if(((s=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.functionCall).map(S=>S.functionCall).filter(S=>S!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,o,l,s,c,f,g,y,h;if(((s=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const S=(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((S==null?void 0:S.length)!==0)return(h=S==null?void 0:S[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,o,l,s,c,f,g,y,h;if(((s=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const S=(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((S==null?void 0:S.length)!==0)return(h=S==null?void 0:S[0])===null||h===void 0?void 0:h.output}}class pg{}class hg{}class WT{}class eE{}class tE{}class nE{}class gg{}class yg{}class vg{}class iE{}class gs{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new gs;let s;const c=e;return o?s=qT(c):s=zT(c),Object.assign(l,s),l}}class Sg{}class Tg{}class Eg{}class Cg{}class oE{}class aE{}class lE{}class kc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new kc,c=KT(e);return Object.assign(l,c),l}}class sE{}class rE{}class uE{}class xg{}class cE{get text(){var e,o,l;let s="",c=!1;const f=[];for(const g of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&f.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,s+=g.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?s:void 0}get data(){var e,o,l;let s="";const c=[];for(const f of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(f))g!=="inlineData"&&y!==null&&c.push(g);f.inlineData&&typeof f.inlineData.data=="string"&&(s+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class dE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Oc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new Oc,c=_y(e);return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ve(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Ay(n,e){const o=Ve(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function by(n){return Array.isArray(n)?n.map(e=>ys(e)):[ys(n)]}function ys(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Ny(n){const e=ys(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Iy(n){const e=ys(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _g(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function My(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>_g(e)):[_g(n)]}function Tc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Ag(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function bg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Nt(n){if(n==null)throw new Error("ContentUnion is required");return Tc(n)?n:{role:"user",parts:My(n)}}function Fc(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=Nt(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const o=Nt(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>Nt(o)):[Nt(e)]}function dn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Ag(n)||bg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nt(n)]}const e=[],o=[],l=Tc(n[0]);for(const s of n){const c=Tc(s);if(c!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(s);else{if(Ag(s)||bg(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(s)}}return l||e.push({role:"user",parts:My(o)}),e}function fE(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(Oe).includes(o[0].toUpperCase())?o[0].toUpperCase():Oe.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(Oe).includes(l.toUpperCase())?l.toUpperCase():Oe.TYPE_UNSPECIFIED})}}function zo(n){const e={},o=["items"],l=["anyOf"],s=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=n.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,n=c[1]):c[1].type==="null"&&(e.nullable=!0,n=c[0])),n.type instanceof Array&&fE(n.type,e);for(const[f,g]of Object.entries(n))if(g!=null)if(f=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(Oe).includes(g.toUpperCase())?g.toUpperCase():Oe.TYPE_UNSPECIFIED}else if(o.includes(f))e[f]=zo(g);else if(l.includes(f)){const y=[];for(const h of g){if(h.type=="null"){e.nullable=!0;continue}y.push(zo(h))}e[f]=y}else if(s.includes(f)){const y={};for(const[h,S]of Object.entries(g))y[h]=zo(S);e[f]=y}else{if(f==="additionalProperties")continue;e[f]=g}return e}function Jc(n){return zo(n)}function Yc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function $c(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Oo(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=zo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=zo(e.response));return n}function Fo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function mE(n,e,o,l=1){const s=!e.startsWith(`${o}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:s?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:s?`${o}/${e}`:e}function Yn(n,e){if(typeof e!="string")throw new Error("name must be a string");return mE(n,e,"cachedContents")}function wy(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Ci(n){return qc(n)}function pE(n){return n!=null&&typeof n=="object"&&"name"in n}function hE(n){return n!=null&&typeof n=="object"&&"video"in n}function gE(n){return n!=null&&typeof n=="object"&&"uri"in n}function Ry(n){var e;let o;if(pE(n)&&(o=n.name),!(gE(n)&&(o=n.uri,o===void 0))&&!(hE(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const s=o.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${o}`);o=s[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Dy(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function Uy(n){for(const e of["models","tunedModels","publisherModels"])if(yE(n,e))return n[e];return[]}function yE(n,e){return n!==null&&typeof n=="object"&&e in n}function vE(n,e={}){const o=n,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function SE(n,e={}){const o=[],l=new Set;for(const s of n){const c=s.name;if(l.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);l.add(c);const f=vE(s,e);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function Ly(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,s=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(s>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function TE(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Py(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const s=o.inlinedResponses;if(!Array.isArray(s)||s.length===0)return n;let c=!1;for(const f of s){if(typeof f!="object"||f===null)continue;const y=f.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Jo(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Gy(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EE(n){const e={},o=u(n,["responsesFile"]);o!=null&&d(e,["fileName"],o);const l=u(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>tC(f))),d(e,["inlinedResponses"],c)}const s=u(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["inlinedEmbedContentResponses"],c)}return e}function CE(n){const e={},o=u(n,["predictionsFormat"]);o!=null&&d(e,["format"],o);const l=u(n,["gcsDestination","outputUriPrefix"]);l!=null&&d(e,["gcsUri"],l);const s=u(n,["bigqueryDestination","outputUri"]);return s!=null&&d(e,["bigqueryUri"],s),e}function xE(n){const e={},o=u(n,["format"]);o!=null&&d(e,["predictionsFormat"],o);const l=u(n,["gcsUri"]);l!=null&&d(e,["gcsDestination","outputUriPrefix"],l);const s=u(n,["bigqueryUri"]);if(s!=null&&d(e,["bigqueryDestination","outputUri"],s),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function fs(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const l=u(n,["metadata","displayName"]);l!=null&&d(e,["displayName"],l);const s=u(n,["metadata","state"]);s!=null&&d(e,["state"],Gy(s));const c=u(n,["metadata","createTime"]);c!=null&&d(e,["createTime"],c);const f=u(n,["metadata","endTime"]);f!=null&&d(e,["endTime"],f);const g=u(n,["metadata","updateTime"]);g!=null&&d(e,["updateTime"],g);const y=u(n,["metadata","model"]);y!=null&&d(e,["model"],y);const h=u(n,["metadata","output"]);return h!=null&&d(e,["dest"],EE(Py(h))),e}function Ec(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const l=u(n,["displayName"]);l!=null&&d(e,["displayName"],l);const s=u(n,["state"]);s!=null&&d(e,["state"],Gy(s));const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["createTime"]);f!=null&&d(e,["createTime"],f);const g=u(n,["startTime"]);g!=null&&d(e,["startTime"],g);const y=u(n,["endTime"]);y!=null&&d(e,["endTime"],y);const h=u(n,["updateTime"]);h!=null&&d(e,["updateTime"],h);const S=u(n,["model"]);S!=null&&d(e,["model"],S);const E=u(n,["inputConfig"]);E!=null&&d(e,["src"],_E(E));const T=u(n,["outputConfig"]);T!=null&&d(e,["dest"],CE(Py(T)));const b=u(n,["completionStats"]);return b!=null&&d(e,["completionStats"],b),e}function _E(n){const e={},o=u(n,["instancesFormat"]);o!=null&&d(e,["format"],o);const l=u(n,["gcsSource","uris"]);l!=null&&d(e,["gcsUri"],l);const s=u(n,["bigquerySource","inputUri"]);return s!=null&&d(e,["bigqueryUri"],s),e}function AE(n,e){const o={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=u(e,["fileName"]);l!=null&&d(o,["fileName"],l);const s=u(e,["inlinedRequests"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>eC(n,f))),d(o,["requests","requests"],c)}return o}function bE(n){const e={},o=u(n,["format"]);o!=null&&d(e,["instancesFormat"],o);const l=u(n,["gcsUri"]);l!=null&&d(e,["gcsSource","uris"],l);const s=u(n,["bigqueryUri"]);if(s!=null&&d(e,["bigquerySource","inputUri"],s),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function NE(n){const e={},o=u(n,["data"]);if(o!=null&&d(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function IE(n,e){const o={},l=u(e,["name"]);return l!=null&&d(o,["_url","name"],Jo(n,l)),o}function ME(n,e){const o={},l=u(e,["name"]);return l!=null&&d(o,["_url","name"],Jo(n,l)),o}function wE(n){const e={},o=u(n,["content"]);o!=null&&d(e,["content"],o);const l=u(n,["citationMetadata"]);l!=null&&d(e,["citationMetadata"],RE(l));const s=u(n,["tokenCount"]);s!=null&&d(e,["tokenCount"],s);const c=u(n,["finishReason"]);c!=null&&d(e,["finishReason"],c);const f=u(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const g=u(n,["groundingMetadata"]);g!=null&&d(e,["groundingMetadata"],g);const y=u(n,["index"]);y!=null&&d(e,["index"],y);const h=u(n,["logprobsResult"]);h!=null&&d(e,["logprobsResult"],h);const S=u(n,["safetyRatings"]);if(S!=null){let T=S;Array.isArray(T)&&(T=T.map(b=>b)),d(e,["safetyRatings"],T)}const E=u(n,["urlContextMetadata"]);return E!=null&&d(e,["urlContextMetadata"],E),e}function RE(n){const e={},o=u(n,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),d(e,["citations"],l)}return e}function By(n){const e={},o=u(n,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>rC(c))),d(e,["parts"],s)}const l=u(n,["role"]);return l!=null&&d(e,["role"],l),e}function DE(n,e){const o={},l=u(n,["displayName"]);if(e!==void 0&&l!=null&&d(e,["batch","displayName"],l),u(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function UE(n,e){const o={},l=u(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const s=u(n,["dest"]);return e!==void 0&&s!=null&&d(e,["outputConfig"],xE(TE(s))),o}function Ng(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["src"]);s!=null&&d(o,["batch","inputConfig"],AE(n,Ly(n,s)));const c=u(e,["config"]);return c!=null&&DE(c,o),o}function LE(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["model"],Ve(n,l));const s=u(e,["src"]);s!=null&&d(o,["inputConfig"],bE(Ly(n,s)));const c=u(e,["config"]);return c!=null&&UE(c,o),o}function PE(n,e){const o={},l=u(n,["displayName"]);return e!==void 0&&l!=null&&d(e,["batch","displayName"],l),o}function GE(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["src"]);s!=null&&d(o,["batch","inputConfig"],OE(n,s));const c=u(e,["config"]);return c!=null&&PE(c,o),o}function BE(n,e){const o={},l=u(e,["name"]);return l!=null&&d(o,["_url","name"],Jo(n,l)),o}function HE(n,e){const o={},l=u(e,["name"]);return l!=null&&d(o,["_url","name"],Jo(n,l)),o}function VE(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["name"]);l!=null&&d(e,["name"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);return c!=null&&d(e,["error"],c),e}function zE(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["name"]);l!=null&&d(e,["name"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);return c!=null&&d(e,["error"],c),e}function qE(n,e){const o={},l=u(e,["contents"]);if(l!=null){let c=Fc(n,l);Array.isArray(c)&&(c=c.map(f=>f)),d(o,["requests[]","request","content"],c)}const s=u(e,["config"]);return s!=null&&(d(o,["_self"],kE(s,o)),HT(o,{"requests[].*":"requests[].request.*"})),o}function kE(n,e){const o={},l=u(n,["taskType"]);e!==void 0&&l!=null&&d(e,["requests[]","taskType"],l);const s=u(n,["title"]);e!==void 0&&s!=null&&d(e,["requests[]","title"],s);const c=u(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&d(e,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function OE(n,e){const o={},l=u(e,["fileName"]);l!=null&&d(o,["file_name"],l);const s=u(e,["inlinedRequests"]);return s!=null&&d(o,["requests"],qE(n,s)),o}function FE(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function JE(n){const e={},o=u(n,["id"]);o!=null&&d(e,["id"],o);const l=u(n,["args"]);l!=null&&d(e,["args"],l);const s=u(n,["name"]);if(s!=null&&d(e,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function YE(n){const e={},o=u(n,["allowedFunctionNames"]);o!=null&&d(e,["allowedFunctionNames"],o);const l=u(n,["mode"]);if(l!=null&&d(e,["mode"],l),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $E(n,e,o){const l={},s=u(e,["systemInstruction"]);o!==void 0&&s!=null&&d(o,["systemInstruction"],By(Nt(s)));const c=u(e,["temperature"]);c!=null&&d(l,["temperature"],c);const f=u(e,["topP"]);f!=null&&d(l,["topP"],f);const g=u(e,["topK"]);g!=null&&d(l,["topK"],g);const y=u(e,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const h=u(e,["maxOutputTokens"]);h!=null&&d(l,["maxOutputTokens"],h);const S=u(e,["stopSequences"]);S!=null&&d(l,["stopSequences"],S);const E=u(e,["responseLogprobs"]);E!=null&&d(l,["responseLogprobs"],E);const T=u(e,["logprobs"]);T!=null&&d(l,["logprobs"],T);const b=u(e,["presencePenalty"]);b!=null&&d(l,["presencePenalty"],b);const N=u(e,["frequencyPenalty"]);N!=null&&d(l,["frequencyPenalty"],N);const _=u(e,["seed"]);_!=null&&d(l,["seed"],_);const A=u(e,["responseMimeType"]);A!=null&&d(l,["responseMimeType"],A);const w=u(e,["responseSchema"]);w!=null&&d(l,["responseSchema"],Jc(w));const B=u(e,["responseJsonSchema"]);if(B!=null&&d(l,["responseJsonSchema"],B),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(e,["safetySettings"]);if(o!==void 0&&k!=null){let j=k;Array.isArray(j)&&(j=j.map(ie=>uC(ie))),d(o,["safetySettings"],j)}const O=u(e,["tools"]);if(o!==void 0&&O!=null){let j=Fo(O);Array.isArray(j)&&(j=j.map(ie=>dC(Oo(ie)))),d(o,["tools"],j)}const H=u(e,["toolConfig"]);if(o!==void 0&&H!=null&&d(o,["toolConfig"],cC(H)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=u(e,["cachedContent"]);o!==void 0&&z!=null&&d(o,["cachedContent"],Yn(n,z));const Q=u(e,["responseModalities"]);Q!=null&&d(l,["responseModalities"],Q);const ae=u(e,["mediaResolution"]);ae!=null&&d(l,["mediaResolution"],ae);const J=u(e,["speechConfig"]);if(J!=null&&d(l,["speechConfig"],Yc(J)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=u(e,["thinkingConfig"]);te!=null&&d(l,["thinkingConfig"],te);const ne=u(e,["imageConfig"]);ne!=null&&d(l,["imageConfig"],WE(ne));const q=u(e,["enableEnhancedCivicAnswers"]);if(q!=null&&d(l,["enableEnhancedCivicAnswers"],q),u(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return l}function KE(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(h=>wE(h))),d(e,["candidates"],y)}const s=u(n,["modelVersion"]);s!=null&&d(e,["modelVersion"],s);const c=u(n,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const f=u(n,["responseId"]);f!=null&&d(e,["responseId"],f);const g=u(n,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function XE(n,e){const o={},l=u(e,["name"]);return l!=null&&d(o,["_url","name"],Jo(n,l)),o}function QE(n,e){const o={},l=u(e,["name"]);return l!=null&&d(o,["_url","name"],Jo(n,l)),o}function ZE(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function jE(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function WE(n){const e={},o=u(n,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const l=u(n,["imageSize"]);if(l!=null&&d(e,["imageSize"],l),u(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function eC(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["request","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let g=dn(s);Array.isArray(g)&&(g=g.map(y=>By(y))),d(o,["request","contents"],g)}const c=u(e,["metadata"]);c!=null&&d(o,["metadata"],c);const f=u(e,["config"]);return f!=null&&d(o,["request","generationConfig"],$E(n,f,u(o,["request"],{}))),o}function tC(n){const e={},o=u(n,["response"]);o!=null&&d(e,["response"],KE(o));const l=u(n,["error"]);return l!=null&&d(e,["error"],l),e}function nC(n,e){const o={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);if(e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),u(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function iC(n,e){const o={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);e!==void 0&&s!=null&&d(e,["_query","pageToken"],s);const c=u(n,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),o}function oC(n){const e={},o=u(n,["config"]);return o!=null&&nC(o,e),e}function aC(n){const e={},o=u(n,["config"]);return o!=null&&iC(o,e),e}function lC(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["operations"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>fs(f))),d(e,["batchJobs"],c)}return e}function sC(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["batchPredictionJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>Ec(f))),d(e,["batchJobs"],c)}return e}function rC(n){const e={},o=u(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=u(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const s=u(n,["executableCode"]);s!=null&&d(e,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],FE(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],JE(f));const g=u(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&d(e,["inlineData"],NE(y));const h=u(n,["text"]);h!=null&&d(e,["text"],h);const S=u(n,["thought"]);S!=null&&d(e,["thought"],S);const E=u(n,["thoughtSignature"]);E!=null&&d(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function uC(n){const e={},o=u(n,["category"]);if(o!=null&&d(e,["category"],o),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=u(n,["threshold"]);return l!=null&&d(e,["threshold"],l),e}function cC(n){const e={},o=u(n,["retrievalConfig"]);o!=null&&d(e,["retrievalConfig"],o);const l=u(n,["functionCallingConfig"]);return l!=null&&d(e,["functionCallingConfig"],YE(l)),e}function dC(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const l=u(n,["fileSearch"]);l!=null&&d(e,["fileSearch"],l);const s=u(n,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(E=>E)),d(e,["functionDeclarations"],S)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],ZE(f));const g=u(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],jE(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const h=u(n,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var On;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(On||(On={}));class Ki{constructor(e,o,l,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,s)}init(e,o,l){var s,c;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!l||Object.keys(l).length===0?f={config:{}}:typeof l=="object"?f=Object.assign({},l):f=l,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(c=(s=f.config)===null||s===void 0?void 0:s.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fC extends Jn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Ki(On.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=Ng(this.apiClient,e),l=o._url,s=ee("{model}:batchGenerateContent",l),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const S of y){const E=Object.assign({},S);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const b=E.request;b.systemInstruction=T,E.request=b}h.push(E)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:s,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const l=o?Object.assign({},o):{},s=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${s}`),l.dest===void 0){const c=this.getGcsUri(e),f=this.getBigqueryUri(e);if(c)c.endsWith(".jsonl")?l.dest=`${c.slice(0,-6)}/dest`:l.dest=`${c}_dest_${s}`;else if(f)l.dest=`${f}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=LE(this.apiClient,e);return g=ee("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>Ec(S))}else{const h=Ng(this.apiClient,e);return g=ee("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>fs(S))}}async createEmbeddingsInternal(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GE(this.apiClient,e);return c=ee("{model}:asyncBatchEmbedContent",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>fs(y))}}async get(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=QE(this.apiClient,e);return g=ee("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>Ec(S))}else{const h=XE(this.apiClient,e);return g=ee("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>fs(S))}}async cancel(e){var o,l,s,c;let f="",g={};if(this.apiClient.isVertexAI()){const y=ME(this.apiClient,e);f=ee("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=IE(this.apiClient,e);f=ee("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=aC(e);return g=ee("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=sC(S),T=new xg;return Object.assign(T,E),T})}else{const h=oC(e);return g=ee("batches",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=lC(S),T=new xg;return Object.assign(T,E),T})}}async delete(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=HE(this.apiClient,e);return g=ee("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>zE(S))}else{const h=BE(this.apiClient,e);return g=ee("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>VE(S))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(n){const e={},o=u(n,["data"]);if(o!=null&&d(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function Ig(n){const e={},o=u(n,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>GC(c))),d(e,["parts"],s)}const l=u(n,["role"]);return l!=null&&d(e,["role"],l),e}function pC(n,e){const o={},l=u(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const s=u(n,["expireTime"]);e!==void 0&&s!=null&&d(e,["expireTime"],s);const c=u(n,["displayName"]);e!==void 0&&c!=null&&d(e,["displayName"],c);const f=u(n,["contents"]);if(e!==void 0&&f!=null){let S=dn(f);Array.isArray(S)&&(S=S.map(E=>Ig(E))),d(e,["contents"],S)}const g=u(n,["systemInstruction"]);e!==void 0&&g!=null&&d(e,["systemInstruction"],Ig(Nt(g)));const y=u(n,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>HC(E))),d(e,["tools"],S)}const h=u(n,["toolConfig"]);if(e!==void 0&&h!=null&&d(e,["toolConfig"],BC(h)),u(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function hC(n,e){const o={},l=u(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const s=u(n,["expireTime"]);e!==void 0&&s!=null&&d(e,["expireTime"],s);const c=u(n,["displayName"]);e!==void 0&&c!=null&&d(e,["displayName"],c);const f=u(n,["contents"]);if(e!==void 0&&f!=null){let E=dn(f);Array.isArray(E)&&(E=E.map(T=>T)),d(e,["contents"],E)}const g=u(n,["systemInstruction"]);e!==void 0&&g!=null&&d(e,["systemInstruction"],Nt(g));const y=u(n,["tools"]);if(e!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(T=>VC(T))),d(e,["tools"],E)}const h=u(n,["toolConfig"]);e!==void 0&&h!=null&&d(e,["toolConfig"],h);const S=u(n,["kmsKeyName"]);return e!==void 0&&S!=null&&d(e,["encryption_spec","kmsKeyName"],S),o}function gC(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["model"],Ay(n,l));const s=u(e,["config"]);return s!=null&&pC(s,o),o}function yC(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["model"],Ay(n,l));const s=u(e,["config"]);return s!=null&&hC(s,o),o}function vC(n,e){const o={},l=u(e,["name"]);return l!=null&&d(o,["_url","name"],Yn(n,l)),o}function SC(n,e){const o={},l=u(e,["name"]);return l!=null&&d(o,["_url","name"],Yn(n,l)),o}function TC(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function EC(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function CC(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function xC(n){const e={},o=u(n,["id"]);o!=null&&d(e,["id"],o);const l=u(n,["args"]);l!=null&&d(e,["args"],l);const s=u(n,["name"]);if(s!=null&&d(e,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _C(n){const e={},o=u(n,["allowedFunctionNames"]);o!=null&&d(e,["allowedFunctionNames"],o);const l=u(n,["mode"]);if(l!=null&&d(e,["mode"],l),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function AC(n){const e={},o=u(n,["description"]);o!=null&&d(e,["description"],o);const l=u(n,["name"]);l!=null&&d(e,["name"],l);const s=u(n,["parameters"]);s!=null&&d(e,["parameters"],s);const c=u(n,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const f=u(n,["response"]);f!=null&&d(e,["response"],f);const g=u(n,["responseJsonSchema"]);if(g!=null&&d(e,["responseJsonSchema"],g),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function bC(n,e){const o={},l=u(e,["name"]);return l!=null&&d(o,["_url","name"],Yn(n,l)),o}function NC(n,e){const o={},l=u(e,["name"]);return l!=null&&d(o,["_url","name"],Yn(n,l)),o}function IC(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function MC(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function wC(n,e){const o={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),o}function RC(n,e){const o={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),o}function DC(n){const e={},o=u(n,["config"]);return o!=null&&wC(o,e),e}function UC(n){const e={},o=u(n,["config"]);return o!=null&&RC(o,e),e}function LC(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["cachedContents"],c)}return e}function PC(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["cachedContents"],c)}return e}function GC(n){const e={},o=u(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=u(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const s=u(n,["executableCode"]);s!=null&&d(e,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],CC(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],xC(f));const g=u(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&d(e,["inlineData"],mC(y));const h=u(n,["text"]);h!=null&&d(e,["text"],h);const S=u(n,["thought"]);S!=null&&d(e,["thought"],S);const E=u(n,["thoughtSignature"]);E!=null&&d(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function BC(n){const e={},o=u(n,["retrievalConfig"]);o!=null&&d(e,["retrievalConfig"],o);const l=u(n,["functionCallingConfig"]);return l!=null&&d(e,["functionCallingConfig"],_C(l)),e}function HC(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const l=u(n,["fileSearch"]);l!=null&&d(e,["fileSearch"],l);const s=u(n,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(E=>E)),d(e,["functionDeclarations"],S)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],IC(f));const g=u(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],MC(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const h=u(n,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function VC(n){const e={},o=u(n,["retrieval"]);o!=null&&d(e,["retrieval"],o);const l=u(n,["computerUse"]);if(l!=null&&d(e,["computerUse"],l),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=u(n,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const c=u(n,["enterpriseWebSearch"]);c!=null&&d(e,["enterpriseWebSearch"],c);const f=u(n,["functionDeclarations"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(T=>AC(T))),d(e,["functionDeclarations"],E)}const g=u(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const y=u(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const h=u(n,["googleSearchRetrieval"]);h!=null&&d(e,["googleSearchRetrieval"],h);const S=u(n,["urlContext"]);return S!=null&&d(e,["urlContext"],S),e}function zC(n,e){const o={},l=u(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const s=u(n,["expireTime"]);return e!==void 0&&s!=null&&d(e,["expireTime"],s),o}function qC(n,e){const o={},l=u(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const s=u(n,["expireTime"]);return e!==void 0&&s!=null&&d(e,["expireTime"],s),o}function kC(n,e){const o={},l=u(e,["name"]);l!=null&&d(o,["_url","name"],Yn(n,l));const s=u(e,["config"]);return s!=null&&zC(s,o),o}function OC(n,e){const o={},l=u(e,["name"]);l!=null&&d(o,["_url","name"],Yn(n,l));const s=u(e,["config"]);return s!=null&&qC(s,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC extends Jn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Ki(On.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=yC(this.apiClient,e);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>S)}else{const h=gC(this.apiClient,e);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>S)}}async get(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=NC(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>S)}else{const h=bC(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>S)}}async delete(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=SC(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=EC(S),T=new Eg;return Object.assign(T,E),T})}else{const h=vC(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=TC(S),T=new Eg;return Object.assign(T,E),T})}}async update(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=OC(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>S)}else{const h=kC(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>S)}}async listInternal(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=UC(e);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=PC(S),T=new Cg;return Object.assign(T,E),T})}else{const h=DC(e);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=LC(S),T=new Cg;return Object.assign(T,E),T})}}}function vs(n,e){var o={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.indexOf(l)<0&&(o[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(n);s<l.length;s++)e.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(n,l[s])&&(o[l[s]]=n[l[s]]);return o}function Mg(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Se(n){return this instanceof Se?(this.v=n,this):new Se(n)}function yn(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,e||[]),s,c=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",f),s[Symbol.asyncIterator]=function(){return this},s;function f(b){return function(N){return Promise.resolve(N).then(b,E)}}function g(b,N){l[b]&&(s[b]=function(_){return new Promise(function(A,w){c.push([b,_,A,w])>1||y(b,_)})},N&&(s[b]=N(s[b])))}function y(b,N){try{h(l[b](N))}catch(_){T(c[0][3],_)}}function h(b){b.value instanceof Se?Promise.resolve(b.value.v).then(S,E):T(c[0][2],b)}function S(b){y("next",b)}function E(b){y("throw",b)}function T(b,N){b(N),c.shift(),c.length&&y(c[0][0],c[0][1])}}function vn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Mg=="function"?Mg(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(c){o[c]=n[c]&&function(f){return new Promise(function(g,y){f=n[c](f),s(g,y,f.done,f.value)})}}function s(c,f,g,y){Promise.resolve(y).then(function(h){c({value:h,done:g})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Hy(o)}function Hy(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function YC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function wg(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let l=0;for(;l<o;)if(n[l].role==="user")e.push(n[l]),l++;else{const s=[];let c=!0;for(;l<o&&n[l].role==="model";)s.push(n[l]),c&&!Hy(n[l])&&(c=!1),l++;c?e.push(...s):e.pop()}return e}class $C{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new KC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class KC{constructor(e,o,l,s={},c=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=s,this.history=c,this.sendPromise=Promise.resolve(),YC(c)}async sendMessage(e){var o;await this.sendPromise;const l=Nt(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,f,g;const y=await s,h=(f=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content,S=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];S!=null&&(T=(g=S.slice(E))!==null&&g!==void 0?g:[]);const b=h?[h]:[];this.recordHistory(l,b,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var o;await this.sendPromise;const l=Nt(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const c=await s;return this.processStreamResponse(c,l)}getHistory(e=!1){const o=e?wg(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return yn(this,arguments,function*(){var s,c,f,g,y,h;const S=[];try{for(var E=!0,T=vn(e),b;b=yield Se(T.next()),s=b.done,!s;E=!0){g=b.value,E=!1;const N=g;if(JC(N)){const _=(h=(y=N.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;_!==void 0&&S.push(_)}yield yield Se(N)}}catch(N){c={error:N}}finally{try{!E&&!s&&(f=T.return)&&(yield Se(f.call(T)))}finally{if(c)throw c.error}}this.recordHistory(o,S)})}recordHistory(e,o,l){let s=[];o.length>0&&o.every(c=>c.role!==void 0)?s=o:s.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...wg(l)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ka extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ka.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XC(n){const e={},o=u(n,["file"]);return o!=null&&d(e,["file"],o),e}function QC(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function ZC(n){const e={},o=u(n,["name"]);return o!=null&&d(e,["_url","file"],Ry(o)),e}function jC(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function WC(n){const e={},o=u(n,["name"]);return o!=null&&d(e,["_url","file"],Ry(o)),e}function ex(n,e){const o={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),o}function tx(n){const e={},o=u(n,["config"]);return o!=null&&ex(o,e),e}function nx(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["files"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["files"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ix extends Jn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Ki(On.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tx(e);return c=ee("files",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>{const h=nx(y),S=new sE;return Object.assign(S,h),S})}}async createInternal(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=XC(e);return c=ee("upload/v1beta/files",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=QC(y),S=new rE;return Object.assign(S,h),S})}}async get(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=WC(e);return c=ee("files/{file}",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async delete(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ZC(e);return c=ee("files/{file}",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>{const h=jC(y),S=new uE;return Object.assign(S,h),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ms(n){const e={},o=u(n,["data"]);if(o!=null&&d(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function ox(n){const e={},o=u(n,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>Tx(c))),d(e,["parts"],s)}const l=u(n,["role"]);return l!=null&&d(e,["role"],l),e}function ax(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function lx(n){const e={},o=u(n,["id"]);o!=null&&d(e,["id"],o);const l=u(n,["args"]);l!=null&&d(e,["args"],l);const s=u(n,["name"]);if(s!=null&&d(e,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sx(n){const e={},o=u(n,["description"]);o!=null&&d(e,["description"],o);const l=u(n,["name"]);l!=null&&d(e,["name"],l);const s=u(n,["parameters"]);s!=null&&d(e,["parameters"],s);const c=u(n,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const f=u(n,["response"]);f!=null&&d(e,["response"],f);const g=u(n,["responseJsonSchema"]);if(g!=null&&d(e,["responseJsonSchema"],g),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function rx(n){const e={},o=u(n,["modelSelectionConfig"]);o!=null&&d(e,["modelConfig"],o);const l=u(n,["responseJsonSchema"]);l!=null&&d(e,["responseJsonSchema"],l);const s=u(n,["audioTimestamp"]);s!=null&&d(e,["audioTimestamp"],s);const c=u(n,["candidateCount"]);c!=null&&d(e,["candidateCount"],c);const f=u(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const g=u(n,["frequencyPenalty"]);g!=null&&d(e,["frequencyPenalty"],g);const y=u(n,["logprobs"]);y!=null&&d(e,["logprobs"],y);const h=u(n,["maxOutputTokens"]);h!=null&&d(e,["maxOutputTokens"],h);const S=u(n,["mediaResolution"]);S!=null&&d(e,["mediaResolution"],S);const E=u(n,["presencePenalty"]);E!=null&&d(e,["presencePenalty"],E);const T=u(n,["responseLogprobs"]);T!=null&&d(e,["responseLogprobs"],T);const b=u(n,["responseMimeType"]);b!=null&&d(e,["responseMimeType"],b);const N=u(n,["responseModalities"]);N!=null&&d(e,["responseModalities"],N);const _=u(n,["responseSchema"]);_!=null&&d(e,["responseSchema"],_);const A=u(n,["routingConfig"]);A!=null&&d(e,["routingConfig"],A);const w=u(n,["seed"]);w!=null&&d(e,["seed"],w);const B=u(n,["speechConfig"]);B!=null&&d(e,["speechConfig"],B);const k=u(n,["stopSequences"]);k!=null&&d(e,["stopSequences"],k);const O=u(n,["temperature"]);O!=null&&d(e,["temperature"],O);const H=u(n,["thinkingConfig"]);H!=null&&d(e,["thinkingConfig"],H);const z=u(n,["topK"]);z!=null&&d(e,["topK"],z);const Q=u(n,["topP"]);if(Q!=null&&d(e,["topP"],Q),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ux(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function cx(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function dx(n,e){const o={},l=u(n,["generationConfig"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig"],l);const s=u(n,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const c=u(n,["temperature"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","temperature"],c);const f=u(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const g=u(n,["topK"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const h=u(n,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const S=u(n,["seed"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","seed"],S);const E=u(n,["speechConfig"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","speechConfig"],$c(E));const T=u(n,["thinkingConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","thinkingConfig"],T);const b=u(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const N=u(n,["systemInstruction"]);e!==void 0&&N!=null&&d(e,["setup","systemInstruction"],ox(Nt(N)));const _=u(n,["tools"]);if(e!==void 0&&_!=null){let z=Fo(_);Array.isArray(z)&&(z=z.map(Q=>Cx(Oo(Q)))),d(e,["setup","tools"],z)}const A=u(n,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],Ex(A));const w=u(n,["inputAudioTranscription"]);e!==void 0&&w!=null&&d(e,["setup","inputAudioTranscription"],w);const B=u(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],B);const k=u(n,["realtimeInputConfig"]);e!==void 0&&k!=null&&d(e,["setup","realtimeInputConfig"],k);const O=u(n,["contextWindowCompression"]);e!==void 0&&O!=null&&d(e,["setup","contextWindowCompression"],O);const H=u(n,["proactivity"]);if(e!==void 0&&H!=null&&d(e,["setup","proactivity"],H),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function fx(n,e){const o={},l=u(n,["generationConfig"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig"],rx(l));const s=u(n,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const c=u(n,["temperature"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","temperature"],c);const f=u(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const g=u(n,["topK"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const h=u(n,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const S=u(n,["seed"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","seed"],S);const E=u(n,["speechConfig"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","speechConfig"],$c(E));const T=u(n,["thinkingConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","thinkingConfig"],T);const b=u(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const N=u(n,["systemInstruction"]);e!==void 0&&N!=null&&d(e,["setup","systemInstruction"],Nt(N));const _=u(n,["tools"]);if(e!==void 0&&_!=null){let Q=Fo(_);Array.isArray(Q)&&(Q=Q.map(ae=>xx(Oo(ae)))),d(e,["setup","tools"],Q)}const A=u(n,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],A);const w=u(n,["inputAudioTranscription"]);e!==void 0&&w!=null&&d(e,["setup","inputAudioTranscription"],w);const B=u(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],B);const k=u(n,["realtimeInputConfig"]);e!==void 0&&k!=null&&d(e,["setup","realtimeInputConfig"],k);const O=u(n,["contextWindowCompression"]);e!==void 0&&O!=null&&d(e,["setup","contextWindowCompression"],O);const H=u(n,["proactivity"]);e!==void 0&&H!=null&&d(e,["setup","proactivity"],H);const z=u(n,["explicitVadSignal"]);return e!==void 0&&z!=null&&d(e,["setup","explicitVadSignal"],z),o}function mx(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["setup","model"],Ve(n,l));const s=u(e,["config"]);return s!=null&&d(o,["config"],dx(s,o)),o}function px(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["setup","model"],Ve(n,l));const s=u(e,["config"]);return s!=null&&d(o,["config"],fx(s,o)),o}function hx(n){const e={},o=u(n,["musicGenerationConfig"]);return o!=null&&d(e,["musicGenerationConfig"],o),e}function gx(n){const e={},o=u(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),d(e,["weightedPrompts"],l)}return e}function yx(n){const e={},o=u(n,["media"]);if(o!=null){let h=by(o);Array.isArray(h)&&(h=h.map(S=>ms(S))),d(e,["mediaChunks"],h)}const l=u(n,["audio"]);l!=null&&d(e,["audio"],ms(Iy(l)));const s=u(n,["audioStreamEnd"]);s!=null&&d(e,["audioStreamEnd"],s);const c=u(n,["video"]);c!=null&&d(e,["video"],ms(Ny(c)));const f=u(n,["text"]);f!=null&&d(e,["text"],f);const g=u(n,["activityStart"]);g!=null&&d(e,["activityStart"],g);const y=u(n,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function vx(n){const e={},o=u(n,["media"]);if(o!=null){let h=by(o);Array.isArray(h)&&(h=h.map(S=>S)),d(e,["mediaChunks"],h)}const l=u(n,["audio"]);l!=null&&d(e,["audio"],Iy(l));const s=u(n,["audioStreamEnd"]);s!=null&&d(e,["audioStreamEnd"],s);const c=u(n,["video"]);c!=null&&d(e,["video"],Ny(c));const f=u(n,["text"]);f!=null&&d(e,["text"],f);const g=u(n,["activityStart"]);g!=null&&d(e,["activityStart"],g);const y=u(n,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function Sx(n){const e={},o=u(n,["setupComplete"]);o!=null&&d(e,["setupComplete"],o);const l=u(n,["serverContent"]);l!=null&&d(e,["serverContent"],l);const s=u(n,["toolCall"]);s!=null&&d(e,["toolCall"],s);const c=u(n,["toolCallCancellation"]);c!=null&&d(e,["toolCallCancellation"],c);const f=u(n,["usageMetadata"]);f!=null&&d(e,["usageMetadata"],_x(f));const g=u(n,["goAway"]);g!=null&&d(e,["goAway"],g);const y=u(n,["sessionResumptionUpdate"]);y!=null&&d(e,["sessionResumptionUpdate"],y);const h=u(n,["voiceActivityDetectionSignal"]);h!=null&&d(e,["voiceActivityDetectionSignal"],h);const S=u(n,["voiceActivity"]);return S!=null&&d(e,["voiceActivity"],Ax(S)),e}function Tx(n){const e={},o=u(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=u(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const s=u(n,["executableCode"]);s!=null&&d(e,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],ax(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],lx(f));const g=u(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&d(e,["inlineData"],ms(y));const h=u(n,["text"]);h!=null&&d(e,["text"],h);const S=u(n,["thought"]);S!=null&&d(e,["thought"],S);const E=u(n,["thoughtSignature"]);E!=null&&d(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function Ex(n){const e={},o=u(n,["handle"]);if(o!=null&&d(e,["handle"],o),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Cx(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const l=u(n,["fileSearch"]);l!=null&&d(e,["fileSearch"],l);const s=u(n,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(E=>E)),d(e,["functionDeclarations"],S)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],ux(f));const g=u(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],cx(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const h=u(n,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function xx(n){const e={},o=u(n,["retrieval"]);o!=null&&d(e,["retrieval"],o);const l=u(n,["computerUse"]);if(l!=null&&d(e,["computerUse"],l),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=u(n,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const c=u(n,["enterpriseWebSearch"]);c!=null&&d(e,["enterpriseWebSearch"],c);const f=u(n,["functionDeclarations"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(T=>sx(T))),d(e,["functionDeclarations"],E)}const g=u(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const y=u(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const h=u(n,["googleSearchRetrieval"]);h!=null&&d(e,["googleSearchRetrieval"],h);const S=u(n,["urlContext"]);return S!=null&&d(e,["urlContext"],S),e}function _x(n){const e={},o=u(n,["promptTokenCount"]);o!=null&&d(e,["promptTokenCount"],o);const l=u(n,["cachedContentTokenCount"]);l!=null&&d(e,["cachedContentTokenCount"],l);const s=u(n,["candidatesTokenCount"]);s!=null&&d(e,["responseTokenCount"],s);const c=u(n,["toolUsePromptTokenCount"]);c!=null&&d(e,["toolUsePromptTokenCount"],c);const f=u(n,["thoughtsTokenCount"]);f!=null&&d(e,["thoughtsTokenCount"],f);const g=u(n,["totalTokenCount"]);g!=null&&d(e,["totalTokenCount"],g);const y=u(n,["promptTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(N=>N)),d(e,["promptTokensDetails"],b)}const h=u(n,["cacheTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(N=>N)),d(e,["cacheTokensDetails"],b)}const S=u(n,["candidatesTokensDetails"]);if(S!=null){let b=S;Array.isArray(b)&&(b=b.map(N=>N)),d(e,["responseTokensDetails"],b)}const E=u(n,["toolUsePromptTokensDetails"]);if(E!=null){let b=E;Array.isArray(b)&&(b=b.map(N=>N)),d(e,["toolUsePromptTokensDetails"],b)}const T=u(n,["trafficType"]);return T!=null&&d(e,["trafficType"],T),e}function Ax(n){const e={},o=u(n,["type"]);return o!=null&&d(e,["voiceActivityType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bx(n){const e={},o=u(n,["data"]);if(o!=null&&d(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function Nx(n){const e={},o=u(n,["content"]);o!=null&&d(e,["content"],o);const l=u(n,["citationMetadata"]);l!=null&&d(e,["citationMetadata"],Ix(l));const s=u(n,["tokenCount"]);s!=null&&d(e,["tokenCount"],s);const c=u(n,["finishReason"]);c!=null&&d(e,["finishReason"],c);const f=u(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const g=u(n,["groundingMetadata"]);g!=null&&d(e,["groundingMetadata"],g);const y=u(n,["index"]);y!=null&&d(e,["index"],y);const h=u(n,["logprobsResult"]);h!=null&&d(e,["logprobsResult"],h);const S=u(n,["safetyRatings"]);if(S!=null){let T=S;Array.isArray(T)&&(T=T.map(b=>b)),d(e,["safetyRatings"],T)}const E=u(n,["urlContextMetadata"]);return E!=null&&d(e,["urlContextMetadata"],E),e}function Ix(n){const e={},o=u(n,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),d(e,["citations"],l)}return e}function Mx(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let c=dn(s);Array.isArray(c)&&(c=c.map(f=>f)),d(o,["contents"],c)}return o}function wx(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["tokensInfo"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>c)),d(e,["tokensInfo"],s)}return e}function Rx(n){const e={},o=u(n,["values"]);o!=null&&d(e,["values"],o);const l=u(n,["statistics"]);return l!=null&&d(e,["statistics"],Dx(l)),e}function Dx(n){const e={},o=u(n,["truncated"]);o!=null&&d(e,["truncated"],o);const l=u(n,["token_count"]);return l!=null&&d(e,["tokenCount"],l),e}function Ns(n){const e={},o=u(n,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>q_(c))),d(e,["parts"],s)}const l=u(n,["role"]);return l!=null&&d(e,["role"],l),e}function Ux(n){const e={},o=u(n,["controlType"]);o!=null&&d(e,["controlType"],o);const l=u(n,["enableControlImageComputation"]);return l!=null&&d(e,["computeControl"],l),e}function Lx(n){const e={};if(u(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Px(n,e){const o={},l=u(n,["systemInstruction"]);e!==void 0&&l!=null&&d(e,["systemInstruction"],Nt(l));const s=u(n,["tools"]);if(e!==void 0&&s!=null){let f=s;Array.isArray(f)&&(f=f.map(g=>ky(g))),d(e,["tools"],f)}const c=u(n,["generationConfig"]);return e!==void 0&&c!=null&&d(e,["generationConfig"],b_(c)),o}function Gx(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let f=dn(s);Array.isArray(f)&&(f=f.map(g=>Ns(g))),d(o,["contents"],f)}const c=u(e,["config"]);return c!=null&&Lx(c),o}function Bx(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let f=dn(s);Array.isArray(f)&&(f=f.map(g=>g)),d(o,["contents"],f)}const c=u(e,["config"]);return c!=null&&Px(c,o),o}function Hx(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["totalTokens"]);l!=null&&d(e,["totalTokens"],l);const s=u(n,["cachedContentTokenCount"]);return s!=null&&d(e,["cachedContentTokenCount"],s),e}function Vx(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["totalTokens"]);return l!=null&&d(e,["totalTokens"],l),e}function zx(n,e){const o={},l=u(e,["model"]);return l!=null&&d(o,["_url","name"],Ve(n,l)),o}function qx(n,e){const o={},l=u(e,["model"]);return l!=null&&d(o,["_url","name"],Ve(n,l)),o}function kx(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function Ox(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function Fx(n,e){const o={},l=u(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const s=u(n,["negativePrompt"]);e!==void 0&&s!=null&&d(e,["parameters","negativePrompt"],s);const c=u(n,["numberOfImages"]);e!==void 0&&c!=null&&d(e,["parameters","sampleCount"],c);const f=u(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const g=u(n,["guidanceScale"]);e!==void 0&&g!=null&&d(e,["parameters","guidanceScale"],g);const y=u(n,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const h=u(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const S=u(n,["personGeneration"]);e!==void 0&&S!=null&&d(e,["parameters","personGeneration"],S);const E=u(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&d(e,["parameters","includeSafetyAttributes"],E);const T=u(n,["includeRaiReason"]);e!==void 0&&T!=null&&d(e,["parameters","includeRaiReason"],T);const b=u(n,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const N=u(n,["outputMimeType"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","mimeType"],N);const _=u(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_);const A=u(n,["addWatermark"]);e!==void 0&&A!=null&&d(e,["parameters","addWatermark"],A);const w=u(n,["labels"]);e!==void 0&&w!=null&&d(e,["labels"],w);const B=u(n,["editMode"]);e!==void 0&&B!=null&&d(e,["parameters","editMode"],B);const k=u(n,["baseSteps"]);return e!==void 0&&k!=null&&d(e,["parameters","editConfig","baseSteps"],k),o}function Jx(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["prompt"]);s!=null&&d(o,["instances[0]","prompt"],s);const c=u(e,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>$_(y))),d(o,["instances[0]","referenceImages"],g)}const f=u(e,["config"]);return f!=null&&Fx(f,o),o}function Yx(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>Is(c))),d(e,["generatedImages"],s)}return e}function $x(n,e){const o={},l=u(n,["taskType"]);e!==void 0&&l!=null&&d(e,["requests[]","taskType"],l);const s=u(n,["title"]);e!==void 0&&s!=null&&d(e,["requests[]","title"],s);const c=u(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&d(e,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Kx(n,e){const o={},l=u(n,["taskType"]);e!==void 0&&l!=null&&d(e,["instances[]","task_type"],l);const s=u(n,["title"]);e!==void 0&&s!=null&&d(e,["instances[]","title"],s);const c=u(n,["outputDimensionality"]);e!==void 0&&c!=null&&d(e,["parameters","outputDimensionality"],c);const f=u(n,["mimeType"]);e!==void 0&&f!=null&&d(e,["instances[]","mimeType"],f);const g=u(n,["autoTruncate"]);return e!==void 0&&g!=null&&d(e,["parameters","autoTruncate"],g),o}function Xx(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let g=Fc(n,s);Array.isArray(g)&&(g=g.map(y=>y)),d(o,["requests[]","content"],g)}const c=u(e,["config"]);c!=null&&$x(c,o);const f=u(e,["model"]);return f!==void 0&&d(o,["requests[]","model"],Ve(n,f)),o}function Qx(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let f=Fc(n,s);Array.isArray(f)&&(f=f.map(g=>g)),d(o,["instances[]","content"],f)}const c=u(e,["config"]);return c!=null&&Kx(c,o),o}function Zx(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["embeddings"],c)}const s=u(n,["metadata"]);return s!=null&&d(e,["metadata"],s),e}function jx(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["predictions[]","embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Rx(f))),d(e,["embeddings"],c)}const s=u(n,["metadata"]);return s!=null&&d(e,["metadata"],s),e}function Wx(n){const e={},o=u(n,["endpoint"]);o!=null&&d(e,["name"],o);const l=u(n,["deployedModelId"]);return l!=null&&d(e,["deployedModelId"],l),e}function e_(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function t_(n){const e={},o=u(n,["id"]);o!=null&&d(e,["id"],o);const l=u(n,["args"]);l!=null&&d(e,["args"],l);const s=u(n,["name"]);if(s!=null&&d(e,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function n_(n){const e={},o=u(n,["allowedFunctionNames"]);o!=null&&d(e,["allowedFunctionNames"],o);const l=u(n,["mode"]);if(l!=null&&d(e,["mode"],l),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function i_(n){const e={},o=u(n,["description"]);o!=null&&d(e,["description"],o);const l=u(n,["name"]);l!=null&&d(e,["name"],l);const s=u(n,["parameters"]);s!=null&&d(e,["parameters"],s);const c=u(n,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const f=u(n,["response"]);f!=null&&d(e,["response"],f);const g=u(n,["responseJsonSchema"]);if(g!=null&&d(e,["responseJsonSchema"],g),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function o_(n,e,o){const l={},s=u(e,["systemInstruction"]);o!==void 0&&s!=null&&d(o,["systemInstruction"],Ns(Nt(s)));const c=u(e,["temperature"]);c!=null&&d(l,["temperature"],c);const f=u(e,["topP"]);f!=null&&d(l,["topP"],f);const g=u(e,["topK"]);g!=null&&d(l,["topK"],g);const y=u(e,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const h=u(e,["maxOutputTokens"]);h!=null&&d(l,["maxOutputTokens"],h);const S=u(e,["stopSequences"]);S!=null&&d(l,["stopSequences"],S);const E=u(e,["responseLogprobs"]);E!=null&&d(l,["responseLogprobs"],E);const T=u(e,["logprobs"]);T!=null&&d(l,["logprobs"],T);const b=u(e,["presencePenalty"]);b!=null&&d(l,["presencePenalty"],b);const N=u(e,["frequencyPenalty"]);N!=null&&d(l,["frequencyPenalty"],N);const _=u(e,["seed"]);_!=null&&d(l,["seed"],_);const A=u(e,["responseMimeType"]);A!=null&&d(l,["responseMimeType"],A);const w=u(e,["responseSchema"]);w!=null&&d(l,["responseSchema"],Jc(w));const B=u(e,["responseJsonSchema"]);if(B!=null&&d(l,["responseJsonSchema"],B),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(e,["safetySettings"]);if(o!==void 0&&k!=null){let j=k;Array.isArray(j)&&(j=j.map(ie=>K_(ie))),d(o,["safetySettings"],j)}const O=u(e,["tools"]);if(o!==void 0&&O!=null){let j=Fo(O);Array.isArray(j)&&(j=j.map(ie=>tA(Oo(ie)))),d(o,["tools"],j)}const H=u(e,["toolConfig"]);if(o!==void 0&&H!=null&&d(o,["toolConfig"],eA(H)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=u(e,["cachedContent"]);o!==void 0&&z!=null&&d(o,["cachedContent"],Yn(n,z));const Q=u(e,["responseModalities"]);Q!=null&&d(l,["responseModalities"],Q);const ae=u(e,["mediaResolution"]);ae!=null&&d(l,["mediaResolution"],ae);const J=u(e,["speechConfig"]);if(J!=null&&d(l,["speechConfig"],Yc(J)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=u(e,["thinkingConfig"]);te!=null&&d(l,["thinkingConfig"],te);const ne=u(e,["imageConfig"]);ne!=null&&d(l,["imageConfig"],R_(ne));const q=u(e,["enableEnhancedCivicAnswers"]);if(q!=null&&d(l,["enableEnhancedCivicAnswers"],q),u(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return l}function a_(n,e,o){const l={},s=u(e,["systemInstruction"]);o!==void 0&&s!=null&&d(o,["systemInstruction"],Nt(s));const c=u(e,["temperature"]);c!=null&&d(l,["temperature"],c);const f=u(e,["topP"]);f!=null&&d(l,["topP"],f);const g=u(e,["topK"]);g!=null&&d(l,["topK"],g);const y=u(e,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const h=u(e,["maxOutputTokens"]);h!=null&&d(l,["maxOutputTokens"],h);const S=u(e,["stopSequences"]);S!=null&&d(l,["stopSequences"],S);const E=u(e,["responseLogprobs"]);E!=null&&d(l,["responseLogprobs"],E);const T=u(e,["logprobs"]);T!=null&&d(l,["logprobs"],T);const b=u(e,["presencePenalty"]);b!=null&&d(l,["presencePenalty"],b);const N=u(e,["frequencyPenalty"]);N!=null&&d(l,["frequencyPenalty"],N);const _=u(e,["seed"]);_!=null&&d(l,["seed"],_);const A=u(e,["responseMimeType"]);A!=null&&d(l,["responseMimeType"],A);const w=u(e,["responseSchema"]);w!=null&&d(l,["responseSchema"],Jc(w));const B=u(e,["responseJsonSchema"]);B!=null&&d(l,["responseJsonSchema"],B);const k=u(e,["routingConfig"]);k!=null&&d(l,["routingConfig"],k);const O=u(e,["modelSelectionConfig"]);O!=null&&d(l,["modelConfig"],O);const H=u(e,["safetySettings"]);if(o!==void 0&&H!=null){let Z=H;Array.isArray(Z)&&(Z=Z.map(le=>le)),d(o,["safetySettings"],Z)}const z=u(e,["tools"]);if(o!==void 0&&z!=null){let Z=Fo(z);Array.isArray(Z)&&(Z=Z.map(le=>ky(Oo(le)))),d(o,["tools"],Z)}const Q=u(e,["toolConfig"]);o!==void 0&&Q!=null&&d(o,["toolConfig"],Q);const ae=u(e,["labels"]);o!==void 0&&ae!=null&&d(o,["labels"],ae);const J=u(e,["cachedContent"]);o!==void 0&&J!=null&&d(o,["cachedContent"],Yn(n,J));const te=u(e,["responseModalities"]);te!=null&&d(l,["responseModalities"],te);const ne=u(e,["mediaResolution"]);ne!=null&&d(l,["mediaResolution"],ne);const q=u(e,["speechConfig"]);q!=null&&d(l,["speechConfig"],Yc(q));const j=u(e,["audioTimestamp"]);j!=null&&d(l,["audioTimestamp"],j);const ie=u(e,["thinkingConfig"]);ie!=null&&d(l,["thinkingConfig"],ie);const he=u(e,["imageConfig"]);if(he!=null&&d(l,["imageConfig"],D_(he)),u(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const P=u(e,["modelArmorConfig"]);return o!==void 0&&P!=null&&d(o,["modelArmorConfig"],P),l}function Rg(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let f=dn(s);Array.isArray(f)&&(f=f.map(g=>Ns(g))),d(o,["contents"],f)}const c=u(e,["config"]);return c!=null&&d(o,["generationConfig"],o_(n,c,o)),o}function Dg(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let f=dn(s);Array.isArray(f)&&(f=f.map(g=>g)),d(o,["contents"],f)}const c=u(e,["config"]);return c!=null&&d(o,["generationConfig"],a_(n,c,o)),o}function Ug(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(h=>Nx(h))),d(e,["candidates"],y)}const s=u(n,["modelVersion"]);s!=null&&d(e,["modelVersion"],s);const c=u(n,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const f=u(n,["responseId"]);f!=null&&d(e,["responseId"],f);const g=u(n,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function Lg(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["candidates"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(S=>S)),d(e,["candidates"],h)}const s=u(n,["createTime"]);s!=null&&d(e,["createTime"],s);const c=u(n,["modelVersion"]);c!=null&&d(e,["modelVersion"],c);const f=u(n,["promptFeedback"]);f!=null&&d(e,["promptFeedback"],f);const g=u(n,["responseId"]);g!=null&&d(e,["responseId"],g);const y=u(n,["usageMetadata"]);return y!=null&&d(e,["usageMetadata"],y),e}function l_(n,e){const o={};if(u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=u(n,["numberOfImages"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const s=u(n,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const c=u(n,["guidanceScale"]);if(e!==void 0&&c!=null&&d(e,["parameters","guidanceScale"],c),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&d(e,["parameters","safetySetting"],f);const g=u(n,["personGeneration"]);e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g);const y=u(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&d(e,["parameters","includeSafetyAttributes"],y);const h=u(n,["includeRaiReason"]);e!==void 0&&h!=null&&d(e,["parameters","includeRaiReason"],h);const S=u(n,["language"]);e!==void 0&&S!=null&&d(e,["parameters","language"],S);const E=u(n,["outputMimeType"]);e!==void 0&&E!=null&&d(e,["parameters","outputOptions","mimeType"],E);const T=u(n,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T),u(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=u(n,["imageSize"]);if(e!==void 0&&b!=null&&d(e,["parameters","sampleImageSize"],b),u(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function s_(n,e){const o={},l=u(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const s=u(n,["negativePrompt"]);e!==void 0&&s!=null&&d(e,["parameters","negativePrompt"],s);const c=u(n,["numberOfImages"]);e!==void 0&&c!=null&&d(e,["parameters","sampleCount"],c);const f=u(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const g=u(n,["guidanceScale"]);e!==void 0&&g!=null&&d(e,["parameters","guidanceScale"],g);const y=u(n,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const h=u(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const S=u(n,["personGeneration"]);e!==void 0&&S!=null&&d(e,["parameters","personGeneration"],S);const E=u(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&d(e,["parameters","includeSafetyAttributes"],E);const T=u(n,["includeRaiReason"]);e!==void 0&&T!=null&&d(e,["parameters","includeRaiReason"],T);const b=u(n,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const N=u(n,["outputMimeType"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","mimeType"],N);const _=u(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_);const A=u(n,["addWatermark"]);e!==void 0&&A!=null&&d(e,["parameters","addWatermark"],A);const w=u(n,["labels"]);e!==void 0&&w!=null&&d(e,["labels"],w);const B=u(n,["imageSize"]);e!==void 0&&B!=null&&d(e,["parameters","sampleImageSize"],B);const k=u(n,["enhancePrompt"]);return e!==void 0&&k!=null&&d(e,["parameters","enhancePrompt"],k),o}function r_(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["prompt"]);s!=null&&d(o,["instances[0]","prompt"],s);const c=u(e,["config"]);return c!=null&&l_(c,o),o}function u_(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["prompt"]);s!=null&&d(o,["instances[0]","prompt"],s);const c=u(e,["config"]);return c!=null&&s_(c,o),o}function c_(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>C_(f))),d(e,["generatedImages"],c)}const s=u(n,["positivePromptSafetyAttributes"]);return s!=null&&d(e,["positivePromptSafetyAttributes"],zy(s)),e}function d_(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Is(f))),d(e,["generatedImages"],c)}const s=u(n,["positivePromptSafetyAttributes"]);return s!=null&&d(e,["positivePromptSafetyAttributes"],qy(s)),e}function f_(n,e){const o={},l=u(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l),u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=u(n,["durationSeconds"]);if(e!==void 0&&s!=null&&d(e,["parameters","durationSeconds"],s),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(n,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const f=u(n,["resolution"]);e!==void 0&&f!=null&&d(e,["parameters","resolution"],f);const g=u(n,["personGeneration"]);if(e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g),u(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(n,["negativePrompt"]);e!==void 0&&y!=null&&d(e,["parameters","negativePrompt"],y);const h=u(n,["enhancePrompt"]);if(e!==void 0&&h!=null&&d(e,["parameters","enhancePrompt"],h),u(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const S=u(n,["lastFrame"]);e!==void 0&&S!=null&&d(e,["instances[0]","lastFrame"],Ms(S));const E=u(n,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(b=>pA(b))),d(e,["instances[0]","referenceImages"],T)}if(u(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function m_(n,e){const o={},l=u(n,["numberOfVideos"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const s=u(n,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const c=u(n,["fps"]);e!==void 0&&c!=null&&d(e,["parameters","fps"],c);const f=u(n,["durationSeconds"]);e!==void 0&&f!=null&&d(e,["parameters","durationSeconds"],f);const g=u(n,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const y=u(n,["aspectRatio"]);e!==void 0&&y!=null&&d(e,["parameters","aspectRatio"],y);const h=u(n,["resolution"]);e!==void 0&&h!=null&&d(e,["parameters","resolution"],h);const S=u(n,["personGeneration"]);e!==void 0&&S!=null&&d(e,["parameters","personGeneration"],S);const E=u(n,["pubsubTopic"]);e!==void 0&&E!=null&&d(e,["parameters","pubsubTopic"],E);const T=u(n,["negativePrompt"]);e!==void 0&&T!=null&&d(e,["parameters","negativePrompt"],T);const b=u(n,["enhancePrompt"]);e!==void 0&&b!=null&&d(e,["parameters","enhancePrompt"],b);const N=u(n,["generateAudio"]);e!==void 0&&N!=null&&d(e,["parameters","generateAudio"],N);const _=u(n,["lastFrame"]);e!==void 0&&_!=null&&d(e,["instances[0]","lastFrame"],Sn(_));const A=u(n,["referenceImages"]);if(e!==void 0&&A!=null){let k=A;Array.isArray(k)&&(k=k.map(O=>hA(O))),d(e,["instances[0]","referenceImages"],k)}const w=u(n,["mask"]);e!==void 0&&w!=null&&d(e,["instances[0]","mask"],mA(w));const B=u(n,["compressionQuality"]);return e!==void 0&&B!=null&&d(e,["parameters","compressionQuality"],B),o}function p_(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],v_(f)),e}function h_(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],S_(f)),e}function g_(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["prompt"]);s!=null&&d(o,["instances[0]","prompt"],s);const c=u(e,["image"]);c!=null&&d(o,["instances[0]","image"],Ms(c));const f=u(e,["video"]);f!=null&&d(o,["instances[0]","video"],Oy(f));const g=u(e,["source"]);g!=null&&T_(g,o);const y=u(e,["config"]);return y!=null&&f_(y,o),o}function y_(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["prompt"]);s!=null&&d(o,["instances[0]","prompt"],s);const c=u(e,["image"]);c!=null&&d(o,["instances[0]","image"],Sn(c));const f=u(e,["video"]);f!=null&&d(o,["instances[0]","video"],Fy(f));const g=u(e,["source"]);g!=null&&E_(g,o);const y=u(e,["config"]);return y!=null&&m_(y,o),o}function v_(n){const e={},o=u(n,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>__(f))),d(e,["generatedVideos"],c)}const l=u(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const s=u(n,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function S_(n){const e={},o=u(n,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>A_(f))),d(e,["generatedVideos"],c)}const l=u(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const s=u(n,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function T_(n,e){const o={},l=u(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const s=u(n,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],Ms(s));const c=u(n,["video"]);return e!==void 0&&c!=null&&d(e,["instances[0]","video"],Oy(c)),o}function E_(n,e){const o={},l=u(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const s=u(n,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],Sn(s));const c=u(n,["video"]);return e!==void 0&&c!=null&&d(e,["instances[0]","video"],Fy(c)),o}function C_(n){const e={},o=u(n,["_self"]);o!=null&&d(e,["image"],U_(o));const l=u(n,["raiFilteredReason"]);l!=null&&d(e,["raiFilteredReason"],l);const s=u(n,["_self"]);return s!=null&&d(e,["safetyAttributes"],zy(s)),e}function Is(n){const e={},o=u(n,["_self"]);o!=null&&d(e,["image"],Vy(o));const l=u(n,["raiFilteredReason"]);l!=null&&d(e,["raiFilteredReason"],l);const s=u(n,["_self"]);s!=null&&d(e,["safetyAttributes"],qy(s));const c=u(n,["prompt"]);return c!=null&&d(e,["enhancedPrompt"],c),e}function x_(n){const e={},o=u(n,["_self"]);o!=null&&d(e,["mask"],Vy(o));const l=u(n,["labels"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>c)),d(e,["labels"],s)}return e}function __(n){const e={},o=u(n,["video"]);return o!=null&&d(e,["video"],dA(o)),e}function A_(n){const e={},o=u(n,["_self"]);return o!=null&&d(e,["video"],fA(o)),e}function b_(n){const e={},o=u(n,["modelSelectionConfig"]);o!=null&&d(e,["modelConfig"],o);const l=u(n,["responseJsonSchema"]);l!=null&&d(e,["responseJsonSchema"],l);const s=u(n,["audioTimestamp"]);s!=null&&d(e,["audioTimestamp"],s);const c=u(n,["candidateCount"]);c!=null&&d(e,["candidateCount"],c);const f=u(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const g=u(n,["frequencyPenalty"]);g!=null&&d(e,["frequencyPenalty"],g);const y=u(n,["logprobs"]);y!=null&&d(e,["logprobs"],y);const h=u(n,["maxOutputTokens"]);h!=null&&d(e,["maxOutputTokens"],h);const S=u(n,["mediaResolution"]);S!=null&&d(e,["mediaResolution"],S);const E=u(n,["presencePenalty"]);E!=null&&d(e,["presencePenalty"],E);const T=u(n,["responseLogprobs"]);T!=null&&d(e,["responseLogprobs"],T);const b=u(n,["responseMimeType"]);b!=null&&d(e,["responseMimeType"],b);const N=u(n,["responseModalities"]);N!=null&&d(e,["responseModalities"],N);const _=u(n,["responseSchema"]);_!=null&&d(e,["responseSchema"],_);const A=u(n,["routingConfig"]);A!=null&&d(e,["routingConfig"],A);const w=u(n,["seed"]);w!=null&&d(e,["seed"],w);const B=u(n,["speechConfig"]);B!=null&&d(e,["speechConfig"],B);const k=u(n,["stopSequences"]);k!=null&&d(e,["stopSequences"],k);const O=u(n,["temperature"]);O!=null&&d(e,["temperature"],O);const H=u(n,["thinkingConfig"]);H!=null&&d(e,["thinkingConfig"],H);const z=u(n,["topK"]);z!=null&&d(e,["topK"],z);const Q=u(n,["topP"]);if(Q!=null&&d(e,["topP"],Q),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function N_(n,e){const o={},l=u(e,["model"]);return l!=null&&d(o,["_url","name"],Ve(n,l)),o}function I_(n,e){const o={},l=u(e,["model"]);return l!=null&&d(o,["_url","name"],Ve(n,l)),o}function M_(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function w_(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function R_(n){const e={},o=u(n,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const l=u(n,["imageSize"]);if(l!=null&&d(e,["imageSize"],l),u(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function D_(n){const e={},o=u(n,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const l=u(n,["imageSize"]);l!=null&&d(e,["imageSize"],l);const s=u(n,["personGeneration"]);s!=null&&d(e,["personGeneration"],s);const c=u(n,["outputMimeType"]);c!=null&&d(e,["imageOutputOptions","mimeType"],c);const f=u(n,["outputCompressionQuality"]);return f!=null&&d(e,["imageOutputOptions","compressionQuality"],f),e}function U_(n){const e={},o=u(n,["bytesBase64Encoded"]);o!=null&&d(e,["imageBytes"],Ci(o));const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function Vy(n){const e={},o=u(n,["gcsUri"]);o!=null&&d(e,["gcsUri"],o);const l=u(n,["bytesBase64Encoded"]);l!=null&&d(e,["imageBytes"],Ci(l));const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Ms(n){const e={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(n,["imageBytes"]);o!=null&&d(e,["bytesBase64Encoded"],Ci(o));const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function Sn(n){const e={},o=u(n,["gcsUri"]);o!=null&&d(e,["gcsUri"],o);const l=u(n,["imageBytes"]);l!=null&&d(e,["bytesBase64Encoded"],Ci(l));const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function L_(n,e,o){const l={},s=u(e,["pageSize"]);o!==void 0&&s!=null&&d(o,["_query","pageSize"],s);const c=u(e,["pageToken"]);o!==void 0&&c!=null&&d(o,["_query","pageToken"],c);const f=u(e,["filter"]);o!==void 0&&f!=null&&d(o,["_query","filter"],f);const g=u(e,["queryBase"]);return o!==void 0&&g!=null&&d(o,["_url","models_url"],Dy(n,g)),l}function P_(n,e,o){const l={},s=u(e,["pageSize"]);o!==void 0&&s!=null&&d(o,["_query","pageSize"],s);const c=u(e,["pageToken"]);o!==void 0&&c!=null&&d(o,["_query","pageToken"],c);const f=u(e,["filter"]);o!==void 0&&f!=null&&d(o,["_query","filter"],f);const g=u(e,["queryBase"]);return o!==void 0&&g!=null&&d(o,["_url","models_url"],Dy(n,g)),l}function G_(n,e){const o={},l=u(e,["config"]);return l!=null&&L_(n,l,o),o}function B_(n,e){const o={},l=u(e,["config"]);return l!=null&&P_(n,l,o),o}function H_(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["_self"]);if(s!=null){let c=Uy(s);Array.isArray(c)&&(c=c.map(f=>Cc(f))),d(e,["models"],c)}return e}function V_(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["_self"]);if(s!=null){let c=Uy(s);Array.isArray(c)&&(c=c.map(f=>xc(f))),d(e,["models"],c)}return e}function z_(n){const e={},o=u(n,["maskMode"]);o!=null&&d(e,["maskMode"],o);const l=u(n,["segmentationClasses"]);l!=null&&d(e,["maskClasses"],l);const s=u(n,["maskDilation"]);return s!=null&&d(e,["dilation"],s),e}function Cc(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const l=u(n,["displayName"]);l!=null&&d(e,["displayName"],l);const s=u(n,["description"]);s!=null&&d(e,["description"],s);const c=u(n,["version"]);c!=null&&d(e,["version"],c);const f=u(n,["_self"]);f!=null&&d(e,["tunedModelInfo"],nA(f));const g=u(n,["inputTokenLimit"]);g!=null&&d(e,["inputTokenLimit"],g);const y=u(n,["outputTokenLimit"]);y!=null&&d(e,["outputTokenLimit"],y);const h=u(n,["supportedGenerationMethods"]);h!=null&&d(e,["supportedActions"],h);const S=u(n,["temperature"]);S!=null&&d(e,["temperature"],S);const E=u(n,["maxTemperature"]);E!=null&&d(e,["maxTemperature"],E);const T=u(n,["topP"]);T!=null&&d(e,["topP"],T);const b=u(n,["topK"]);b!=null&&d(e,["topK"],b);const N=u(n,["thinking"]);return N!=null&&d(e,["thinking"],N),e}function xc(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const l=u(n,["displayName"]);l!=null&&d(e,["displayName"],l);const s=u(n,["description"]);s!=null&&d(e,["description"],s);const c=u(n,["versionId"]);c!=null&&d(e,["version"],c);const f=u(n,["deployedModels"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(T=>Wx(T))),d(e,["endpoints"],E)}const g=u(n,["labels"]);g!=null&&d(e,["labels"],g);const y=u(n,["_self"]);y!=null&&d(e,["tunedModelInfo"],iA(y));const h=u(n,["defaultCheckpointId"]);h!=null&&d(e,["defaultCheckpointId"],h);const S=u(n,["checkpoints"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(T=>T)),d(e,["checkpoints"],E)}return e}function q_(n){const e={},o=u(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=u(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const s=u(n,["executableCode"]);s!=null&&d(e,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],e_(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],t_(f));const g=u(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&d(e,["inlineData"],bx(y));const h=u(n,["text"]);h!=null&&d(e,["text"],h);const S=u(n,["thought"]);S!=null&&d(e,["thought"],S);const E=u(n,["thoughtSignature"]);E!=null&&d(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function k_(n){const e={},o=u(n,["productImage"]);return o!=null&&d(e,["image"],Sn(o)),e}function O_(n,e){const o={},l=u(n,["numberOfImages"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const s=u(n,["baseSteps"]);e!==void 0&&s!=null&&d(e,["parameters","baseSteps"],s);const c=u(n,["outputGcsUri"]);e!==void 0&&c!=null&&d(e,["parameters","storageUri"],c);const f=u(n,["seed"]);e!==void 0&&f!=null&&d(e,["parameters","seed"],f);const g=u(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&d(e,["parameters","safetySetting"],g);const y=u(n,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const h=u(n,["addWatermark"]);e!==void 0&&h!=null&&d(e,["parameters","addWatermark"],h);const S=u(n,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const E=u(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&d(e,["parameters","outputOptions","compressionQuality"],E);const T=u(n,["enhancePrompt"]);e!==void 0&&T!=null&&d(e,["parameters","enhancePrompt"],T);const b=u(n,["labels"]);return e!==void 0&&b!=null&&d(e,["labels"],b),o}function F_(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["source"]);s!=null&&Y_(s,o);const c=u(e,["config"]);return c!=null&&O_(c,o),o}function J_(n){const e={},o=u(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>Is(s))),d(e,["generatedImages"],l)}return e}function Y_(n,e){const o={},l=u(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const s=u(n,["personImage"]);e!==void 0&&s!=null&&d(e,["instances[0]","personImage","image"],Sn(s));const c=u(n,["productImages"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(g=>k_(g))),d(e,["instances[0]","productImages"],f)}return o}function $_(n){const e={},o=u(n,["referenceImage"]);o!=null&&d(e,["referenceImage"],Sn(o));const l=u(n,["referenceId"]);l!=null&&d(e,["referenceId"],l);const s=u(n,["referenceType"]);s!=null&&d(e,["referenceType"],s);const c=u(n,["maskImageConfig"]);c!=null&&d(e,["maskImageConfig"],z_(c));const f=u(n,["controlImageConfig"]);f!=null&&d(e,["controlImageConfig"],Ux(f));const g=u(n,["styleImageConfig"]);g!=null&&d(e,["styleImageConfig"],g);const y=u(n,["subjectImageConfig"]);return y!=null&&d(e,["subjectImageConfig"],y),e}function zy(n){const e={},o=u(n,["safetyAttributes","categories"]);o!=null&&d(e,["categories"],o);const l=u(n,["safetyAttributes","scores"]);l!=null&&d(e,["scores"],l);const s=u(n,["contentType"]);return s!=null&&d(e,["contentType"],s),e}function qy(n){const e={},o=u(n,["safetyAttributes","categories"]);o!=null&&d(e,["categories"],o);const l=u(n,["safetyAttributes","scores"]);l!=null&&d(e,["scores"],l);const s=u(n,["contentType"]);return s!=null&&d(e,["contentType"],s),e}function K_(n){const e={},o=u(n,["category"]);if(o!=null&&d(e,["category"],o),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=u(n,["threshold"]);return l!=null&&d(e,["threshold"],l),e}function X_(n){const e={},o=u(n,["image"]);return o!=null&&d(e,["image"],Sn(o)),e}function Q_(n,e){const o={},l=u(n,["mode"]);e!==void 0&&l!=null&&d(e,["parameters","mode"],l);const s=u(n,["maxPredictions"]);e!==void 0&&s!=null&&d(e,["parameters","maxPredictions"],s);const c=u(n,["confidenceThreshold"]);e!==void 0&&c!=null&&d(e,["parameters","confidenceThreshold"],c);const f=u(n,["maskDilation"]);e!==void 0&&f!=null&&d(e,["parameters","maskDilation"],f);const g=u(n,["binaryColorThreshold"]);e!==void 0&&g!=null&&d(e,["parameters","binaryColorThreshold"],g);const y=u(n,["labels"]);return e!==void 0&&y!=null&&d(e,["labels"],y),o}function Z_(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["source"]);s!=null&&W_(s,o);const c=u(e,["config"]);return c!=null&&Q_(c,o),o}function j_(n){const e={},o=u(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>x_(s))),d(e,["generatedMasks"],l)}return e}function W_(n,e){const o={},l=u(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const s=u(n,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],Sn(s));const c=u(n,["scribbleImage"]);return e!==void 0&&c!=null&&d(e,["instances[0]","scribble"],X_(c)),o}function eA(n){const e={},o=u(n,["retrievalConfig"]);o!=null&&d(e,["retrievalConfig"],o);const l=u(n,["functionCallingConfig"]);return l!=null&&d(e,["functionCallingConfig"],n_(l)),e}function tA(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const l=u(n,["fileSearch"]);l!=null&&d(e,["fileSearch"],l);const s=u(n,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(E=>E)),d(e,["functionDeclarations"],S)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],M_(f));const g=u(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],w_(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const h=u(n,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function ky(n){const e={},o=u(n,["retrieval"]);o!=null&&d(e,["retrieval"],o);const l=u(n,["computerUse"]);if(l!=null&&d(e,["computerUse"],l),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=u(n,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const c=u(n,["enterpriseWebSearch"]);c!=null&&d(e,["enterpriseWebSearch"],c);const f=u(n,["functionDeclarations"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(T=>i_(T))),d(e,["functionDeclarations"],E)}const g=u(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const y=u(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const h=u(n,["googleSearchRetrieval"]);h!=null&&d(e,["googleSearchRetrieval"],h);const S=u(n,["urlContext"]);return S!=null&&d(e,["urlContext"],S),e}function nA(n){const e={},o=u(n,["baseModel"]);o!=null&&d(e,["baseModel"],o);const l=u(n,["createTime"]);l!=null&&d(e,["createTime"],l);const s=u(n,["updateTime"]);return s!=null&&d(e,["updateTime"],s),e}function iA(n){const e={},o=u(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&d(e,["baseModel"],o);const l=u(n,["createTime"]);l!=null&&d(e,["createTime"],l);const s=u(n,["updateTime"]);return s!=null&&d(e,["updateTime"],s),e}function oA(n,e){const o={},l=u(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const s=u(n,["description"]);e!==void 0&&s!=null&&d(e,["description"],s);const c=u(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&d(e,["defaultCheckpointId"],c),o}function aA(n,e){const o={},l=u(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const s=u(n,["description"]);e!==void 0&&s!=null&&d(e,["description"],s);const c=u(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&d(e,["defaultCheckpointId"],c),o}function lA(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","name"],Ve(n,l));const s=u(e,["config"]);return s!=null&&oA(s,o),o}function sA(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["config"]);return s!=null&&aA(s,o),o}function rA(n,e){const o={},l=u(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const s=u(n,["safetyFilterLevel"]);e!==void 0&&s!=null&&d(e,["parameters","safetySetting"],s);const c=u(n,["personGeneration"]);e!==void 0&&c!=null&&d(e,["parameters","personGeneration"],c);const f=u(n,["includeRaiReason"]);e!==void 0&&f!=null&&d(e,["parameters","includeRaiReason"],f);const g=u(n,["outputMimeType"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","mimeType"],g);const y=u(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&d(e,["parameters","outputOptions","compressionQuality"],y);const h=u(n,["enhanceInputImage"]);e!==void 0&&h!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],h);const S=u(n,["imagePreservationFactor"]);e!==void 0&&S!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],S);const E=u(n,["labels"]);e!==void 0&&E!=null&&d(e,["labels"],E);const T=u(n,["numberOfImages"]);e!==void 0&&T!=null&&d(e,["parameters","sampleCount"],T);const b=u(n,["mode"]);return e!==void 0&&b!=null&&d(e,["parameters","mode"],b),o}function uA(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["_url","model"],Ve(n,l));const s=u(e,["image"]);s!=null&&d(o,["instances[0]","image"],Sn(s));const c=u(e,["upscaleFactor"]);c!=null&&d(o,["parameters","upscaleConfig","upscaleFactor"],c);const f=u(e,["config"]);return f!=null&&rA(f,o),o}function cA(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>Is(c))),d(e,["generatedImages"],s)}return e}function dA(n){const e={},o=u(n,["uri"]);o!=null&&d(e,["uri"],o);const l=u(n,["encodedVideo"]);l!=null&&d(e,["videoBytes"],Ci(l));const s=u(n,["encoding"]);return s!=null&&d(e,["mimeType"],s),e}function fA(n){const e={},o=u(n,["gcsUri"]);o!=null&&d(e,["uri"],o);const l=u(n,["bytesBase64Encoded"]);l!=null&&d(e,["videoBytes"],Ci(l));const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function mA(n){const e={},o=u(n,["image"]);o!=null&&d(e,["_self"],Sn(o));const l=u(n,["maskMode"]);return l!=null&&d(e,["maskMode"],l),e}function pA(n){const e={},o=u(n,["image"]);o!=null&&d(e,["image"],Ms(o));const l=u(n,["referenceType"]);return l!=null&&d(e,["referenceType"],l),e}function hA(n){const e={},o=u(n,["image"]);o!=null&&d(e,["image"],Sn(o));const l=u(n,["referenceType"]);return l!=null&&d(e,["referenceType"],l),e}function Oy(n){const e={},o=u(n,["uri"]);o!=null&&d(e,["uri"],o);const l=u(n,["videoBytes"]);l!=null&&d(e,["encodedVideo"],Ci(l));const s=u(n,["mimeType"]);return s!=null&&d(e,["encoding"],s),e}function Fy(n){const e={},o=u(n,["uri"]);o!=null&&d(e,["gcsUri"],o);const l=u(n,["videoBytes"]);l!=null&&d(e,["bytesBase64Encoded"],Ci(l));const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gA(n,e){const o={},l=u(n,["displayName"]);return e!==void 0&&l!=null&&d(e,["displayName"],l),o}function yA(n){const e={},o=u(n,["config"]);return o!=null&&gA(o,e),e}function vA(n,e){const o={},l=u(n,["force"]);return e!==void 0&&l!=null&&d(e,["_query","force"],l),o}function SA(n){const e={},o=u(n,["name"]);o!=null&&d(e,["_url","name"],o);const l=u(n,["config"]);return l!=null&&vA(l,e),e}function TA(n){const e={},o=u(n,["name"]);return o!=null&&d(e,["_url","name"],o),e}function EA(n,e){const o={},l=u(n,["customMetadata"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["customMetadata"],c)}const s=u(n,["chunkingConfig"]);return e!==void 0&&s!=null&&d(e,["chunkingConfig"],s),o}function CA(n){const e={},o=u(n,["name"]);o!=null&&d(e,["name"],o);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],_A(f)),e}function xA(n){const e={},o=u(n,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const l=u(n,["fileName"]);l!=null&&d(e,["fileName"],l);const s=u(n,["config"]);return s!=null&&EA(s,e),e}function _A(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["parent"]);l!=null&&d(e,["parent"],l);const s=u(n,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function AA(n,e){const o={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),o}function bA(n){const e={},o=u(n,["config"]);return o!=null&&AA(o,e),e}function NA(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["fileSearchStores"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["fileSearchStores"],c)}return e}function Jy(n,e){const o={},l=u(n,["mimeType"]);e!==void 0&&l!=null&&d(e,["mimeType"],l);const s=u(n,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const c=u(n,["customMetadata"]);if(e!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),d(e,["customMetadata"],g)}const f=u(n,["chunkingConfig"]);return e!==void 0&&f!=null&&d(e,["chunkingConfig"],f),o}function IA(n){const e={},o=u(n,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const l=u(n,["config"]);return l!=null&&Jy(l,e),e}function MA(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wA="Content-Type",RA="X-Server-Timeout",DA="User-Agent",_c="x-goog-api-client",UA="1.38.0",LA=`google-genai-sdk/${UA}`,PA="v1beta1",GA="v1beta";class BA{constructor(e){var o,l,s;this.clientOptions=Object.assign({},e),this.customBaseUrl=(o=e.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!g?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:PA}else{if(!this.clientOptions.apiKey)throw new ka({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:GA,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const s=[this.getRequestUrlInternal(o)];return l&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e,o){return!(o.baseUrl&&o.baseUrlResourceScope===vc.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e,o),s=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[f,g]of Object.entries(e.queryParams))s.searchParams.append(f,String(g));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,s.toString(),e.abortSignal),this.unaryApiCall(s,c,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[s,c]of Object.entries(o))typeof c=="object"?l[s]=Object.assign(Object.assign({},l[s]),c):c!==void 0&&(l[s]=c);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e,o),s=this.constructUrl(e.path,o,l);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,s.toString(),e.abortSignal),this.streamApiCall(s,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l,s){if(o&&o.timeout||s){const c=new AbortController,f=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>c.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}s&&s.addEventListener("abort",()=>{c.abort()}),e.signal=f}return o&&o.extraBody!==null&&HA(e,o.extraBody),e.headers=await this.getHeadersInternal(o,l),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async s=>(await Pg(s),new Sc(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async s=>(await Pg(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return yn(this,arguments,function*(){var l;const s=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),c=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let f="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:S}=yield Se(s.read());if(h){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=c.decode(S,{stream:!0});try{const N=JSON.parse(E);if("error"in N){const _=JSON.parse(JSON.stringify(N.error)),A=_.status,w=_.code,B=`got status: ${A}. ${JSON.stringify(N)}`;if(w>=400&&w<600)throw new ka({message:B,status:w})}}catch(N){if(N.name==="ApiError")throw N}f+=E;let T=-1,b=0;for(;;){T=-1,b=0;for(const A of y){const w=f.indexOf(A);w!==-1&&(T===-1||w<T)&&(T=w,b=A.length)}if(T===-1)break;const N=f.substring(0,T);f=f.substring(T+b);const _=N.trim();if(_.startsWith(g)){const A=_.substring(g.length).trim();try{const w=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Se(new Sc(w))}catch(w){throw new Error(`exception parsing stream chunk ${A}. ${w}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=LA+" "+this.clientOptions.userAgentExtra;return e[DA]=o,e[_c]=o,e[wA]="application/json",e}async getHeadersInternal(e,o){const l=new Headers;if(e&&e.headers){for(const[s,c]of Object.entries(e.headers))l.append(s,c);e.timeout&&e.timeout>0&&l.append(RA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,o),l}getFileName(e){var o;let l="";return typeof e=="string"&&(l=e.replace(/[/\\]+$/,""),l=(o=l.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),l}async uploadFile(e,o){var l;const s={};o!=null&&(s.mimeType=o.mimeType,s.name=o.name,s.displayName=o.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const c=this.clientOptions.uploader,f=await c.stat(e);s.sizeBytes=String(f.size);const g=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=g;const y={file:s},h=this.getFileName(e),S=ee("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(S,s.sizeBytes,s.mimeType,h,y,o==null?void 0:o.httpOptions);return c.upload(e,E,this)}async uploadFileToFileSearchStore(e,o,l){var s;const c=this.clientOptions.uploader,f=await c.stat(o),g=String(f.size),y=(s=l==null?void 0:l.mimeType)!==null&&s!==void 0?s:f.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,S=this.getFileName(o),E={};l!=null&&Jy(l,E);const T=await this.fetchUploadUrl(h,g,y,S,E,l==null?void 0:l.httpOptions);return c.uploadToFileSearchStore(o,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,l,s,c,f){var g;let y={};f?y=f:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${l}`},s?{"X-Goog-Upload-File-Name":s}:{})};const h=await this.request({path:e,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const S=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(S===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return S}}async function Pg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const s=JSON.stringify(l);throw o>=400&&o<600?new ka({message:s,status:o}):new Error(s)}}function HA(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const c=JSON.parse(n.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(c,f){const g=Object.assign({},c);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){const h=f[y],S=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&S&&typeof S=="object"&&!Array.isArray(S)?g[y]=l(S,h):(S&&h&&typeof S!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof S}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const s=l(o,e);n.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VA="mcp_used/unknown";let zA=!1;function Yy(n){for(const e of n)if(qA(e)||typeof e=="object"&&"inputSchema"in e)return!0;return zA}function $y(n){var e;const o=(e=n[_c])!==null&&e!==void 0?e:"";n[_c]=(o+` ${VA}`).trimStart()}function qA(n){return n!==null&&typeof n=="object"&&n instanceof Kc}function kA(n){return yn(this,arguments,function*(o,l=100){let s,c=0;for(;c<l;){const f=yield Se(o.listTools({cursor:s}));for(const g of f.tools)yield yield Se(g),c++;if(!f.nextCursor)break;s=f.nextCursor}})}class Kc{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Kc(e,o)}async initialize(){var e,o,l,s;if(this.mcpTools.length>0)return;const c={},f=[];for(const S of this.mcpClients)try{for(var g=!0,y=(o=void 0,vn(kA(S))),h;h=await y.next(),e=h.done,!e;g=!0){s=h.value,g=!1;const E=s;f.push(E);const T=E.name;if(c[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);c[T]=S}}catch(E){o={error:E}}finally{try{!g&&!e&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),SE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[l.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const f=await s.callTool({name:l.name,arguments:l.args},void 0,c);o.push({functionResponse:{name:l.name,response:f.isError?{error:f}:f}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function OA(n,e,o){const l=new dE;let s;o.data instanceof Blob?s=JSON.parse(await o.data.text()):s=JSON.parse(o.data),Object.assign(l,s),e(l)}class FA{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),f=$A(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${s}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const S=new Promise(k=>{h=k}),E=e.callbacks,T=function(){h({})},b=this.apiClient,N={onopen:T,onmessage:k=>{OA(b,E.onmessage,k)},onerror:(o=E==null?void 0:E.onerror)!==null&&o!==void 0?o:function(k){},onclose:(l=E==null?void 0:E.onclose)!==null&&l!==void 0?l:function(k){}},_=this.webSocketFactory.create(y,YA(f),N);_.connect(),await S;const B={setup:{model:Ve(this.apiClient,e.model)}};return _.send(JSON.stringify(B)),new JA(_,this.apiClient)}}class JA{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=gx(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=hx(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Bo.PLAY)}pause(){this.sendPlaybackControl(Bo.PAUSE)}stop(){this.sendPlaybackControl(Bo.STOP)}resetContext(){this.sendPlaybackControl(Bo.RESET_CONTEXT)}close(){this.conn.close()}}function YA(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function $A(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function XA(n,e,o){const l=new cE;let s;o.data instanceof Blob?s=await o.data.text():o.data instanceof ArrayBuffer?s=new TextDecoder().decode(o.data):s=o.data;const c=JSON.parse(s);if(n.isVertexAI()){const f=Sx(c);Object.assign(l,f)}else Object.assign(l,c);e(l)}class QA{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new FA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,s,c,f,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let S;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&Yy(e.config.tools)&&$y(E);const T=eb(E);if(this.apiClient.isVertexAI()){const J=this.apiClient.getProject(),te=this.apiClient.getLocation(),ne=this.apiClient.getApiKey(),q=!!J&&!!te||!!ne;this.apiClient.getCustomBaseUrl()&&!q?S=y:(S=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,S))}else{const J=this.apiClient.getApiKey();let te="BidiGenerateContent",ne="key";J!=null&&J.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",ne="access_token"),S=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${te}?${ne}=${J}`}let b=()=>{};const N=new Promise(J=>{b=J}),_=e.callbacks,A=function(){var J;(J=_==null?void 0:_.onopen)===null||J===void 0||J.call(_),b({})},w=this.apiClient,B={onopen:A,onmessage:J=>{XA(w,_.onmessage,J)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function(J){},onclose:(l=_==null?void 0:_.onclose)!==null&&l!==void 0?l:function(J){}},k=this.webSocketFactory.create(S,WA(T),B);k.connect(),await N;let O=Ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const J=this.apiClient.getProject(),te=this.apiClient.getLocation();J&&te&&(O=`projects/${J}/locations/${te}/`+O)}let H={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[hs.AUDIO]}:e.config.responseModalities=[hs.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const z=(g=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[],Q=[];for(const J of z)if(this.isCallableTool(J)){const te=J;Q.push(await te.tool())}else Q.push(J);Q.length>0&&(e.config.tools=Q);const ae={model:O,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?H=px(this.apiClient,ae):H=mx(this.apiClient,ae),delete H.config,k.send(JSON.stringify(H)),new jA(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ZA={turnComplete:!0};class jA{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=dn(o.turns),e.isVertexAI()||(l=l.map(s=>Ns(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const c of l){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(KA)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},ZA),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:vx(e)}:o={realtimeInput:yx(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function WA(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function eb(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gg=10;function Bg(n){var e,o,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const f of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(qo(f)){s=!0;break}if(!s)return!0;const c=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function qo(n){return"callTool"in n&&typeof n.callTool=="function"}function tb(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(s=>qo(s)))!==null&&l!==void 0?l:!1}function Hg(n){var e;const o=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((l,s)=>{if(qo(l))return;const c=l;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(s)}),o}function Vg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nb extends Jn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,s,c,f,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!tb(o)||Bg(o.config))return await this.generateContentInternal(y);const h=Hg(o);if(h.length>0){const _=h.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let S,E;const T=dn(y.contents),b=(c=(s=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&c!==void 0?c:Gg;let N=0;for(;N<b&&(S=await this.generateContentInternal(y),!(!S.functionCalls||S.functionCalls.length===0));){const _=S.candidates[0].content,A=[];for(const w of(g=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[])if(qo(w)){const k=await w.callTool(S.functionCalls);A.push(...k)}N++,E={role:"user",parts:A},y.contents=dn(y.contents),y.contents.push(_),y.contents.push(E),Vg(y.config)&&(T.push(_),T.push(E))}return Vg(y.config)&&(S.automaticFunctionCallingHistory=T),S},this.generateContentStream=async o=>{var l,s,c,f,g;if(this.maybeMoveToResponseJsonSchem(o),Bg(o.config)){const E=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(E)}const y=Hg(o);if(y.length>0){const E=y.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(c=(s=(l=o==null?void 0:o.config)===null||l===void 0?void 0:l.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,S=(g=(f=o==null?void 0:o.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!S)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var s;let c;const f=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((s=y==null?void 0:y.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:f.push(y);let g;return c?g={generatedImages:f,positivePromptSafetyAttributes:c,sdkHttpResponse:l.sdkHttpResponse}:g={generatedImages:f,sdkHttpResponse:l.sdkHttpResponse},g}),this.list=async o=>{var l;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((l=f.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Ki(On.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(f),f)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const s={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(s)},this.generateVideos=async o=>{var l,s,c,f,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=o.video)===null||l===void 0)&&l.uri&&(!((s=o.video)===null||s===void 0)&&s.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(c=o.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,s;const c=(o=e.config)===null||o===void 0?void 0:o.tools;if(!c)return e;const f=await Promise.all(c.map(async y=>qo(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(g.config.tools=f,e.config&&e.config.tools&&Yy(e.config.tools)){const y=(s=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&s!==void 0?s:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),$y(h),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(e){var o,l,s;const c=new Map;for(const f of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(qo(f)){const g=f,y=await g.tool();for(const h of(s=y.functionDeclarations)!==null&&s!==void 0?s:[]){if(!h.name)throw new Error("Function declaration name is required.");if(c.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);c.set(h.name,g)}}return c}async processAfcStream(e){var o,l,s;const c=(s=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&s!==void 0?s:Gg;let f=!1,g=0;const y=await this.initAfcToolsMap(e);return(function(h,S,E){return yn(this,arguments,function*(){for(var T,b,N,_,A,w;g<c;){f&&(g++,f=!1);const H=yield Se(h.processParamsMaybeAddMcpUsage(E)),z=yield Se(h.generateContentStreamInternal(H)),Q=[],ae=[];try{for(var B=!0,k=(b=void 0,vn(z)),O;O=yield Se(k.next()),T=O.done,!T;B=!0){_=O.value,B=!1;const J=_;if(yield yield Se(J),J.candidates&&(!((A=J.candidates[0])===null||A===void 0)&&A.content)){ae.push(J.candidates[0].content);for(const te of(w=J.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(g<c&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(S.has(te.functionCall.name)){const ne=yield Se(S.get(te.functionCall.name).callTool([te.functionCall]));Q.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${S.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch(J){b={error:J}}finally{try{!B&&!T&&(N=k.return)&&(yield Se(N.call(k)))}finally{if(b)throw b.error}}if(Q.length>0){f=!0;const J=new Va;J.candidates=[{content:{role:"user",parts:Q}}],yield yield Se(J);const te=[];te.push(...ae),te.push({role:"user",parts:Q});const ne=dn(E.contents).concat(te);E.contents=ne}else break}})})(this,y,e)}async generateContentInternal(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=Dg(this.apiClient,e);return g=ee("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=Lg(S),T=new Va;return Object.assign(T,E),T})}else{const h=Rg(this.apiClient,e);return g=ee("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=Ug(S),T=new Va;return Object.assign(T,E),T})}}async generateContentStreamInternal(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=Dg(this.apiClient,e);return g=ee("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),f.then(function(E){return yn(this,arguments,function*(){var T,b,N,_;try{for(var A=!0,w=vn(E),B;B=yield Se(w.next()),T=B.done,!T;A=!0){_=B.value,A=!1;const k=_,O=Lg(yield Se(k.json()));O.sdkHttpResponse={headers:k.headers};const H=new Va;Object.assign(H,O),yield yield Se(H)}}catch(k){b={error:k}}finally{try{!A&&!T&&(N=w.return)&&(yield Se(N.call(w)))}finally{if(b)throw b.error}}})})}else{const h=Rg(this.apiClient,e);return g=ee("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),f.then(function(E){return yn(this,arguments,function*(){var T,b,N,_;try{for(var A=!0,w=vn(E),B;B=yield Se(w.next()),T=B.done,!T;A=!0){_=B.value,A=!1;const k=_,O=Ug(yield Se(k.json()));O.sdkHttpResponse={headers:k.headers};const H=new Va;Object.assign(H,O),yield yield Se(H)}}catch(k){b={error:k}}finally{try{!A&&!T&&(N=w.return)&&(yield Se(N.call(w)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=Qx(this.apiClient,e);return g=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=jx(S),T=new pg;return Object.assign(T,E),T})}else{const h=Xx(this.apiClient,e);return g=ee("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=Zx(S),T=new pg;return Object.assign(T,E),T})}}async generateImagesInternal(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=u_(this.apiClient,e);return g=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=d_(S),T=new hg;return Object.assign(T,E),T})}else{const h=r_(this.apiClient,e);return g=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=c_(S),T=new hg;return Object.assign(T,E),T})}}async editImageInternal(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=Jx(this.apiClient,e);return c=ee("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>{const h=Yx(y),S=new WT;return Object.assign(S,h),S})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=uA(this.apiClient,e);return c=ee("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>{const h=cA(y),S=new eE;return Object.assign(S,h),S})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=F_(this.apiClient,e);return c=ee("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=J_(y),S=new tE;return Object.assign(S,h),S})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=Z_(this.apiClient,e);return c=ee("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=j_(y),S=new nE;return Object.assign(S,h),S})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=I_(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>xc(S))}else{const h=N_(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>Cc(S))}}async listInternal(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=B_(this.apiClient,e);return g=ee("{models_url}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=V_(S),T=new gg;return Object.assign(T,E),T})}else{const h=G_(this.apiClient,e);return g=ee("{models_url}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=H_(S),T=new gg;return Object.assign(T,E),T})}}async update(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=sA(this.apiClient,e);return g=ee("{model}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>xc(S))}else{const h=lA(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>Cc(S))}}async delete(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=qx(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=Ox(S),T=new yg;return Object.assign(T,E),T})}else{const h=zx(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=kx(S),T=new yg;return Object.assign(T,E),T})}}async countTokens(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=Bx(this.apiClient,e);return g=ee("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=Vx(S),T=new vg;return Object.assign(T,E),T})}else{const h=Gx(this.apiClient,e);return g=ee("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=Hx(S),T=new vg;return Object.assign(T,E),T})}}async computeTokens(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=Mx(this.apiClient,e);return c=ee("{model}:computeTokens",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>{const h=wx(y),S=new iE;return Object.assign(S,h),S})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=y_(this.apiClient,e);return g=ee("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>{const E=h_(S),T=new gs;return Object.assign(T,E),T})}else{const h=g_(this.apiClient,e);return g=ee("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>{const E=p_(S),T=new gs;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ib extends Jn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=o.name.split("/operations/")[0];let c;l&&"httpOptions"in l&&(c=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:s,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=o.name.split("/operations/")[0];let c;l&&"httpOptions"in l&&(c=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:s,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=$T(e);return g=ee("{operationName}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f}else{const h=YT(e);return g=ee("{operationName}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f}}async fetchPredictVideosOperationInternal(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=VT(e);return c=ee("{resourceName}:fetchPredictOperation",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ob(n){const e={},o=u(n,["data"]);if(o!=null&&d(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function ab(n){const e={},o=u(n,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>pb(c))),d(e,["parts"],s)}const l=u(n,["role"]);return l!=null&&d(e,["role"],l),e}function lb(n,e,o){const l={},s=u(e,["expireTime"]);o!==void 0&&s!=null&&d(o,["expireTime"],s);const c=u(e,["newSessionExpireTime"]);o!==void 0&&c!=null&&d(o,["newSessionExpireTime"],c);const f=u(e,["uses"]);o!==void 0&&f!=null&&d(o,["uses"],f);const g=u(e,["liveConnectConstraints"]);o!==void 0&&g!=null&&d(o,["bidiGenerateContentSetup"],mb(n,g));const y=u(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&d(o,["fieldMask"],y),l}function sb(n,e){const o={},l=u(e,["config"]);return l!=null&&d(o,["config"],lb(n,l,o)),o}function rb(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function ub(n){const e={},o=u(n,["id"]);o!=null&&d(e,["id"],o);const l=u(n,["args"]);l!=null&&d(e,["args"],l);const s=u(n,["name"]);if(s!=null&&d(e,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cb(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function db(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function fb(n,e){const o={},l=u(n,["generationConfig"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig"],l);const s=u(n,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const c=u(n,["temperature"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","temperature"],c);const f=u(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const g=u(n,["topK"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const h=u(n,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const S=u(n,["seed"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","seed"],S);const E=u(n,["speechConfig"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","speechConfig"],$c(E));const T=u(n,["thinkingConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","thinkingConfig"],T);const b=u(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const N=u(n,["systemInstruction"]);e!==void 0&&N!=null&&d(e,["setup","systemInstruction"],ab(Nt(N)));const _=u(n,["tools"]);if(e!==void 0&&_!=null){let z=Fo(_);Array.isArray(z)&&(z=z.map(Q=>gb(Oo(Q)))),d(e,["setup","tools"],z)}const A=u(n,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],hb(A));const w=u(n,["inputAudioTranscription"]);e!==void 0&&w!=null&&d(e,["setup","inputAudioTranscription"],w);const B=u(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],B);const k=u(n,["realtimeInputConfig"]);e!==void 0&&k!=null&&d(e,["setup","realtimeInputConfig"],k);const O=u(n,["contextWindowCompression"]);e!==void 0&&O!=null&&d(e,["setup","contextWindowCompression"],O);const H=u(n,["proactivity"]);if(e!==void 0&&H!=null&&d(e,["setup","proactivity"],H),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function mb(n,e){const o={},l=u(e,["model"]);l!=null&&d(o,["setup","model"],Ve(n,l));const s=u(e,["config"]);return s!=null&&d(o,["config"],fb(s,o)),o}function pb(n){const e={},o=u(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=u(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const s=u(n,["executableCode"]);s!=null&&d(e,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],rb(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],ub(f));const g=u(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&d(e,["inlineData"],ob(y));const h=u(n,["text"]);h!=null&&d(e,["text"],h);const S=u(n,["thought"]);S!=null&&d(e,["thought"],S);const E=u(n,["thoughtSignature"]);E!=null&&d(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function hb(n){const e={},o=u(n,["handle"]);if(o!=null&&d(e,["handle"],o),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gb(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const l=u(n,["fileSearch"]);l!=null&&d(e,["fileSearch"],l);const s=u(n,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(E=>E)),d(e,["functionDeclarations"],S)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],cb(f));const g=u(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],db(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const h=u(n,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yb(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const l=n[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const s=Object.keys(l).map(c=>`${o}.${c}`);e.push(...s)}else e.push(o)}return e.join(",")}function vb(n,e){let o=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const c=l.setup;typeof c=="object"&&c!==null?(n.bidiGenerateContentSetup=c,o=c):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const s=n.fieldMask;if(o){const c=yb(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?n.fieldMask=c:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];s.length>0&&(g=s.map(h=>f.includes(h)?`generationConfig.${h}`:h));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?n.fieldMask=s.join(","):delete n.fieldMask;return n}class Sb extends Jn{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=sb(this.apiClient,e);c=ee("auth_tokens",g._url),f=g._query,delete g.config,delete g._url,delete g._query;const y=vb(g,e.config);return s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tb(n,e){const o={},l=u(n,["force"]);return e!==void 0&&l!=null&&d(e,["_query","force"],l),o}function Eb(n){const e={},o=u(n,["name"]);o!=null&&d(e,["_url","name"],o);const l=u(n,["config"]);return l!=null&&Tb(l,e),e}function Cb(n){const e={},o=u(n,["name"]);return o!=null&&d(e,["_url","name"],o),e}function xb(n,e){const o={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),o}function _b(n){const e={},o=u(n,["parent"]);o!=null&&d(e,["_url","parent"],o);const l=u(n,["config"]);return l!=null&&xb(l,e),e}function Ab(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["documents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["documents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bb extends Jn{constructor(e){super(),this.apiClient=e,this.list=async o=>new Ki(On.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:o.parent,config:l.config}),await this.listInternal(o),o)}async get(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Cb(e);return c=ee("{name}",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async delete(e){var o,l;let s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Eb(e);s=ee("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_b(e);return c=ee("{parent}/documents",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=Ab(y),S=new oE;return Object.assign(S,h),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nb extends Jn{constructor(e,o=new bb(e)){super(),this.apiClient=e,this.documents=o,this.list=async(l={})=>new Ki(On.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(l),l)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yA(e);return c=ee("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async get(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=TA(e);return c=ee("{name}",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async delete(e){var o,l;let s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=SA(e);s=ee("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=bA(e);return c=ee("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=NA(y),S=new aE;return Object.assign(S,h),S})}}async uploadToFileSearchStoreInternal(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IA(e);return c=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=MA(y),S=new lE;return Object.assign(S,h),S})}}async importFile(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xA(e);return c=ee("{file_search_store_name}:importFile",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=CA(y),S=new kc;return Object.assign(S,h),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ky=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return Ky=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),o=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^o()&15>>+l/4).toString(16))};const Ib=()=>Ky();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ac(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const bc=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fn extends Error{}class Lt extends fn{constructor(e,o,l,s){super(`${Lt.makeMessage(e,o,l)}`),this.status=e,this.headers=s,this.error=o}static makeMessage(e,o,l){const s=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):l;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,o,l,s){if(!e||!s)return new ws({message:l,cause:bc(o)});const c=o;return e===400?new Qy(e,c,l,s):e===401?new Zy(e,c,l,s):e===403?new jy(e,c,l,s):e===404?new Wy(e,c,l,s):e===409?new e0(e,c,l,s):e===422?new t0(e,c,l,s):e===429?new n0(e,c,l,s):e>=500?new i0(e,c,l,s):new Lt(e,c,l,s)}}class Nc extends Lt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ws extends Lt{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class Xy extends ws{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Qy extends Lt{}class Zy extends Lt{}class jy extends Lt{}class Wy extends Lt{}class e0 extends Lt{}class t0 extends Lt{}class n0 extends Lt{}class i0 extends Lt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mb=/^[a-z][a-z0-9+.-]*:/i,wb=n=>Mb.test(n);let Ic=n=>(Ic=Array.isArray,Ic(n));const Rb=Ic;let Db=Rb;const zg=Db;function Ub(n){if(!n)return!0;for(const e in n)return!1;return!0}function Lb(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const Pb=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new fn(`${n} must be an integer`);if(e<0)throw new fn(`${n} must be a positive integer`);return e},Gb=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bb=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Go="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hb(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Vb=()=>{var n,e,o,l,s;const c=Hb();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Go,"X-Stainless-OS":kg(Deno.build.os),"X-Stainless-Arch":qg(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Go,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Go,"X-Stainless-OS":kg((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":qg((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const f=zb();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Go,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Go,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function zb(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of n){const l=o.exec(navigator.userAgent);if(l){const s=l[1]||0,c=l[2]||0,f=l[3]||0;return{browser:e,version:`${s}.${c}.${f}`}}}return null}const qg=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",kg=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let ls;const qb=()=>ls??(ls=Vb());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kb(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function o0(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function Ob(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return o0({start(){},async pull(o){const{done:l,value:s}=await e.next();l?o.close():o.enqueue(s)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function a0(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Fb(n){var e,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(e=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const l=n.getReader(),s=l.cancel();l.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jb=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l0=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function nc(n,e,o){return l0(),new File(n,e??"unknown_file",o)}function Yb(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const $b=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s0=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",Kb=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&s0(n),Xb=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function Qb(n,e,o){if(l0(),n=await n,Kb(n))return n instanceof File?n:nc([await n.arrayBuffer()],n.name);if(Xb(n)){const s=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),nc(await Mc(s),e,o)}const l=await Mc(n);if(e||(e=Yb(n)),!(o!=null&&o.type)){const s=l.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof s=="string"&&(o=Object.assign(Object.assign({},o),{type:s}))}return nc(l,e,o)}async function Mc(n){var e,o,l,s,c;let f=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)f.push(n);else if(s0(n))f.push(n instanceof Blob?n:await n.arrayBuffer());else if($b(n))try{for(var g=!0,y=vn(n),h;h=await y.next(),e=h.done,!e;g=!0){s=h.value,g=!1;const S=s;f.push(...await Mc(S))}}catch(S){o={error:S}}finally{try{!g&&!e&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}else{const S=(c=n==null?void 0:n.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof n}${S?`; constructor: ${S}`:""}${Zb(n)}`)}return f}function Zb(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r0{constructor(e){this._client=e}}r0._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u0(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Og=Object.freeze(Object.create(null)),jb=(n=u0)=>(function(o,...l){if(o.length===1)return o[0];let s=!1;const c=[],f=o.reduce((S,E,T)=>{var b,N,_;/[?#]/.test(E)&&(s=!0);const A=l[T];let w=(s?encodeURIComponent:n)(""+A);return T!==l.length&&(A==null||typeof A=="object"&&A.toString===((_=Object.getPrototypeOf((N=Object.getPrototypeOf((b=A.hasOwnProperty)!==null&&b!==void 0?b:Og))!==null&&N!==void 0?N:Og))===null||_===void 0?void 0:_.toString))&&(w=A+"",c.push({start:S.length+E.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),S+E+(T===l.length?"":w)},""),g=f.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)c.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(c.sort((S,E)=>S.start-E.start),c.length>0){let S=0;const E=c.reduce((T,b)=>{const N=" ".repeat(b.start-S),_="^".repeat(b.length);return S=b.start+b.length,T+N+_},"");throw new fn(`Path parameters result in path with invalid segments:
${c.map(T=>T.error).join(`
`)}
${f}
${E}`)}return f}),ss=jb(u0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c0 extends r0{create(e,o){var l;const{api_version:s=this._client.apiVersion}=e,c=vs(e,["api_version"]);if("model"in c&&"agent_config"in c)throw new fn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new fn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ss`/${s}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(l=e.stream)!==null&&l!==void 0?l:!1}))}delete(e,o={},l){const{api_version:s=this._client.apiVersion}=o??{};return this._client.delete(ss`/${s}/interactions/${e}`,l)}cancel(e,o={},l){const{api_version:s=this._client.apiVersion}=o??{};return this._client.post(ss`/${s}/interactions/${e}/cancel`,l)}get(e,o={},l){var s;const c=o??{},{api_version:f=this._client.apiVersion}=c,g=vs(c,["api_version"]);return this._client.get(ss`/${f}/interactions/${e}`,Object.assign(Object.assign({query:g},l),{stream:(s=o==null?void 0:o.stream)!==null&&s!==void 0?s:!1}))}}c0._key=Object.freeze(["interactions"]);class d0 extends c0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wb(n){let e=0;for(const s of n)e+=s.length;const o=new Uint8Array(e);let l=0;for(const s of n)o.set(s,l),l+=s.length;return o}let rs;function Xc(n){let e;return(rs??(e=new globalThis.TextEncoder,rs=e.encode.bind(e)))(n)}let us;function Fg(n){let e;return(us??(e=new globalThis.TextDecoder,us=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Xc(e):e;this.buffer=Wb([this.buffer,o]);const l=[];let s;for(;(s=eN(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){l.push(Fg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,f=Fg(this.buffer.subarray(0,c));l.push(f),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}Rs.NEWLINE_CHARS=new Set([`
`,"\r"]);Rs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eN(n,e){for(let s=e??0;s<n.length;s++){if(n[s]===10)return{preceding:s,index:s+1,carriage:!1};if(n[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function tN(n){for(let l=0;l<n.length-1;l++){if(n[l]===10&&n[l+1]===10||n[l]===13&&n[l+1]===13)return l+2;if(n[l]===13&&n[l+1]===10&&l+3<n.length&&n[l+2]===13&&n[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ss={off:0,error:200,warn:300,info:400,debug:500},Jg=(n,e,o)=>{if(n){if(Lb(Ss,n))return n;Dt(o).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Ss))}`)}};function qa(){}function cs(n,e,o){return!e||Ss[n]>Ss[o]?qa:e[n].bind(e)}const nN={error:qa,warn:qa,info:qa,debug:qa};let Yg=new WeakMap;function Dt(n){var e;const o=n.logger,l=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!o)return nN;const s=Yg.get(o);if(s&&s[0]===l)return s[1];const c={error:cs("error",o,l),warn:cs("warn",o,l),info:cs("info",o,l),debug:cs("debug",o,l)};return Yg.set(o,[l,c]),c}const qi=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ho{constructor(e,o,l){this.iterator=e,this.controller=o,this.client=l}static fromSSEResponse(e,o,l){let s=!1;const c=l?Dt(l):console;function f(){return yn(this,arguments,function*(){var y,h,S,E;if(s)throw new fn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let T=!1;try{try{for(var b=!0,N=vn(iN(e,o)),_;_=yield Se(N.next()),y=_.done,!y;b=!0){E=_.value,b=!1;const A=E;if(!T)if(A.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Se(JSON.parse(A.data))}catch(w){throw c.error("Could not parse message into JSON:",A.data),c.error("From chunk:",A.raw),w}}}catch(A){h={error:A}}finally{try{!b&&!y&&(S=N.return)&&(yield Se(S.call(N)))}finally{if(h)throw h.error}}T=!0}catch(A){if(Ac(A))return yield Se(void 0);throw A}finally{T||o.abort()}})}return new Ho(f,o,l)}static fromReadableStream(e,o,l){let s=!1;function c(){return yn(this,arguments,function*(){var y,h,S,E;const T=new Rs,b=a0(e);try{for(var N=!0,_=vn(b),A;A=yield Se(_.next()),y=A.done,!y;N=!0){E=A.value,N=!1;const w=E;for(const B of T.decode(w))yield yield Se(B)}}catch(w){h={error:w}}finally{try{!N&&!y&&(S=_.return)&&(yield Se(S.call(_)))}finally{if(h)throw h.error}}for(const w of T.flush())yield yield Se(w)})}function f(){return yn(this,arguments,function*(){var y,h,S,E;if(s)throw new fn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let T=!1;try{try{for(var b=!0,N=vn(c()),_;_=yield Se(N.next()),y=_.done,!y;b=!0){E=_.value,b=!1;const A=E;T||A&&(yield yield Se(JSON.parse(A)))}}catch(A){h={error:A}}finally{try{!b&&!y&&(S=N.return)&&(yield Se(S.call(N)))}finally{if(h)throw h.error}}T=!0}catch(A){if(Ac(A))return yield Se(void 0);throw A}finally{T||o.abort()}})}return new Ho(f,o,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],l=this.iterator(),s=c=>({next:()=>{if(c.length===0){const f=l.next();e.push(f),o.push(f)}return c.shift()}});return[new Ho(()=>s(e),this.controller,this.client),new Ho(()=>s(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return o0({async start(){o=e[Symbol.asyncIterator]()},async pull(l){try{const{value:s,done:c}=await o.next();if(c)return l.close();const f=Xc(JSON.stringify(s)+`
`);l.enqueue(f)}catch(s){l.error(s)}},async cancel(){var l;await((l=o.return)===null||l===void 0?void 0:l.call(o))}})}}function iN(n,e){return yn(this,arguments,function*(){var l,s,c,f;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new fn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new fn("Attempted to iterate over a response with no body");const g=new aN,y=new Rs,h=a0(n.body);try{for(var S=!0,E=vn(oN(h)),T;T=yield Se(E.next()),l=T.done,!l;S=!0){f=T.value,S=!1;const b=f;for(const N of y.decode(b)){const _=g.decode(N);_&&(yield yield Se(_))}}}catch(b){s={error:b}}finally{try{!S&&!l&&(c=E.return)&&(yield Se(c.call(E)))}finally{if(s)throw s.error}}for(const b of y.flush()){const N=g.decode(b);N&&(yield yield Se(N))}})}function oN(n){return yn(this,arguments,function*(){var o,l,s,c;let f=new Uint8Array;try{for(var g=!0,y=vn(n),h;h=yield Se(y.next()),o=h.done,!o;g=!0){c=h.value,g=!1;const S=c;if(S==null)continue;const E=S instanceof ArrayBuffer?new Uint8Array(S):typeof S=="string"?Xc(S):S;let T=new Uint8Array(f.length+E.length);T.set(f),T.set(E,f.length),f=T;let b;for(;(b=tN(f))!==-1;)yield yield Se(f.slice(0,b)),f=f.slice(b)}}catch(S){l={error:S}}finally{try{!g&&!o&&(s=y.return)&&(yield Se(s.call(y)))}finally{if(l)throw l.error}}f.length>0&&(yield yield Se(f))})}class aN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,l,s]=lN(e,":");return s.startsWith(" ")&&(s=s.substring(1)),o==="event"?this.event=s:o==="data"&&this.data.push(s),null}}function lN(n,e){const o=n.indexOf(e);return o!==-1?[n.substring(0,o),e,n.substring(o+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sN(n,e){const{response:o,requestLogID:l,retryOfRequestLogID:s,startTime:c}=e,f=await(async()=>{var g;if(e.options.stream)return Dt(n).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,n):Ho.fromSSEResponse(o,e.controller,n);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const y=o.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await o.json():await o.text()})();return Dt(n).debug(`[${l}] response parsed`,qi({retryOfRequestLogID:s,url:o.url,status:o.status,body:f,durationMs:Date.now()-c})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qc extends Promise{constructor(e,o,l=sN){super(s=>{s(null)}),this.responsePromise=o,this.parseResponse=l,this.client=e}_thenUnwrap(e){return new Qc(this.client,this.responsePromise,async(o,l)=>e(await this.parseResponse(o,l),l))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f0=Symbol("brand.privateNullableHeaders");function*rN(n){if(!n)return;if(f0 in n){const{values:l,nulls:s}=n;yield*l.entries();for(const c of s)yield[c,null];return}let e=!1,o;n instanceof Headers?o=n.entries():zg(n)?o=n:(e=!0,o=Object.entries(n??{}));for(let l of o){const s=l[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const c=zg(l[1])?l[1]:[l[1]];let f=!1;for(const g of c)g!==void 0&&(e&&!f&&(f=!0,yield[s,null]),yield[s,g])}}const za=n=>{const e=new Headers,o=new Set;for(const l of n){const s=new Set;for(const[c,f]of rN(l)){const g=c.toLowerCase();s.has(g)||(e.delete(c),s.add(g)),f===null?(e.delete(c),o.add(g)):(e.append(c,f),o.delete(g))}}return{[f0]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ic=n=>{var e,o,l,s,c,f;if(typeof globalThis.process<"u")return(l=(o=(e=UT)===null||e===void 0?void 0:e[n])===null||o===void 0?void 0:o.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(f=(c=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||c===void 0?void 0:c.call(s,n))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var m0;class Ds{constructor(e){var o,l,s,c,f,g,y,{baseURL:h=ic("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:S=(o=ic("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:E="v1beta"}=e,T=vs(e,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:S,apiVersion:E},T),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(l=b.timeout)!==null&&l!==void 0?l:Ds.DEFAULT_TIMEOUT,this.logger=(s=b.logger)!==null&&s!==void 0?s:console;const N="warn";this.logLevel=N,this.logLevel=(f=(c=Jg(b.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:Jg(ic("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:N,this.fetchOptions=b.fetchOptions,this.maxRetries=(g=b.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=b.fetch)!==null&&y!==void 0?y:kb(),this.encoder=Jb,this._options=b,this.apiKey=S,this.apiVersion=E,this.clientAdapter=b.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=za([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return za([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return za([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,l])=>typeof l<"u").map(([o,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(o)}=`;throw new fn(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Go}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ib()}`}makeStatusError(e,o,l,s){return Lt.generate(e,o,l,s)}buildURL(e,o,l){const s=!this.baseURLOverridden()&&l||this.baseURL,c=wb(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return Ub(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:l}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,l){return this.request(Promise.resolve(l).then(s=>Object.assign({method:e,path:o},s)))}request(e,o=null){return new Qc(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,l){var s,c,f;const g=await e,y=(s=g.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:h,url:S,timeout:E}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(h,{url:S,options:g});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=l===void 0?"":`, retryOf: ${l}`,N=Date.now();if(Dt(this).debug(`[${T}] sending request`,qi({retryOfRequestLogID:l,method:g.method,url:S,options:g,headers:h.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new Nc;const _=new AbortController,A=await this.fetchWithTimeout(S,h,E,_).catch(bc),w=Date.now();if(A instanceof globalThis.Error){const k=`retrying, ${o} attempts remaining`;if(!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Nc;const O=Ac(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(o)return Dt(this).info(`[${T}] connection ${O?"timed out":"failed"} - ${k}`),Dt(this).debug(`[${T}] connection ${O?"timed out":"failed"} (${k})`,qi({retryOfRequestLogID:l,url:S,durationMs:w-N,message:A.message})),this.retryRequest(g,o,l??T);throw Dt(this).info(`[${T}] connection ${O?"timed out":"failed"} - error; no more retries left`),Dt(this).debug(`[${T}] connection ${O?"timed out":"failed"} (error; no more retries left)`,qi({retryOfRequestLogID:l,url:S,durationMs:w-N,message:A.message})),O?new Xy:new ws({cause:A})}const B=`[${T}${b}] ${h.method} ${S} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${w-N}ms`;if(!A.ok){const k=await this.shouldRetry(A);if(o&&k){const J=`retrying, ${o} attempts remaining`;return await Fb(A.body),Dt(this).info(`${B} - ${J}`),Dt(this).debug(`[${T}] response error (${J})`,qi({retryOfRequestLogID:l,url:A.url,status:A.status,headers:A.headers,durationMs:w-N})),this.retryRequest(g,o,l??T,A.headers)}const O=k?"error; no more retries left":"error; not retryable";Dt(this).info(`${B} - ${O}`);const H=await A.text().catch(J=>bc(J).message),z=Gb(H),Q=z?void 0:H;throw Dt(this).debug(`[${T}] response error (${O})`,qi({retryOfRequestLogID:l,url:A.url,status:A.status,headers:A.headers,message:Q,durationMs:Date.now()-N})),this.makeStatusError(A.status,z,Q,A.headers)}return Dt(this).info(B),Dt(this).debug(`[${T}] response start`,qi({retryOfRequestLogID:l,url:A.url,status:A.status,headers:A.headers,durationMs:w-N})),{response:A,options:g,controller:_,requestLogID:T,retryOfRequestLogID:l,startTime:N}}async fetchWithTimeout(e,o,l,s){const c=o||{},{signal:f,method:g}=c,y=vs(c,["signal","method"]);f&&f.addEventListener("abort",()=>s.abort());const h=setTimeout(()=>s.abort(),l),S=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:s.signal},S?{duplex:"half"}:{}),{method:"GET"}),y);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(h)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,l,s){var c;let f;const g=s==null?void 0:s.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(f=h)}const y=s==null?void 0:s.get("retry-after");if(y&&!f){const h=parseFloat(y);Number.isNaN(h)?f=Date.parse(y)-Date.now():f=h*1e3}if(!(f&&0<=f&&f<60*1e3)){const h=(c=e.maxRetries)!==null&&c!==void 0?c:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,h)}return await Bb(f),this.makeRequest(e,o-1,l)}calculateDefaultRetryTimeoutMillis(e,o){const c=o-e,f=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return f*g*1e3}async buildRequest(e,{retryCount:o=0}={}){var l,s,c;const f=Object.assign({},e),{method:g,path:y,query:h,defaultBaseURL:S}=f,E=this.buildURL(y,h,S);"timeout"in f&&Pb("timeout",f.timeout),f.timeout=(l=f.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:T,body:b}=this.buildBody({options:f}),N=await this.buildHeaders({options:e,method:g,bodyHeaders:T,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:N},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(c=f.fetchOptions)!==null&&c!==void 0?c:{}),url:E,timeout:f.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:l,retryCount:s}){let c={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let g=za([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),qb()),this._options.defaultHeaders,l,e.headers,f]);return this.validateHeaders(g),g.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const l=za([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&l.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Ob(e)}:this.encoder({body:e,headers:l})}}Ds.DEFAULT_TIMEOUT=6e4;class St extends Ds{constructor(){super(...arguments),this.interactions=new d0(this)}}m0=St;St.GeminiNextGenAPIClient=m0;St.GeminiNextGenAPIClientError=fn;St.APIError=Lt;St.APIConnectionError=ws;St.APIConnectionTimeoutError=Xy;St.APIUserAbortError=Nc;St.NotFoundError=Wy;St.ConflictError=e0;St.RateLimitError=n0;St.BadRequestError=Qy;St.AuthenticationError=Zy;St.InternalServerError=i0;St.PermissionDeniedError=jy;St.UnprocessableEntityError=t0;St.toFile=Qb;St.Interactions=d0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uN(n,e){const o={},l=u(n,["name"]);return l!=null&&d(o,["_url","name"],l),o}function cN(n,e){const o={},l=u(n,["name"]);return l!=null&&d(o,["_url","name"],l),o}function dN(n,e){const o={},l=u(n,["sdkHttpResponse"]);return l!=null&&d(o,["sdkHttpResponse"],l),o}function fN(n,e){const o={},l=u(n,["sdkHttpResponse"]);return l!=null&&d(o,["sdkHttpResponse"],l),o}function mN(n,e,o){const l={};if(u(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=u(n,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&d(e,["displayName"],s),u(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(n,["epochCount"]);e!==void 0&&c!=null&&d(e,["tuningTask","hyperparameters","epochCount"],c);const f=u(n,["learningRateMultiplier"]);if(f!=null&&d(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),u(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(n,["batchSize"]);e!==void 0&&g!=null&&d(e,["tuningTask","hyperparameters","batchSize"],g);const y=u(n,["learningRate"]);if(e!==void 0&&y!=null&&d(e,["tuningTask","hyperparameters","learningRate"],y),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function pN(n,e,o){const l={};let s=u(o,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const b=u(n,["validationDataset"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec"],$g(b))}else if(s==="PREFERENCE_TUNING"){const b=u(n,["validationDataset"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec"],$g(b))}const c=u(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&d(e,["tunedModelDisplayName"],c);const f=u(n,["description"]);e!==void 0&&f!=null&&d(e,["description"],f);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const b=u(n,["epochCount"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(g==="PREFERENCE_TUNING"){const b=u(n,["epochCount"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const b=u(n,["learningRateMultiplier"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(y==="PREFERENCE_TUNING"){const b=u(n,["learningRateMultiplier"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=u(n,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(h==="PREFERENCE_TUNING"){const b=u(n,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let S=u(o,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const b=u(n,["adapterSize"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(S==="PREFERENCE_TUNING"){const b=u(n,["adapterSize"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(u(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=u(n,["labels"]);e!==void 0&&E!=null&&d(e,["labels"],E);const T=u(n,["beta"]);return e!==void 0&&T!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),l}function hN(n,e){const o={},l=u(n,["baseModel"]);l!=null&&d(o,["baseModel"],l);const s=u(n,["preTunedModel"]);s!=null&&d(o,["preTunedModel"],s);const c=u(n,["trainingDataset"]);c!=null&&bN(c);const f=u(n,["config"]);return f!=null&&mN(f,o),o}function gN(n,e){const o={},l=u(n,["baseModel"]);l!=null&&d(o,["baseModel"],l);const s=u(n,["preTunedModel"]);s!=null&&d(o,["preTunedModel"],s);const c=u(n,["trainingDataset"]);c!=null&&NN(c,o,e);const f=u(n,["config"]);return f!=null&&pN(f,o,e),o}function yN(n,e){const o={},l=u(n,["name"]);return l!=null&&d(o,["_url","name"],l),o}function vN(n,e){const o={},l=u(n,["name"]);return l!=null&&d(o,["_url","name"],l),o}function SN(n,e,o){const l={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const c=u(n,["pageToken"]);e!==void 0&&c!=null&&d(e,["_query","pageToken"],c);const f=u(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),l}function TN(n,e,o){const l={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const c=u(n,["pageToken"]);e!==void 0&&c!=null&&d(e,["_query","pageToken"],c);const f=u(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),l}function EN(n,e){const o={},l=u(n,["config"]);return l!=null&&SN(l,o),o}function CN(n,e){const o={},l=u(n,["config"]);return l!=null&&TN(l,o),o}function xN(n,e){const o={},l=u(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const s=u(n,["nextPageToken"]);s!=null&&d(o,["nextPageToken"],s);const c=u(n,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(g=>p0(g))),d(o,["tuningJobs"],f)}return o}function _N(n,e){const o={},l=u(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const s=u(n,["nextPageToken"]);s!=null&&d(o,["nextPageToken"],s);const c=u(n,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(g=>wc(g))),d(o,["tuningJobs"],f)}return o}function AN(n,e){const o={},l=u(n,["name"]);l!=null&&d(o,["model"],l);const s=u(n,["name"]);return s!=null&&d(o,["endpoint"],s),o}function bN(n,e){const o={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=u(n,["examples"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>c)),d(o,["examples","examples"],s)}return o}function NN(n,e,o){const l={};let s=u(o,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const f=u(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(s==="PREFERENCE_TUNING"){const f=u(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=u(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(c==="PREFERENCE_TUNING"){const f=u(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(u(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function p0(n,e){const o={},l=u(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const s=u(n,["name"]);s!=null&&d(o,["name"],s);const c=u(n,["state"]);c!=null&&d(o,["state"],wy(c));const f=u(n,["createTime"]);f!=null&&d(o,["createTime"],f);const g=u(n,["tuningTask","startTime"]);g!=null&&d(o,["startTime"],g);const y=u(n,["tuningTask","completeTime"]);y!=null&&d(o,["endTime"],y);const h=u(n,["updateTime"]);h!=null&&d(o,["updateTime"],h);const S=u(n,["description"]);S!=null&&d(o,["description"],S);const E=u(n,["baseModel"]);E!=null&&d(o,["baseModel"],E);const T=u(n,["_self"]);return T!=null&&d(o,["tunedModel"],AN(T)),o}function wc(n,e){const o={},l=u(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const s=u(n,["name"]);s!=null&&d(o,["name"],s);const c=u(n,["state"]);c!=null&&d(o,["state"],wy(c));const f=u(n,["createTime"]);f!=null&&d(o,["createTime"],f);const g=u(n,["startTime"]);g!=null&&d(o,["startTime"],g);const y=u(n,["endTime"]);y!=null&&d(o,["endTime"],y);const h=u(n,["updateTime"]);h!=null&&d(o,["updateTime"],h);const S=u(n,["error"]);S!=null&&d(o,["error"],S);const E=u(n,["description"]);E!=null&&d(o,["description"],E);const T=u(n,["baseModel"]);T!=null&&d(o,["baseModel"],T);const b=u(n,["tunedModel"]);b!=null&&d(o,["tunedModel"],b);const N=u(n,["preTunedModel"]);N!=null&&d(o,["preTunedModel"],N);const _=u(n,["supervisedTuningSpec"]);_!=null&&d(o,["supervisedTuningSpec"],_);const A=u(n,["preferenceOptimizationSpec"]);A!=null&&d(o,["preferenceOptimizationSpec"],A);const w=u(n,["tuningDataStats"]);w!=null&&d(o,["tuningDataStats"],w);const B=u(n,["encryptionSpec"]);B!=null&&d(o,["encryptionSpec"],B);const k=u(n,["partnerModelTuningSpec"]);k!=null&&d(o,["partnerModelTuningSpec"],k);const O=u(n,["customBaseModel"]);O!=null&&d(o,["customBaseModel"],O);const H=u(n,["experiment"]);H!=null&&d(o,["experiment"],H);const z=u(n,["labels"]);z!=null&&d(o,["labels"],z);const Q=u(n,["outputUri"]);Q!=null&&d(o,["outputUri"],Q);const ae=u(n,["pipelineJob"]);ae!=null&&d(o,["pipelineJob"],ae);const J=u(n,["serviceAccount"]);J!=null&&d(o,["serviceAccount"],J);const te=u(n,["tunedModelDisplayName"]);te!=null&&d(o,["tunedModelDisplayName"],te);const ne=u(n,["veoTuningSpec"]);return ne!=null&&d(o,["veoTuningSpec"],ne),o}function IN(n,e){const o={},l=u(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const s=u(n,["name"]);s!=null&&d(o,["name"],s);const c=u(n,["metadata"]);c!=null&&d(o,["metadata"],c);const f=u(n,["done"]);f!=null&&d(o,["done"],f);const g=u(n,["error"]);return g!=null&&d(o,["error"],g),o}function $g(n,e){const o={},l=u(n,["gcsUri"]);l!=null&&d(o,["validationDatasetUri"],l);const s=u(n,["vertexDatasetResource"]);return s!=null&&d(o,["validationDatasetUri"],s),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MN extends Jn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Ki(On.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var l;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const s={tunedModelName:o.baseModel};!((l=o.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(s.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:s});return c.baseModel=void 0,await this.tuneInternal(c)}else{const s=Object.assign({},o);return await this.tuneInternal(s)}else{const s=Object.assign({},o),c=await this.tuneMldevInternal(s);let f="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?f=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(f=c.name.split("/operations/")[0]),{name:f,state:yc.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=vN(e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>wc(S))}else{const h=yN(e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>p0(S))}}async listInternal(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=CN(e);return g=ee("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=_N(S),T=new Sg;return Object.assign(T,E),T})}else{const h=EN(e);return g=ee("tunedModels",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=xN(S),T=new Sg;return Object.assign(T,E),T})}}async cancel(e){var o,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=cN(e);return g=ee("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=fN(S),T=new Tg;return Object.assign(T,E),T})}else{const h=uN(e);return g=ee("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const E=dN(S),T=new Tg;return Object.assign(T,E),T})}}async tuneInternal(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=gN(e,e);return c=ee("tuningJobs",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>wc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hN(e);return c=ee("tunedModels",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>IN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wN{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const RN=1024*1024*8,DN=3,UN=1e3,LN=2,Ts="x-goog-upload-status";async function PN(n,e,o){var l;const s=await h0(n,e,o),c=await(s==null?void 0:s.json());if(((l=s==null?void 0:s.headers)===null||l===void 0?void 0:l[Ts])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function GN(n,e,o){var l;const s=await h0(n,e,o),c=await(s==null?void 0:s.json());if(((l=s==null?void 0:s.headers)===null||l===void 0?void 0:l[Ts])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=_y(c),g=new Oc;return Object.assign(g,f),g}async function h0(n,e,o){var l,s;let c=0,f=0,g=new Sc(new Response),y="upload";for(c=n.size;f<c;){const h=Math.min(RN,c-f),S=n.slice(f,f+h);f+h>=c&&(y+=", finalize");let E=0,T=UN;for(;E<DN&&(g=await o.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(f),"Content-Length":String(h)}}}),!(!((l=g==null?void 0:g.headers)===null||l===void 0)&&l[Ts]));)E++,await HN(T),T=T*LN;if(f+=h,((s=g==null?void 0:g.headers)===null||s===void 0?void 0:s[Ts])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function BN(n){return{size:n.size,type:n.type}}function HN(n){return new Promise(e=>setTimeout(e,n))}class VN{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await PN(e,o,l)}async uploadToFileSearchStore(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GN(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await BN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zN{create(e,o,l){return new qN(e,o,l)}}class qN{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kg="x-goog-api-key";class kN{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(Kg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Kg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ON="gl-node/";class FN{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new St({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=BT(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new kN(this.apiKey);this.apiClient=new BA({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ON+"web",uploader:new VN,downloader:new wN}),this.models=new nb(this.apiClient),this.live=new QA(this.apiClient,s,new zN),this.batches=new fC(this.apiClient),this.chats=new $C(this.models,this.apiClient),this.caches=new FC(this.apiClient),this.files=new ix(this.apiClient),this.operations=new ib(this.apiClient),this.authTokens=new Sb(this.apiClient),this.tunings=new MN(this.apiClient),this.fileSearchStores=new Nb(this.apiClient)}}const JN=({isOpen:n,onClose:e,cuerdas:o,gallos:l,torneo:s,onImportFullData:c,onAddSingleGallo:f,onSaveGallo:g,onAddGalloToPc:y})=>{const[h,S]=X.useState(!1),[E,T]=X.useState(null),[b,N]=X.useState(""),_=X.useRef(null),[A,w]=X.useState(""),[B,k]=X.useState(!1);X.useEffect(()=>{const ne=localStorage.getItem("gallerapro_gemini_key");ne&&w(ne)},[]);const O=()=>{localStorage.setItem("gallerapro_gemini_key",A),k(!1)},H=`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(window.location.href)}`,z=async ne=>{const q=A||void 0||"AQ.Ab8RN6LMYxXIKIOFj3zGPFgjDLjJamlkifsOUdUR_JIvZZ4pZwes",j=new FN({apiKey:q});S(!0),N("Analizando documento con IA (Procesamiento Avanzado)...");try{const P=(await j.models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{text:`
                Acta como un analista de datos experto en torneos de gallos. Tu tarea es extraer informacin estructurada de una imagen (manuscrita o impresa) siguiendo ESTRICTAMENTE los siguientes pasos lgicos.

                PASO 1: ANLISIS DE TIPO DE DOCUMENTO
                - Observa la parte superior de la imagen.
                - Hay campos explcitos etiquetados como "Cuerda", "Dueo/Propietario", "Ciudad"?
                - SI LOS HAY: Establece 'isNewCuerda' = true. Ve al PASO 2.
                - SI NO LOS HAY (es solo una lista de gallos): Establece 'isNewCuerda' = false. Salta al PASO 4.

                PASO 2: EXTRACCIN DE CABECERA (Solo si isNewCuerda = true)
                - Busca el nombre de la Cuerda.
                - Busca el Dueo. IMPORTANTE: Extrae SOLO el nombre de la persona. Si al lado del nombre hay una ciudad, un telfono o una direccin, NO LOS INCLUYAS en el campo 'owner'. Ponlos en sus campos respectivos o ignralos.
                - Busca la Ciudad. Si no est explcita, bscala al lado del nombre del dueo.
                - Busca la 'Placa de Criadero' etiquetada como 'Pc', 'Placa', o un cdigo alfanumrico destacado (ej: 'LMS-34').
                - Busca texto como "X gallos por frente" para llenar 'gallosPerFront'.

                PASO 3: DETECCIN DE FRENTES
                - Busca palabras clave como "Frente 1", "Frente 2", "F1", "F2" encima de grupos de filas.
                - Si no hay distincin visual, asume que todos son del "Frente 1".

                PASO 4: EXTRACCIN DE FILAS (GALLOS)
                - Extrae cada fila de la tabla o lista.
                - Columna 'Anillo' (A): Es el ID vital. No confundir con la Placa.
                - Columna 'Placa Marcaje' (Pm): Nmero de placa metlica.
                - Columna 'Placa Criadero' (Pc): Si el documento es una "Nota Rpida" (Paso 1 fue NO), este dato es OBLIGATORIO por cada gallo para saber a qu cuerda pertenece.
                - Peso: Formatos posibles "3.14", "3-14", "3,14", "3 libras 14 onzas". Convertir a formato texto "Lb.Oz".
                - Edad: En meses.
                - Fenotipo/Color: "Giro", "Jabao", etc. Si dice "pava" o "liso", eso va en 'fenotipo'.

                REGLAS DE LIMPIEZA DE DATOS (CRTICO):
                1. Campo 'owner': NO debe contener la ciudad. Ejemplo INCORRECTO: "Juan Perez Bogot". CORRECTO: Owner="Juan Perez", City="Bogot".
                2. Campo 'breederPlateId' (Pc): Elimina espacios extra. Ejemplo: " Lms 123 " -> "Lms123".

                Salida JSON estricta basada en el esquema proporcionado.
            `},{inlineData:{mimeType:"image/jpeg",data:ne.split(",")[1]||""}}]},config:{responseMimeType:"application/json",responseSchema:{type:Oe.OBJECT,properties:{isNewCuerda:{type:Oe.BOOLEAN,description:"True si hay cabecera con Nombre Cuerda/Dueo. False si es solo lista de gallos."},gallosPerFront:{type:Oe.INTEGER,nullable:!0},cuerdaInfo:{type:Oe.OBJECT,nullable:!0,properties:{name:{type:Oe.STRING},owner:{type:Oe.STRING,description:"Solo el nombre de la persona. Sin ciudad."},city:{type:Oe.STRING,description:"La ciudad extrada."},frontCount:{type:Oe.INTEGER},breederPlateId:{type:Oe.STRING}}},fronts:{type:Oe.ARRAY,items:{type:Oe.OBJECT,properties:{frontNumber:{type:Oe.INTEGER,description:"El nmero de frente detectado (1 por defecto)."},gallos:{type:Oe.ARRAY,items:{type:Oe.OBJECT,properties:{ringId:{type:Oe.STRING,description:"Anillo (A)"},color:{type:Oe.STRING},weightLbsOz:{type:Oe.STRING},ageMonths:{type:Oe.INTEGER},markingId:{type:Oe.STRING,description:"Placa de Marcaje (Pm)"},breederPlateId:{type:Oe.STRING,description:"Placa del Criadero (Pc). Crtico en notas rpidas."},fenotipo:{type:Oe.STRING},marca:{type:Oe.INTEGER}},required:["ringId","color","weightLbsOz","ageMonths","fenotipo","marca","breederPlateId"]}}},required:["frontNumber","gallos"]}}},required:["isNewCuerda","fronts"]}}})).text;if(!P)throw new Error("No response from AI");const Z=JSON.parse(P);T(Z),N("Lectura completada con xito!")}catch(ie){console.error("AI Import Error:",ie),N("Error al procesar la imagen. Verifica tu API Key o la legibilidad de la foto.")}finally{S(!1)}},Q=ne=>{var ie;const q=(ie=ne.target.files)==null?void 0:ie[0];if(!q)return;const j=new FileReader;j.onload=he=>{var P;return((P=he.target)==null?void 0:P.result)&&z(he.target.result)},j.readAsDataURL(q),ne.target.value=""},ae=()=>{if(!E)return;const ne=E.gallosPerFront;if(E.isNewCuerda&&E.cuerdaInfo){const{cuerdaInfo:q,fronts:j}=E,ie=j.map(P=>({frontNumber:P.frontNumber,gallos:P.gallos.map(Z=>{const le=(Z.weightLbsOz||"0.0").split("."),Me=parseInt(le[0])||0,we=parseInt(le[1])||0;return{ringId:Z.ringId,color:Z.color,weight:Me*16+we,ageMonths:Z.ageMonths,markingId:Z.markingId,breederPlateId:Z.breederPlateId||q.breederPlateId,tipoGallo:Z.fenotipo.toLowerCase().includes("pava")?Oi.PAVA:Oi.LISO,marca:Z.marca,cuerdaId:""}})})),he=ne||q.frontCount||j.length;c({name:q.name,owner:q.owner,city:q.city,frontCount:he,breederPlateId:q.breederPlateId},ie)}else{let q=0,j=new Set;if(E.fronts.forEach(ie=>{ie.gallos.forEach(he=>{const P=he.breederPlateId?he.breederPlateId.trim().toLowerCase():"";if(!P)return;if(o.filter(le=>le.breederPlateId&&le.breederPlateId.trim().toLowerCase()===P).length>0){const le=(he.weightLbsOz||"0.0").split("."),Me=parseInt(le[0])||0,we=parseInt(le[1])||0,R={ringId:he.ringId,color:he.color,weight:Me*16+we,ageMonths:he.ageMonths,markingId:he.markingId,breederPlateId:he.breederPlateId,tipoGallo:he.fenotipo.toLowerCase().includes("pava")?Oi.PAVA:Oi.LISO,marca:he.marca,cuerdaId:""};y(R,he.breederPlateId,ie.frontNumber,ne),q++}else j.add(he.breederPlateId)})}),q===0&&j.size>0){const ie=Array.from(j).join(", ");alert(`No se encontraron cuerdas registradas con las placas (Pc): ${ie}. 

Primero crea la cuerda manualmente con su Pc correspondiente.`)}}e(),T(null)},J=(E==null?void 0:E.fronts.reduce((ne,q)=>ne+q.gallos.length,0))||0,te=()=>v.jsx("div",{className:"flex items-center space-x-2",children:B?v.jsxs("div",{className:"flex items-center bg-gray-900 rounded-lg p-1 border border-amber-500/50 animate-fade-in-down",children:[v.jsx("input",{type:"password",value:A,onChange:ne=>w(ne.target.value),placeholder:"Pegar API Key de Gemini...",className:"bg-transparent border-none text-xs text-white px-2 py-1 outline-none w-48 placeholder-gray-500",autoFocus:!0}),v.jsx("button",{onClick:O,className:"bg-amber-500 hover:bg-amber-600 text-black p-1 rounded transition-colors",title:"Guardar Key",children:v.jsx(Cy,{className:"w-3 h-3"})})]}):v.jsx("button",{onClick:()=>k(!0),className:`p-2 rounded-lg transition-colors ${A?"text-green-400 hover:text-green-300 bg-green-900/20":"text-gray-400 hover:text-white bg-gray-700/30"}`,title:A?"API Key Configurada":"Configurar API Key",children:v.jsx(bT,{className:"w-5 h-5"})})});return v.jsx(zc,{isOpen:n,onClose:e,title:"Importacin Inteligente (IA)",size:"wide",headerContent:te(),children:v.jsx("div",{className:"space-y-6",children:!E&&!h?v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[v.jsxs("div",{className:"text-center space-y-4 border-r border-gray-700 pr-4",children:[v.jsx("h4",{className:"text-amber-400 font-bold uppercase text-sm tracking-wider",children:"Escanear desde Mvil"}),v.jsx("div",{className:"bg-white p-3 inline-block rounded-xl shadow-2xl",children:v.jsx("img",{src:H,alt:"QR Code",className:"w-32 h-32"})}),v.jsx("p",{className:"text-xs text-gray-400 max-w-[200px] mx-auto",children:"Escanea para abrir la app y capturar la imagen directamente con tu cmara."})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{onClick:()=>{var ne;return(ne=_.current)==null?void 0:ne.click()},className:"group border-2 border-dashed border-gray-600 rounded-2xl p-12 hover:border-amber-500 hover:bg-amber-500/5 transition-all cursor-pointer text-center bg-gray-700/20",children:[v.jsx(bs,{className:"w-16 h-16 text-gray-500 group-hover:text-amber-500 mx-auto mb-4 transition-colors"}),v.jsx("p",{className:"text-base font-bold text-gray-200",children:"Subir Formulario Escaneado"}),v.jsxs("p",{className:"text-xs text-gray-500 mt-3 leading-relaxed",children:["El sistema detectar automticamente si es un ",v.jsx("strong",{children:"Formulario Completo"})," (Crea cuerda nueva) o una ",v.jsx("strong",{children:"Nota Rpida"})," (Asigna gallos a cuerdas existentes por Pc)."]})]}),v.jsx("input",{type:"file",ref:_,onChange:Q,accept:"image/*",className:"hidden"})]})]}):v.jsxs("div",{className:"space-y-5",children:[b&&v.jsx("div",{className:`p-3 rounded-lg text-sm font-semibold text-center ${b.includes("Error")?"bg-red-900/40 text-red-300":"bg-blue-900/40 text-blue-300"}`,children:b}),E&&v.jsxs("div",{className:"bg-gray-800/40 p-6 rounded-2xl border border-gray-700 space-y-5",children:[v.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 pb-3",children:[v.jsxs("h4",{className:"font-bold text-amber-400 flex items-center space-x-2",children:[E.isNewCuerda?v.jsx(Ey,{className:"w-5 h-5"}):v.jsx(fc,{className:"w-5 h-5"}),v.jsx("span",{className:"uppercase tracking-wide",children:E.isNewCuerda?"Deteccin: Registro Completo":"Deteccin: Nota Rpida (Solo Gallos)"})]}),v.jsxs("span",{className:"text-xs font-mono bg-amber-500/10 text-amber-500 px-3 py-1 rounded-full border border-amber-500/20",children:[J," gallos detectados"]})]}),E.gallosPerFront&&v.jsx("div",{className:"bg-green-900/30 p-2 rounded text-center border border-green-700/50",children:v.jsxs("p",{className:"text-green-400 text-sm font-bold",children:["Detectado! Se crearn ",E.gallosPerFront," frentes por cuerda."]})}),E.isNewCuerda&&E.cuerdaInfo&&v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs bg-[#1a1d29] p-4 rounded-xl border border-gray-700/50",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("span",{className:"text-gray-500 block uppercase",children:"Cuerda:"}),v.jsx("span",{className:"text-white font-bold",children:E.cuerdaInfo.name})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("span",{className:"text-gray-500 block uppercase",children:"Dueo:"}),v.jsx("span",{className:"text-white",children:E.cuerdaInfo.owner})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("span",{className:"text-gray-500 block uppercase",children:"Ciudad:"}),v.jsx("span",{className:"text-white",children:E.cuerdaInfo.city})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("span",{className:"text-gray-500 block uppercase",children:"Placa Pc:"}),v.jsx("span",{className:"text-amber-400 font-mono font-bold",children:E.cuerdaInfo.breederPlateId})]})]}),v.jsx("div",{className:"max-h-72 overflow-y-auto custom-scrollbar space-y-4 pr-2",children:E.fronts.map((ne,q)=>v.jsxs("div",{className:"space-y-2 bg-[#1a1d29]/40 p-3 rounded-xl",children:[v.jsxs("div",{className:"text-[10px] font-black text-gray-500 uppercase flex items-center gap-2",children:[v.jsx("div",{className:"h-[1px] flex-grow bg-gray-700"}),"Frente ",ne.frontNumber," ",v.jsx("span",{className:"text-gray-500 font-normal ml-1",children:"(Detectado en Nota)"}),v.jsx("div",{className:"h-[1px] flex-grow bg-gray-700"})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:ne.gallos.map((j,ie)=>v.jsxs("div",{className:"bg-gray-800/80 p-3 rounded-lg text-xs border border-gray-700 flex justify-between items-center group hover:border-amber-500/50 transition-colors",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-white font-bold",children:["Anillo ",j.ringId]}),v.jsxs("span",{className:"text-gray-400",children:["| ",j.color]})]}),v.jsxs("div",{className:"text-[10px] text-gray-500 font-mono",children:["Pc: ",j.breederPlateId]})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("div",{className:"font-bold text-amber-400 text-sm",children:[j.weightLbsOz," ",v.jsx("span",{className:"text-[10px] font-normal opacity-70",children:"Lb.Oz"})]}),v.jsxs("div",{className:"text-[10px] text-gray-500",children:[j.ageMonths,"m | ",j.fenotipo]})]})]},ie))})]},q))})]}),h&&v.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[v.jsx("div",{className:"w-12 h-12 border-4 border-amber-500/20 border-t-amber-500 rounded-full animate-spin"}),v.jsx("div",{className:"text-amber-400 font-bold animate-pulse uppercase tracking-widest text-sm",children:"Extrayendo datos con IA..."})]}),v.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700",children:[v.jsx("button",{onClick:()=>{T(null),e()},className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2.5 px-6 rounded-lg transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:ae,disabled:h||!E,className:"bg-amber-500 hover:bg-amber-600 text-black font-black py-2.5 px-10 rounded-xl disabled:opacity-30 shadow-[0_0_20px_rgba(251,191,36,0.2)] transition-all transform active:scale-95",children:"Confirmar Importacin"})]})]})})})},Rc=16,g0=(n,e)=>Math.round(n*Rc+e),YN=(n,e=!1)=>{const o=Math.round(n),l=Math.floor(o/Rc),s=o%Rc,c=e?" Lb.Oz":"";return`${l}.${String(s).padStart(2,"0")}${c}`},$N=g0(2,10),KN=g0(5,0),Xg=({icon:n,title:e,buttonText:o,onButtonClick:l,children:s,className:c,isReadOnly:f=!1,extraButton:g})=>v.jsxs("div",{className:`bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4 sm:p-6 ${c}`,children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"text-amber-400 w-6 h-6",children:n}),v.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:e})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[g,o&&l&&v.jsxs("button",{onClick:l,disabled:f,className:"flex items-center space-x-2 bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold py-2 px-3 sm:px-4 rounded-lg transition-colors text-sm sm:text-base disabled:bg-gray-600 disabled:cursor-not-allowed",children:[v.jsx(bs,{className:"w-5 h-5"}),v.jsx("span",{children:o})]})]})]}),v.jsx("div",{children:s})]}),XN=({isOpen:n,onClose:e,onSave:o,cuerda:l,cuerdas:s})=>{const[c,f]=X.useState(""),[g,y]=X.useState(""),[h,S]=X.useState(""),[E,T]=X.useState(1),[b,N]=X.useState(""),_=!l,[A,w]=X.useState(!1),B=X.useRef(null),k=X.useMemo(()=>h?ph.filter(H=>H.toLowerCase().includes(h.toLowerCase())):ph,[h]);X.useEffect(()=>{if(n){if(l){const H=l.name.replace(/\s\(F\d+\)$/,"");f(H),y(l.owner||""),S(l.city==="N/A"?"":l.city||""),N(l.breederPlateId||"");const z=s.filter(Q=>Q.name.startsWith(H+" (F"));T(z.length||1)}else f(""),y(""),S(""),T(1),N("");w(!1)}},[n,l,s]),X.useEffect(()=>{const H=z=>{B.current&&!B.current.contains(z.target)&&w(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]);const O=H=>{H.preventDefault();const z=h.trim()===""?"N/A":h;o({name:c,owner:g,city:z,frontCount:E,breederPlateId:b.trim()||"N/A"},(l==null?void 0:l.id)||null),e()};return v.jsx(zc,{isOpen:n,onClose:e,title:_?"Aadir Cuerda":"Editar Cuerda",children:v.jsxs("form",{onSubmit:O,className:"space-y-6",children:[v.jsx(bt,{label:"Nombre de la Cuerda",value:c,onChange:H=>f(H.target.value),required:!0}),v.jsx(bt,{label:"Dueo",value:g,onChange:H=>y(H.target.value),required:!0}),v.jsx(bt,{label:"Placa del Criadero (Pc)",value:b,onChange:H=>N(H.target.value),placeholder:"Ej: Criadero San Jos 001"}),v.jsxs("div",{ref:B,className:"relative",children:[v.jsx("label",{htmlFor:"ciudad-input",className:"block text-sm font-medium text-gray-400 mb-1",children:"Ciudad"}),v.jsx("input",{id:"ciudad-input",type:"text",value:h,onChange:H=>S(H.target.value),onFocus:()=>w(!0),placeholder:"Buscar o escribir ciudad...",className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none transition",autoComplete:"off"}),A&&v.jsx("div",{className:"absolute top-full mt-1 w-full bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-20",children:v.jsx("ul",{className:"max-h-48 overflow-y-auto custom-scrollbar",children:k.length>0?k.map((H,z)=>v.jsx("li",{onClick:()=>{S(H),w(!1)},className:"p-2 hover:bg-gray-700 cursor-pointer text-sm text-white",children:H},`${H}-${z}`)):v.jsx("li",{className:"p-2 text-gray-500 text-sm",children:"No se encontraron ciudades."})})})]}),v.jsx(bt,{type:"number",label:_?"Cuantos frentes deseas inscribir?":"Nmero total de Frentes",value:E,onChange:H=>T(Math.max(1,parseInt(H.target.value)||1)),required:!0,min:"1"}),v.jsxs("div",{className:"flex justify-end pt-4 space-x-2 border-t border-gray-700",children:[v.jsx("button",{type:"button",onClick:e,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg",children:"Cancelar"}),v.jsx("button",{type:"submit",className:"bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold py-2 px-4 rounded-lg",children:"Guardar"})]})]})})},QN=As.memo(({torneo:n,onUpdateTorneo:e,onOpenConflictModal:o,isReadOnly:l})=>{const s=(c,f)=>{let g={...n,[c]:f};if(c==="minWeight"){const y=Math.max($N,f);g.minWeight=y>g.maxWeight?g.maxWeight:y}if(c==="maxWeight"){const y=Math.min(KN,f);g.maxWeight=y<g.minWeight?g.minWeight:y}e(g)};return v.jsxs("fieldset",{disabled:l,className:"space-y-4",children:[v.jsx("h4",{className:"text-md font-semibold text-amber-300",children:"Informacin del Torneo"}),v.jsx(bt,{label:"Nombre del Torneo",value:n.name,onChange:c=>s("name",c.target.value),disabled:l}),v.jsx(bt,{label:"Responsable del Torneo",value:n.tournamentManager||"",onChange:c=>s("tournamentManager",c.target.value),disabled:l}),v.jsx(bt,{type:"date",label:"Fecha",value:n.date,onChange:c=>s("date",c.target.value),disabled:l}),v.jsx(bt,{type:"number",label:"Nmero de Das del Torneo",value:n.tournamentDays,onChange:c=>s("tournamentDays",Math.max(1,parseInt(c.target.value,10)||1)),min:"1",disabled:l}),v.jsx("h4",{className:"text-md font-semibold text-amber-300 mt-4 border-t border-gray-700 pt-4",children:"Tolerancias"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsx(ds,{label:"Tolerancia de Peso ( Onza)",value:n.weightTolerance,onChange:c=>s("weightTolerance",c),disabled:l}),v.jsx(bt,{type:"number",label:"Tolerancia de Meses () (solo pollos)",value:n.ageToleranceMonths,onChange:c=>s("ageToleranceMonths",parseInt(c.target.value)||0),min:"0",disabled:l,inputClassName:"text-gray-200 font-bold"})]}),v.jsx("h4",{className:"text-md font-semibold text-amber-300 mt-4 border-t border-gray-700 pt-4",children:"Pesos Permitidos"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsx(ds,{label:"Mnimo (Lb.Oz)",value:n.minWeight,onChange:c=>s("minWeight",c),disabled:l}),v.jsx(ds,{label:"Mximo (Lb.Oz)",value:n.maxWeight,onChange:c=>s("maxWeight",c),disabled:l})]}),v.jsxs("div",{className:"border-t border-gray-700 pt-4 mt-4",children:[v.jsx("h4",{className:"text-md font-semibold text-amber-300",children:"Reglas del Torneo por Frentes"}),v.jsxs("div",{className:"space-y-4 mt-2",children:[v.jsx(bt,{type:"number",label:"Gallos por Frente",value:n.roostersPerTeam,onChange:c=>s("roostersPerTeam",parseInt(c.target.value)||0),min:"0",disabled:l,inputClassName:"text-gray-200 font-bold"}),v.jsx(bt,{type:"number",label:"Puntos por Victoria",value:n.pointsForWin,onChange:c=>s("pointsForWin",parseInt(c.target.value)||0),min:"0",disabled:l,inputClassName:"text-gray-200 font-bold"}),v.jsx(bt,{type:"number",label:"Puntos por Empate",value:n.pointsForDraw,onChange:c=>s("pointsForDraw",parseInt(c.target.value)||0),min:"0",disabled:l,inputClassName:"text-gray-200 font-bold"}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Excepciones de Cotejo"}),v.jsxs("button",{type:"button",onClick:o,disabled:l,className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg disabled:bg-gray-700 disabled:cursor-not-allowed",children:["Gestionar Excepciones (",n.exceptions.length,")"]})]})]})]})]})}),ZN=({cuerdas:n,gallos:e,torneo:o,viewingDay:l,currentDay:s,dailyResults:c,onUpdateTorneo:f,onStartMatchmaking:g,onSaveCuerda:y,onImportCuerdaAndGallos:h,onDeleteCuerda:S,onSaveGallo:E,onAddSingleGallo:T,onDeleteGallo:b,isMatchmaking:N,onFullReset:_,onGoToResults:A,onGoToMatchmaking:w,isReadOnly:B,matchmakingResultsExist:k,onAddGalloToPc:O})=>{const[H,z]=X.useState(!1),[Q,ae]=X.useState(!1),[J,te]=X.useState(!1),[ne,q]=X.useState(!1),[j,ie]=X.useState(null),[he,P]=X.useState(null),Z=()=>{ie(null),z(!0)},le=(fe,it)=>{y(fe,it),z(!1)},Me=(fe,it)=>{E(fe,it)},we=fe=>{P(fe),ae(!0)},R=()=>{if(n.filter(fe=>!fe.baseCuerdaId).length===0){alert("Debe crear una cuerda primero antes de aadir gallos.");return}P(null),ae(!0)},$=X.useCallback(()=>{ae(!1),P(null)},[]),W=X.useMemo(()=>e.length,[e]),se=X.useMemo(()=>{const fe=new Map;return e.forEach(it=>{const pt=fe.get(it.cuerdaId)||[];pt.push(it),fe.set(it.cuerdaId,pt)}),fe},[e]),ge=c.some(fe=>fe.day===s),Ce=c.length>=o.tournamentDays,Ge=X.useMemo(()=>o.tournamentDays===1?"Configuracin para Torneo de un solo da":`Configuracin para el Da ${l} de ${o.tournamentDays}`,[o.tournamentDays,l]),ut=X.useMemo(()=>o.tournamentDays===1?"Ajusta las reglas, aade cuerdas y registra los gallos para la contienda.":B?`Viendo la configuracin del Da ${l} (finalizado).`:"Ajusta las reglas, aade cuerdas y registra los gallos para la contienda de hoy.",[o.tournamentDays,l,B]);return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"text-center mb-4",children:[v.jsx("h2",{className:"text-2xl font-bold text-white",children:Ge}),v.jsx("p",{className:"text-gray-400 mt-1",children:ut})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v.jsx("div",{className:"lg:col-span-1 space-y-6",children:v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4 sm:p-6 relative",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"text-amber-400 w-6 h-6",children:v.jsx(_T,{})}),v.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Reglas Del Torneo"})]}),!B&&v.jsx("div",{className:"flex items-center space-x-2",children:v.jsx("button",{onClick:_,title:"Reiniciar aplicacin y borrar todos los datos",className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:v.jsx(AT,{className:"w-5 h-5"})})})]}),v.jsx("div",{children:v.jsx(QN,{torneo:o,onUpdateTorneo:f,onOpenConflictModal:()=>te(!0),isReadOnly:B})})]})}),v.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[v.jsx(Xg,{icon:v.jsx(Ey,{}),title:"Cuerdas",buttonText:"Aadir Cuerda",onButtonClick:Z,isReadOnly:B,extraButton:!B&&v.jsxs("button",{onClick:()=>q(!0),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-3 rounded-lg transition-colors text-xs sm:text-sm",children:[v.jsx(fc,{className:"w-4 h-4"}),v.jsx("span",{children:"Importar con IA"})]}),children:v.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:[n.length===0&&v.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay cuerdas registradas."}),[...n].sort((fe,it)=>fe.name.localeCompare(it.name,void 0,{numeric:!0})).map(fe=>v.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 p-2 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-white",children:fe.name}),v.jsxs("p",{className:"text-xs text-gray-400",children:[fe.owner," - ",fe.city||"N/A"]})]}),!B&&v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx("button",{onClick:()=>{ie(fe),z(!0)},className:"p-1 text-gray-400 hover:text-amber-400",children:v.jsx(pc,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>S(fe.id),className:"p-1 text-gray-400 hover:text-red-500",children:v.jsx(mc,{className:"w-5 h-5"})})]})]},fe.id))]})}),v.jsx(Xg,{icon:v.jsx(fc,{}),title:"Gallos",buttonText:"Aadir Gallo",onButtonClick:R,isReadOnly:B,children:v.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:[e.length===0&&v.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay gallos registrados."}),[...n].sort((fe,it)=>fe.name.localeCompare(it.name,void 0,{numeric:!0})).map(fe=>{const it=se.get(fe.id);return!it||it.length===0?null:v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-amber-400 mb-1 sticky top-0 bg-gray-800/80 backdrop-blur-sm py-1",children:fe.name}),v.jsx("div",{className:"space-y-2 pl-2 border-l-2 border-gray-700",children:it.map(pt=>{const $n=pt.weight<o.minWeight,Qi=pt.weight>o.maxWeight;return v.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 p-2 rounded-lg",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"font-semibold text-white flex items-center",children:[pt.color,($n||Qi)&&v.jsx(NT,{title:$n?"Peso por debajo del mnimo":"Peso por encima del mximo",className:"w-4 h-4 ml-2 text-yellow-400"})]}),v.jsxs("p",{className:"text-xs font-mono text-gray-500",children:[YN(pt.weight,!0)," / ",pt.ageMonths,"m / ",pt.tipoEdad]})]}),!B&&v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx("button",{onClick:()=>we(pt),className:"p-1 text-gray-400 hover:text-amber-400",children:v.jsx(pc,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>b(pt.id),className:"p-1 text-gray-400 hover:text-red-500",children:v.jsx(mc,{className:"w-5 h-5"})})]})]},pt.id)})})]},fe.id)})]})})]}),v.jsx("div",{className:"pt-6 text-center",children:B?v.jsxs("button",{onClick:w,disabled:!k,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-10 rounded-lg text-lg transition-all transform hover:scale-105 shadow-lg flex items-center justify-center mx-auto disabled:bg-gray-500 disabled:cursor-not-allowed",children:[v.jsx(fh,{className:"w-6 h-6 mr-2"}),"Ver Cartelera del Da ",l]}):Ce?v.jsxs("button",{onClick:A,className:"bg-amber-600 hover:bg-amber-700 text-white font-bold py-4 px-10 rounded-lg text-lg transition-all transform hover:scale-105 shadow-lg flex items-center justify-center mx-auto",children:[v.jsx(Vc,{className:"w-6 h-6 mr-2"}),"Ver Clasificacin Final"]}):v.jsx("div",{className:"flex flex-col items-center gap-4",children:v.jsx("button",{onClick:g,disabled:N||W<2||ge,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-10 rounded-lg text-lg transition-all transform hover:scale-105 shadow-lg disabled:bg-gray-500 disabled:cursor-not-allowed flex items-center justify-center mx-auto",children:N?v.jsxs(v.Fragment,{children:[v.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Cotejando..."]}):v.jsxs(v.Fragment,{children:[v.jsx(fh,{className:"w-6 h-6 mr-2"}),ge?`Da ${s} Finalizado`:`Iniciar Baloteo (Da ${s})`]})})})})]})]}),v.jsx(XN,{isOpen:H,onClose:()=>z(!1),onSave:le,cuerda:j,cuerdas:n}),v.jsx(RT,{isOpen:Q,onClose:$,onSaveSingle:Me,onAddSingleGallo:T,gallo:he,cuerdas:n,gallos:e,torneo:o,onDeleteGallo:b,onEditGallo:we}),v.jsx(DT,{isOpen:J,onClose:()=>te(!1),torneo:o,cuerdas:n,onUpdateTorneo:f,isReadOnly:B}),v.jsx(JN,{isOpen:ne,onClose:()=>q(!1),cuerdas:n,gallos:e,torneo:o,onImportFullData:h,onAddSingleGallo:T,onSaveGallo:E,onAddGalloToPc:O})]})},Qg=16,jN=n=>{if(isNaN(n)||n<0)return{lbs:0,oz:0};const e=Math.floor(n/Qg),o=n%Qg;return{lbs:e,oz:o}},oc=n=>{const{lbs:e,oz:o}=jN(n);return`${e}.${String(o).padStart(2,"0")} Lb.Oz`},WN=({results:n,torneo:e,cuerdas:o,onStartTournament:l,onBack:s,onCreateManualFight:c,isReadOnly:f})=>{const[g,y]=X.useState([]),h=A=>{var w;return((w=o.find(B=>B.id===A))==null?void 0:w.name)||"Desconocido"},S=A=>{f||y(w=>w.includes(A)?w.filter(B=>B!==A):w.length<2?[...w,A]:w)},E=()=>{g.length===2&&(c(g[0],g[1]),y([]))},T=A=>v.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-6 flex items-center justify-between fight-card",children:[v.jsx("div",{className:"w-1/12 text-center text-gray-400 font-bold text-3xl",children:A.fightNumber}),v.jsxs("div",{className:"w-5/12 text-right pr-4 space-y-2",children:[v.jsx("p",{className:"font-bold text-4xl text-amber-400 truncate",children:h(A.roosterA.cuerdaId)}),v.jsx("p",{className:"font-semibold text-white text-2xl",children:A.roosterA.color}),v.jsxs("p",{className:"text-lg font-mono text-gray-300",children:[oc(A.roosterA.weight)," / ",A.roosterA.ageMonths||"N/A","m / ",A.roosterA.tipoGallo]}),v.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["A:",A.roosterA.ringId," Pm:",A.roosterA.markingId," Pc:",A.roosterA.breederPlateId," Marca:",A.roosterA.marca]})]}),v.jsx("div",{className:"w-1/12 text-center text-red-500 font-extrabold text-5xl",children:"VS"}),v.jsxs("div",{className:"w-5/12 text-left pl-4 space-y-2",children:[v.jsx("p",{className:"font-bold text-4xl text-amber-400 truncate",children:h(A.roosterB.cuerdaId)}),v.jsx("p",{className:"font-semibold text-white text-2xl",children:A.roosterB.color}),v.jsxs("p",{className:"text-lg font-mono text-gray-300",children:[oc(A.roosterB.weight)," / ",A.roosterB.ageMonths||"N/A","m / ",A.roosterB.tipoGallo]}),v.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["A:",A.roosterB.ringId," Pm:",A.roosterB.markingId," Pc:",A.roosterB.breederPlateId," Marca:",A.roosterB.marca]})]})]},A.id),b=n.unpairedRoosters.length,N=n.mainFights.filter(A=>A.id.startsWith("pelea-manual-")).length,_=n.mainFights.length-N;return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"sticky top-0 z-30 py-4 mb-6 bg-gray-900/90 backdrop-blur-md border-b border-gray-700 flex flex-col sm:flex-row justify-between items-center gap-4 print:hidden",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:s,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-6 rounded-lg",children:"Atrs"}),v.jsx("h2",{className:"hidden md:block text-2xl font-bold text-white",children:"Cotejo de Peleas"})]}),v.jsx("div",{className:"flex flex-wrap justify-center gap-3 w-full sm:w-auto",children:!f&&v.jsx("button",{onClick:l,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-8 rounded-lg shadow-lg transform active:scale-95 transition-all",children:"Comenzar Torneo"})})]}),v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4",children:[v.jsx("h3",{className:"text-xl font-bold text-amber-400 mb-3 text-center sm:text-left",children:"Estadsticas de la Contienda"}),v.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center",children:[v.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-lg",children:[v.jsx("p",{className:"text-2xl font-bold text-white",children:_}),v.jsx("p",{className:"text-sm text-gray-400",children:"Peleas de Cotejo"})]}),v.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-lg",children:[v.jsx("p",{className:"text-2xl font-bold text-white",children:N}),v.jsx("p",{className:"text-sm text-gray-400",children:"Peleas Manuales"})]}),v.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-lg",children:[v.jsx("p",{className:"text-2xl font-bold text-white",children:n.stats.mainTournamentRoostersCount}),v.jsx("p",{className:"text-sm text-gray-400",children:"Gallos Aptos"})]}),v.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-lg",children:[v.jsx("p",{className:"text-2xl font-bold text-white",children:n.unpairedRoosters.length}),v.jsx("p",{className:"text-sm text-gray-400",children:"Gallos sin Pelea"})]})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-xl font-bold text-amber-400",children:"Cartelera Principal"}),n.mainFights.length>0?v.jsx("div",{className:"space-y-2",children:n.mainFights.map(T)}):v.jsx("p",{className:"text-center text-gray-400 py-6",children:"No se generaron peleas."})]}),!f&&b>0&&v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4 mt-8",children:[v.jsx("h3",{className:"text-xl font-bold text-amber-400 mb-4",children:"Contiendas Manuales"}),n.unpairedRoosters.length>0&&v.jsxs("div",{children:[v.jsx("h4",{className:"text-amber-400 mb-2 text-base",children:"Gallos Esperando Contienda"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.unpairedRoosters.map(A=>{const w=g.includes(A.id);let B=!1;const k=g.length===1?n.unpairedRoosters.find(z=>z.id===g[0]):null;if(g.length>=2&&!w)B=!0;else if(k&&!w){const z=o.find(te=>te.id===k.cuerdaId),Q=o.find(te=>te.id===A.cuerdaId),ae=(z==null?void 0:z.baseCuerdaId)||(z==null?void 0:z.id),J=(Q==null?void 0:Q.baseCuerdaId)||(Q==null?void 0:Q.id);ae&&ae===J&&(B=!0)}const O=A.weight<e.minWeight,H=A.weight>e.maxWeight;return v.jsxs("div",{onClick:()=>!B&&S(A.id),className:`flex items-center p-3 rounded-lg border-2 transition-all duration-200 ${w?"bg-amber-900/50 border-amber-500 shadow-md":"bg-gray-700/50 border-gray-600"} ${B?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-amber-600"}`,children:[v.jsx("input",{type:"checkbox",checked:w,disabled:B,readOnly:!0,className:"w-5 h-5 rounded text-amber-600 bg-gray-900 border-gray-500 focus:ring-amber-500 focus:ring-offset-gray-800"}),v.jsxs("div",{className:"ml-3 flex-grow overflow-hidden",children:[v.jsx("p",{className:"font-bold text-amber-400 truncate",children:h(A.cuerdaId)}),v.jsxs("p",{className:"text-white truncate",children:[A.color," ",v.jsxs("span",{className:"text-xs text-gray-400 font-normal",children:["(",A.ringId,")"]})]}),O&&v.jsx("span",{className:"text-xs font-bold text-yellow-400 block",children:"Peso Bajo"}),H&&v.jsx("span",{className:"text-xs font-bold text-red-400 block",children:"Peso Alto"})]}),v.jsx("div",{className:"text-right flex-shrink-0 ml-2 flex items-center",children:v.jsxs("div",{children:[v.jsx("p",{className:"font-mono text-sm",children:oc(A.weight)}),v.jsxs("p",{className:"font-mono text-xs text-gray-400",children:[A.ageMonths,"m / ",A.tipoGallo]})]})})]},A.id)})}),g.length===2&&v.jsx("div",{className:"mt-4 text-center",children:v.jsx("button",{onClick:E,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-all transform hover:scale-105 shadow-lg",children:"Crear Pelea Seleccionada"})})]}),n.unpairedRoosters.length===0&&v.jsx("p",{className:"text-gray-400 text-center py-4",children:"Todos los gallos disponibles han sido emparejados."})]})]})},Zg=16,eI=n=>{if(isNaN(n)||n<0)return{lbs:0,oz:0};const e=Math.floor(n/Zg),o=n%Zg;return{lbs:e,oz:o}},tI=n=>{const{lbs:e,oz:o}=eI(n);return`${e}.${String(o).padStart(2,"0")}`},nI=({peleas:n,onFinishFight:e,onFinishTournament:o,onBack:l,totalFightsInPhase:s,addNotification:c})=>{const[f,g]=X.useState(""),[y,h]=X.useState(""),S=X.useRef(null),E=X.useRef(null),T=n[0],[b,N]=X.useState([]),[_,A]=X.useState(null);X.useEffect(()=>{const J=localStorage.getItem("galleraPro_cuerdas"),te=localStorage.getItem("galleraPro_torneo");J&&N(JSON.parse(J)),te&&A(JSON.parse(te))},[]),X.useEffect(()=>{var J;T&&(g(""),h(""),(J=S.current)==null||J.focus())},[T]);const w=J=>{var ne,q;const te=J.target.value.replace(/[^0-9]/g,"").slice(0,2);g(te),te.length===2&&((ne=E.current)==null||ne.focus(),(q=E.current)==null||q.select())},B=J=>{const te=J.target.value.replace(/[^0-9]/g,"").slice(0,2);h(te)},k=(J,te,ne)=>{if(J==="")return;let q=parseInt(J,10)||0;ne!==void 0&&q>ne&&(q=ne),te(String(q).padStart(2,"0"))},O=J=>{var te;return((te=b.find(ne=>ne.id===J))==null?void 0:te.name)||"Desconocido"},H=J=>{if(T)if(J==="DRAW")e(T.id,J,480);else{const te=parseInt(f,10)||0,ne=parseInt(y,10)||0,q=te*60+Math.min(ne,59);if(q===0){c("Debes introducir un tiempo de pelea para declarar un ganador.","error");return}e(T.id,J,q)}};if(!T||!_)return v.jsxs("div",{className:"text-center p-8",children:[v.jsx("h2",{className:"text-3xl font-bold text-white",children:"Cargando siguiente pelea..."}),v.jsx("p",{className:"text-gray-400 mt-2",children:"Si la carga se congela, no hay ms peleas en esta fase."})]});const z=s-n.length,Q=J=>`${tI(J.weight)} Lb.Oz / ${J.ageMonths}m / ${J.tipoGallo}`,ae=J=>`A:${J.ringId} Pm:${J.markingId} Pc:${J.breederPlateId} Marca:${J.marca}`;return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] text-white p-4",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsxs("h2",{className:"text-5xl md:text-6xl font-extrabold tracking-tight text-amber-400",children:["Pelea #",T.fightNumber]}),v.jsxs("p",{className:"text-lg md:text-xl text-gray-400 mt-2",children:["Pelea ",z+1," de ",s]})]}),v.jsxs("div",{className:"w-full max-w-7xl grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] items-stretch gap-4 md:gap-8 mb-8",children:[v.jsxs("div",{className:"bg-blue-900/30 border-2 border-blue-600 rounded-2xl p-6 text-center md:text-right flex flex-col items-center md:items-end justify-center shadow-lg transform hover:scale-[1.02] transition-transform duration-300 space-y-2",children:[v.jsx("p",{className:"text-4xl md:text-5xl lg:text-6xl text-amber-400 font-bold break-words",children:O(T.roosterA.cuerdaId)}),v.jsx("h3",{className:"text-2xl lg:text-3xl font-semibold text-white",children:T.roosterA.color}),v.jsx("p",{className:"text-xl lg:text-2xl text-gray-300 font-mono",children:Q(T.roosterA)}),v.jsx("p",{className:"text-xs text-gray-400 font-mono",children:ae(T.roosterA)})]}),v.jsx("div",{className:"flex items-center justify-center",children:v.jsx("span",{className:"text-6xl md:text-8xl font-black text-red-500 transform -rotate-6",children:"VS"})}),v.jsxs("div",{className:"bg-red-900/30 border-2 border-red-600 rounded-2xl p-6 text-center md:text-left flex flex-col items-center md:items-start justify-center shadow-lg transform hover:scale-[1.02] transition-transform duration-300 space-y-2",children:[v.jsx("p",{className:"text-4xl md:text-5xl lg:text-6xl text-amber-400 font-bold break-words",children:O(T.roosterB.cuerdaId)}),v.jsx("h3",{className:"text-2xl lg:text-3xl font-semibold text-white",children:T.roosterB.color}),v.jsx("p",{className:"text-xl lg:text-2xl text-gray-300 font-mono",children:Q(T.roosterB)}),v.jsx("p",{className:"text-xs text-gray-400 font-mono",children:ae(T.roosterB)})]})]}),v.jsxs("div",{className:"w-full max-w-4xl flex flex-col items-center gap-6",children:[v.jsxs("div",{className:"text-center space-y-2",children:[v.jsx("p",{className:"text-xl font-semibold text-gray-300",children:"Duracin de la Pelea"}),v.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[v.jsx("input",{ref:S,type:"text",inputMode:"numeric",value:f,onChange:w,onBlur:()=>k(f,g),className:"w-24 md:w-28 bg-gray-900/50 border-2 border-gray-600 text-white text-6xl md:text-7xl font-mono text-center rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none","aria-label":"Minutos",placeholder:"00"}),v.jsx("span",{className:"text-6xl md:text-7xl font-mono text-gray-600 pb-2",children:":"}),v.jsx("input",{ref:E,type:"text",inputMode:"numeric",value:y,onChange:B,onBlur:()=>k(y,h,59),className:"w-24 md:w-28 bg-gray-900/50 border-2 border-gray-600 text-white text-6xl md:text-7xl font-mono text-center rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none","aria-label":"Segundos",placeholder:"00"})]}),v.jsxs("div",{className:"flex justify-center items-center space-x-2 w-full pt-1",children:[v.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-widest w-24 md:w-28 text-center",children:"MIN"}),v.jsx("span",{className:"w-4"}),v.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-widest w-24 md:w-28 text-center",children:"SEG"})]})]}),v.jsxs("div",{className:"w-full flex flex-col sm:flex-row justify-center items-center gap-4 mt-4",children:[v.jsxs("button",{onClick:()=>H("A"),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 text-xl rounded-lg w-full sm:w-auto transform hover:scale-105 transition-transform duration-200",children:["Gana ",O(T.roosterA.cuerdaId)]}),v.jsx("button",{onClick:()=>H("DRAW"),className:"bg-gray-500 hover:bg-gray-400 text-white font-bold py-3 px-6 text-lg rounded-lg w-full sm:w-auto",children:"Empate"}),v.jsxs("button",{onClick:()=>H("B"),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-8 text-xl rounded-lg w-full sm:w-auto transform hover:scale-105 transition-transform duration-200",children:["Gana ",O(T.roosterB.cuerdaId)]})]})]}),v.jsxs("div",{className:"text-center mt-12 print-hide flex justify-center items-center space-x-4",children:[v.jsx("button",{onClick:l,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-6 rounded-lg",children:"Atrs"}),v.jsx("button",{onClick:o,className:"bg-red-700 hover:bg-red-800 text-white font-bold py-2 px-6 rounded-lg",children:"Terminar Torneo Anticipadamente"})]})]})},iI=({dailyResults:n,torneo:e,cuerdas:o,onNewTournament:l,onBack:s,viewingDay:c})=>{const[f,g]=X.useState([]),y=_=>{g(A=>A.includes(_)?A.filter(w=>w!==_):[...A,_])},h=X.useMemo(()=>{const _=n.find(A=>A.day===c);return _?_.peleas:[]},[n,c]),S=X.useMemo(()=>{const _={};return o.forEach(A=>{_[A.id]={wins:0,draws:0,losses:0,totalDurationSeconds:0}}),h.forEach(A=>{if(!A.winner)return;const w=A.roosterA.cuerdaId,B=A.roosterB.cuerdaId,k=A.duration||0;A.winner==="A"?(_[w].wins++,_[w].totalDurationSeconds+=k,_[B].losses++):A.winner==="B"?(_[B].wins++,_[B].totalDurationSeconds+=k,_[w].losses++):A.winner==="DRAW"&&(_[w].draws++,_[B].draws++,_[w].totalDurationSeconds+=k,_[B].totalDurationSeconds+=k)}),o.map(A=>{const w=A.name.match(/\(F(\d+)\)$/),B=w?parseInt(w[1],10):1,k=_[A.id],O=k.wins*e.pointsForWin+k.draws*e.pointsForDraw;return{cuerdaId:A.id,cuerdaName:A.name,fronts:B,...k,points:O}}).filter(A=>A.wins+A.draws+A.losses>0)},[h,o,e]),E=X.useMemo(()=>{const _=[...S];return _.sort((A,w)=>A.points!==w.points?w.points-A.points:A.totalDurationSeconds!==w.totalDurationSeconds?A.totalDurationSeconds-w.totalDurationSeconds:0),_},[S]),T=_=>{const A=Math.floor(_/60),w=_%60;return{minutes:A,seconds:w}},b=X.useMemo(()=>{const _=[];return h.forEach(A=>{if(A.winner&&A.winner!=="DRAW"&&A.duration!==null&&A.duration>0){const w=A.winner==="A"?A.roosterA:A.roosterB;_.push({rooster:w,duration:A.duration})}}),_.sort((A,w)=>A.duration-w.duration).slice(0,10)},[h]),N=_=>{var A;return((A=o.find(w=>w.id===_))==null?void 0:A.name)||"Desconocido"};return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-3xl font-bold text-white",children:"Clasificacin General"}),v.jsxs("p",{className:"text-gray-400 mt-2",children:[e.name," - ",e.date]})]}),v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4 sm:p-6",children:[v.jsx("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-4",children:v.jsxs("h3",{className:"text-xl font-bold text-amber-400",children:["Tabla de Posiciones - Da ",c]})}),v.jsx("p",{className:"text-xs text-gray-400 mb-4 print:hidden",children:"Haz clic en una fila para ver los detalles de los gallos."}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[v.jsx("thead",{className:"text-xs text-amber-400 uppercase bg-gray-700/50",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"#"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"CUERDA"}),v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"PUNTOS"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"PG"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"PE"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"PP"}),v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"TIEMPO"})]})}),v.jsxs("tbody",{children:[E.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:7,className:"text-center py-8 text-gray-500",children:"No hay datos de peleas para el da seleccionado."})}),E.map((_,A)=>{const{minutes:w,seconds:B}=T(_.totalDurationSeconds),k=f.includes(_.cuerdaId),O=h.filter(H=>H.roosterA.cuerdaId===_.cuerdaId||H.roosterB.cuerdaId===_.cuerdaId);return v.jsxs(As.Fragment,{children:[v.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/30 cursor-pointer",onClick:()=>y(_.cuerdaId),children:[v.jsx("td",{className:"px-4 py-3 font-bold text-center",children:A+1}),v.jsx("td",{className:"px-6 py-3 font-semibold text-white",children:_.cuerdaName}),v.jsx("td",{className:"px-4 py-3 text-center text-white font-bold",children:_.points}),v.jsx("td",{className:"px-3 py-3 text-center text-green-400 font-bold",children:_.wins}),v.jsx("td",{className:"px-3 py-3 text-center text-yellow-400",children:_.draws}),v.jsx("td",{className:"px-3 py-3 text-center text-red-400",children:_.losses}),v.jsxs("td",{className:"px-4 py-3 text-center text-white font-semibold tracking-wider",children:[String(w).padStart(2,"0"),":",String(B).padStart(2,"0")]})]}),v.jsx("tr",{className:`${k?"":"hidden"} print:hidden`,children:v.jsx("td",{colSpan:7,className:"p-4 bg-gray-700/10",children:v.jsxs("div",{className:"space-y-2",children:[v.jsxs("h4",{className:"font-bold text-amber-300",children:["Detalles de Peleas para ",_.cuerdaName,":"]}),O.length>0?O.map(H=>{const z=H.roosterA.cuerdaId===_.cuerdaId?H.roosterA:H.roosterB,Q=z===H.roosterA?H.roosterB:H.roosterA,ae=T(H.duration||0);let J="Empate";return H.winner==="A"&&z===H.roosterA||H.winner==="B"&&z===H.roosterB?J="Victoria":H.winner!=="DRAW"&&(J="Derrota"),v.jsxs("div",{className:"text-xs grid grid-cols-2 md:grid-cols-4 gap-x-4 gap-y-1 p-2 border-b border-gray-600 last:border-b-0",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Gallo:"})," ",v.jsx("span",{className:"font-normal",children:z.color})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Oponente:"})," ",v.jsxs("span",{className:"font-normal",children:[Q.color," (",N(Q.cuerdaId),")"]})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Resultado:"})," ",v.jsx("span",{className:`font-bold ${J==="Victoria"?"text-green-400":J==="Derrota"?"text-red-400":"text-yellow-400"}`,children:J})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Tiempo:"})," ",v.jsxs("span",{className:"font-normal",children:[ae.minutes,":",String(ae.seconds).padStart(2,"0")]})]})]},H.id)}):v.jsx("p",{className:"text-xs text-gray-500",children:"No hay detalles de peleas para esta cuerda."})]})})})]},_.cuerdaId)})]})]})})]}),v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4 sm:p-6 mt-8",children:[v.jsxs("h3",{className:"text-xl font-bold text-amber-400 mb-4",children:["Top 10 Gallos Ms Rpidos - Da ",c]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[v.jsx("thead",{className:"text-xs text-amber-400 uppercase bg-gray-700/50",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"#"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Gallo"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Cuerda"}),v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Tiempo"})]})}),v.jsxs("tbody",{children:[b.map((_,A)=>{const{minutes:w,seconds:B}=T(_.duration);return v.jsxs("tr",{className:"border-b border-gray-700",children:[v.jsx("td",{className:"px-4 py-3 font-bold text-center",children:A+1}),v.jsx("td",{className:"px-6 py-3 font-semibold text-white",children:_.rooster.color}),v.jsx("td",{className:"px-6 py-3",children:N(_.rooster.cuerdaId)}),v.jsxs("td",{className:"px-4 py-3 text-center text-white font-semibold tracking-wider",children:[String(w).padStart(2,"0"),":",String(B).padStart(2,"0")]})]},_.rooster.id+"-"+A)}),b.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:4,className:"text-center py-4 text-gray-500",children:"No hay peleas ganadas para mostrar."})})]})]})})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-8 print:hidden",children:[v.jsx("button",{onClick:s,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-8 rounded-lg text-lg",children:"Volver a la Cartelera"}),v.jsx("button",{onClick:l,className:"bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold py-3 px-8 rounded-lg text-lg",children:"Nuevo Torneo (Borrar Resultados)"})]})]})},oI=({dailyResults:n,torneo:e,cuerdas:o,onNewTournament:l,onBack:s})=>{const[c,f]=X.useState([]),g=N=>{f(_=>_.includes(N)?_.filter(A=>A!==N):[..._,N])},y=N=>{const _=o.find(A=>A.id===N);return(_==null?void 0:_.baseCuerdaId)||(_==null?void 0:_.id)||""},h=X.useMemo(()=>n.flatMap(N=>N.peleas.map(_=>({..._,day:N.day}))),[n]),S=X.useMemo(()=>{const N=new Map,_=o.filter(w=>!w.baseCuerdaId);return _.forEach(w=>{N.set(w.id,{wins:0,draws:0,losses:0,totalDurationSeconds:0})}),h.forEach(w=>{if(!w.winner)return;const B=w.duration||0,k=y(w.roosterA.cuerdaId),O=y(w.roosterB.cuerdaId),H=N.get(k),z=N.get(O);w.winner==="A"?(H&&(H.wins++,H.totalDurationSeconds+=B),z&&z.losses++):w.winner==="B"?(z&&(z.wins++,z.totalDurationSeconds+=B),H&&H.losses++):w.winner==="DRAW"&&(H&&(H.draws++,H.totalDurationSeconds+=B),z&&(z.draws++,z.totalDurationSeconds+=B))}),Array.from(N.entries()).map(([w,B])=>{const k=_.find(H=>H.id===w),O=B.wins*e.pointsForWin+B.draws*e.pointsForDraw;return{cuerdaId:w,cuerdaName:k?k.name.replace(/\s\(F\d+\)$/,""):"Desconocido",points:O,...B}}).filter(w=>w.wins+w.draws+w.losses>0).sort((w,B)=>w.points!==B.points?B.points-w.points:w.totalDurationSeconds-B.totalDurationSeconds)},[h,o,e]),E=X.useMemo(()=>{let N=null;return h.forEach(_=>{_.winner&&_.winner!=="DRAW"&&_.duration!==null&&_.duration>0&&(!N||_.duration<N.duration)&&(N={rooster:_.winner==="A"?_.roosterA:_.roosterB,duration:_.duration})}),N},[h]),T=N=>{const _=Math.floor(N/60),A=N%60;return{minutes:_,seconds:A}},b=N=>{var _;return((_=o.find(A=>A.id===N))==null?void 0:_.name)||"Desconocido"};return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-3xl font-bold text-white",children:"Resultados Finales del Torneo"}),v.jsxs("p",{className:"text-gray-400 mt-2",children:[e.name," - ",e.date]})]}),v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4 sm:p-6",children:[v.jsx("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-4",children:v.jsx("h3",{className:"text-xl font-bold text-amber-400",children:"Clasificacin de Campeones"})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[v.jsx("thead",{className:"text-xs text-amber-400 uppercase bg-gray-700/50",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"#"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Cuerda"}),v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Puntos"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"PG"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"PE"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"PP"}),v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Tiempo Total"})]})}),v.jsxs("tbody",{children:[S.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:7,className:"text-center py-8 text-gray-500",children:"No hay datos suficientes para generar la clasificacin."})}),S.map((N,_)=>{const{minutes:A,seconds:w}=T(N.totalDurationSeconds),B=c.includes(N.cuerdaId),k=h.filter(O=>y(O.roosterA.cuerdaId)===N.cuerdaId||y(O.roosterB.cuerdaId)===N.cuerdaId);return v.jsxs(As.Fragment,{children:[v.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/30 cursor-pointer",onClick:()=>g(N.cuerdaId),children:[v.jsx("td",{className:"px-4 py-3 font-bold text-center",children:_+1}),v.jsx("td",{className:"px-6 py-3 font-semibold text-white",children:N.cuerdaName}),v.jsx("td",{className:"px-4 py-3 text-center text-white font-bold",children:N.points}),v.jsx("td",{className:"px-3 py-3 text-center text-green-400 font-bold",children:N.wins}),v.jsx("td",{className:"px-3 py-3 text-center text-yellow-400",children:N.draws}),v.jsx("td",{className:"px-3 py-3 text-center text-red-400",children:N.losses}),v.jsxs("td",{className:"px-4 py-3 text-center text-white font-semibold tracking-wider",children:[String(A).padStart(2,"0"),":",String(w).padStart(2,"0")]})]}),v.jsx("tr",{className:`${B?"":"hidden"} print:hidden`,children:v.jsx("td",{colSpan:7,className:"p-4 bg-gray-700/10",children:v.jsxs("div",{className:"space-y-2",children:[v.jsxs("h4",{className:"font-bold text-amber-300",children:["Detalles de Peleas para ",N.cuerdaName,":"]}),k.length>0?k.map(O=>{const H=y(O.roosterA.cuerdaId)===N.cuerdaId?O.roosterA:O.roosterB,z=H===O.roosterA?O.roosterB:O.roosterA,Q=T(O.duration||0);let ae="Empate";return O.winner==="A"&&H===O.roosterA||O.winner==="B"&&H===O.roosterB?ae="Victoria":O.winner!=="DRAW"&&(ae="Derrota"),v.jsxs("div",{className:"text-xs grid grid-cols-2 md:grid-cols-5 gap-x-4 gap-y-1 p-2 border-b border-gray-600 last:border-b-0",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Da:"})," ",v.jsx("span",{className:"font-normal",children:O.day})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Gallo:"})," ",v.jsxs("span",{className:"font-normal",children:[H.color," (",b(H.cuerdaId),")"]})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Oponente:"})," ",v.jsxs("span",{className:"font-normal",children:[z.color," (",b(z.cuerdaId),")"]})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Resultado:"})," ",v.jsx("span",{className:`font-bold ${ae==="Victoria"?"text-green-400":ae==="Derrota"?"text-red-400":"text-yellow-400"}`,children:ae})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Tiempo:"})," ",v.jsxs("span",{className:"font-normal",children:[Q.minutes,":",String(Q.seconds).padStart(2,"0")]})]})]},O.id)}):v.jsx("p",{className:"text-xs text-gray-500",children:"No hay detalles de peleas para esta cuerda."})]})})})]},N.cuerdaId)})]})]})})]}),v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-6 mt-8",children:[v.jsx("h3",{className:"text-xl font-bold text-amber-400 mb-4",children:"Gallo ms Rpido del Campeonato"}),E?v.jsxs("div",{className:"text-center bg-gray-700/50 p-6 rounded-lg",children:[v.jsxs("p",{className:"text-5xl font-bold text-green-400",children:[T(E.duration).minutes,":",String(T(E.duration).seconds).padStart(2,"0")]}),v.jsx("p",{className:"text-2xl font-semibold text-white mt-2",children:E.rooster.color}),v.jsx("p",{className:"text-lg text-gray-300",children:b(E.rooster.cuerdaId)})]}):v.jsx("p",{className:"text-center text-gray-500 py-4",children:"No se encontraron peleas ganadas para determinar el ms rpido."})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-8 print:hidden",children:[v.jsx("button",{onClick:s,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-8 rounded-lg text-lg",children:"Volver al ltimo Da"}),v.jsx("button",{onClick:l,className:"bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold py-3 px-8 rounded-lg text-lg",children:"Nuevo Torneo (Borrar Resultados)"})]})]})},aI=({notifications:n,onDismiss:e})=>{const o=s=>{switch(s){case"success":return v.jsx(Cy,{className:"w-6 h-6 text-green-300"});case"error":return v.jsx(ps,{className:"w-6 h-6 text-red-300"});default:return null}},l=s=>{switch(s){case"success":return"bg-green-800/80 border-green-600";case"error":return"bg-red-800/80 border-red-600";default:return"bg-blue-800/80 border-blue-600"}};return v.jsxs("div",{className:"fixed top-5 right-5 z-[100] w-full max-w-xs space-y-3",children:[n.map(s=>v.jsxs("div",{className:`relative flex items-center p-4 pr-10 text-white rounded-lg shadow-lg backdrop-blur-md border animate-fade-in-down ${l(s.type)}`,children:[v.jsx("div",{className:"flex-shrink-0",children:o(s.type)}),v.jsx("div",{className:"ml-3 text-sm font-medium",children:s.message}),v.jsx("button",{onClick:()=>e(s.id),className:"absolute top-2 right-2 p-1 text-gray-300 hover:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-white",children:v.jsx(ps,{className:"w-4 h-4"})})]},s.id)),v.jsx("style",{children:`
        @keyframes fade-in-down {
            0% {
                opacity: 0;
                transform: translateY(-10px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .animate-fade-in-down {
            animation: fade-in-down 0.3s ease-out;
        }
      `})]})},jg=16,Wg=n=>{const e=Math.round(n),o=Math.floor(e/jg),l=e%jg;return`${o}.${String(l).padStart(2,"0")}`},lI=({peleas:n,cuerdas:e,torneoName:o,date:l,day:s})=>{const c=f=>{var y;return(((y=e.find(h=>h.id===f))==null?void 0:y.name)||"Desconocido").replace(/\s\(F\d+\)$/,"").trim()};return v.jsxs("div",{className:"printable-programacion-container",children:[v.jsxs("div",{className:"header-print",children:[v.jsx("h1",{children:o}),v.jsxs("p",{children:["PROGRAMACIN DE PELEAS ",s?`- DA ${s}`:""," | FECHA: ",l]})]}),v.jsxs("table",{className:"programacion-table",children:[v.jsxs("thead",{children:[v.jsxs("tr",{children:[v.jsx("th",{style:{width:"25px"},rowSpan:2,children:"N"}),v.jsx("th",{colSpan:8,children:"LADO ROJO (GALLO A)"}),v.jsx("th",{style:{width:"25px"},rowSpan:2,children:"VS"}),v.jsx("th",{colSpan:8,children:"LADO AZUL (GALLO B)"})]}),v.jsxs("tr",{children:[v.jsx("th",{style:{width:"90px"},children:"Cuerda"}),v.jsx("th",{style:{width:"45px"},children:"Anillo(A)"}),v.jsx("th",{style:{width:"45px"},children:"Placa(Pm)"}),v.jsx("th",{style:{width:"45px"},children:"Placa(Pc)"}),v.jsx("th",{style:{width:"55px"},children:"Color"}),v.jsx("th",{style:{width:"55px"},children:"Fenotipo"}),v.jsx("th",{style:{width:"45px"},children:"Tipo"}),v.jsx("th",{style:{width:"45px"},children:"Peso"}),v.jsx("th",{style:{width:"90px"},children:"Cuerda"}),v.jsx("th",{style:{width:"45px"},children:"Anillo(A)"}),v.jsx("th",{style:{width:"45px"},children:"Placa(Pm)"}),v.jsx("th",{style:{width:"45px"},children:"Placa(Pc)"}),v.jsx("th",{style:{width:"55px"},children:"Color"}),v.jsx("th",{style:{width:"55px"},children:"Fenotipo"}),v.jsx("th",{style:{width:"45px"},children:"Tipo"}),v.jsx("th",{style:{width:"45px"},children:"Peso"})]})]}),v.jsx("tbody",{children:n.map(f=>v.jsxs("tr",{children:[v.jsx("td",{style:{fontWeight:"bold"},children:f.fightNumber}),v.jsx("td",{style:{textAlign:"left",paddingLeft:"4px"},children:c(f.roosterA.cuerdaId)}),v.jsx("td",{children:f.roosterA.ringId}),v.jsx("td",{children:f.roosterA.markingId}),v.jsx("td",{children:f.roosterA.breederPlateId}),v.jsx("td",{children:f.roosterA.color}),v.jsx("td",{children:f.roosterA.tipoGallo}),v.jsx("td",{children:f.roosterA.tipoEdad}),v.jsx("td",{style:{fontFamily:"monospace"},children:Wg(f.roosterA.weight)}),v.jsx("td",{style:{fontWeight:"bold"},children:"VS"}),v.jsx("td",{style:{textAlign:"left",paddingLeft:"4px"},children:c(f.roosterB.cuerdaId)}),v.jsx("td",{children:f.roosterB.ringId}),v.jsx("td",{children:f.roosterB.markingId}),v.jsx("td",{children:f.roosterB.breederPlateId}),v.jsx("td",{children:f.roosterB.color}),v.jsx("td",{children:f.roosterB.tipoGallo}),v.jsx("td",{children:f.roosterB.tipoEdad}),v.jsx("td",{style:{fontFamily:"monospace"},children:Wg(f.roosterB.weight)})]},f.id))})]}),v.jsx("div",{className:"print-footer",children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[v.jsx("div",{style:{color:"black"},children:v.jsx(Vc,{className:"w-5 h-5"})}),v.jsx("span",{children:"GalleraPro - 100% Peleas de gallos - 3197633335"})]})})]})},sI=16,ey=(n,e)=>n*sI+e,rI=(n,e,o)=>{const l=S=>{const E=o.find(T=>T.id===S);return(E==null?void 0:E.baseCuerdaId)||(E==null?void 0:E.id)||""},s=(S,E)=>{const T=l(S),b=l(E);return e.exceptions.some(N=>N.cuerda1Id===T&&N.cuerda2Id===b||N.cuerda1Id===b&&N.cuerda2Id===T)},c=[];for(let S=0;S<n.length;S++)for(let E=S+1;E<n.length;E++){const T=n[S],b=n[E];if(T.tipoGallo!==b.tipoGallo)continue;const N=l(T.cuerdaId),_=l(b.cuerdaId);if(N===_||s(T.cuerdaId,b.cuerdaId))continue;const A=Math.abs(T.weight-b.weight);if(A>e.weightTolerance)continue;const w=Math.abs(T.ageMonths-b.ageMonths);w>e.ageToleranceMonths||c.push({roosterA:T,roosterB:b,weightDiff:A,ageDiff:w})}c.sort((S,E)=>S.weightDiff!==E.weightDiff?S.weightDiff-E.weightDiff:S.ageDiff-E.ageDiff);const f=[],g=new Set;let y=1;for(const S of c){const{roosterA:E,roosterB:T}=S;!g.has(E.id)&&!g.has(T.id)&&(f.push({id:`pelea-${E.id}-${T.id}`,fightNumber:y++,roosterA:E,roosterB:T,winner:null,duration:null}),g.add(E.id),g.add(T.id))}const h=n.filter(S=>!g.has(S.id));return{fights:f,leftovers:h}},uI=()=>{const[n,e]=X.useState(Qe.SETUP),[o,l]=X.useState([]),[s,c]=X.useState({1:[]}),[f,g]=X.useState({1:[]}),[y,h]=X.useState({1:null}),[S,E]=X.useState([]),[T,b]=X.useState(1),[N,_]=X.useState(1),[A,w]=X.useState(!1),[B,k]=X.useState([]),[O,H]=X.useState({name:"Torneo de Exhibicin",date:new Date().toISOString().split("T")[0],weightTolerance:1,ageToleranceMonths:2,minWeight:ey(2,12),maxWeight:ey(5,4),roostersPerTeam:10,pointsForWin:3,pointsForDraw:1,tournamentDays:1,exceptions:[]}),z=X.useCallback((oe,re="info",me=3e3)=>{const Ie=Date.now()+Math.random();k(Ee=>[...Ee,{id:Ie,message:oe,type:re}]),setTimeout(()=>{k(Ee=>Ee.filter(be=>be.id!==Ie))},me)},[]),Q=oe=>{k(re=>re.filter(me=>me.id!==oe))};X.useEffect(()=>{try{const oe=localStorage.getItem("galleraPro_cuerdas"),re=localStorage.getItem("galleraPro_torneo"),me=localStorage.getItem("galleraPro_gallosByDay"),Ie=localStorage.getItem("galleraPro_peleasByDay"),Ee=localStorage.getItem("galleraPro_matchmakingResultsByDay"),be=localStorage.getItem("galleraPro_dailyResults"),xe=localStorage.getItem("galleraPro_currentDay");if(oe&&re&&me){const ze=xe?parseInt(xe,10):1;l(JSON.parse(oe)),H(JSON.parse(re)),c(JSON.parse(me)),g(Ie?JSON.parse(Ie):{1:[]}),h(Ee?JSON.parse(Ee):{1:null}),E(be?JSON.parse(be):[]),b(ze),_(ze)}}catch(oe){console.error("Failed to load data from localStorage",oe),z("Error al cargar los datos.","error")}},[z]),X.useEffect(()=>{localStorage.setItem("galleraPro_cuerdas",JSON.stringify(o)),localStorage.setItem("galleraPro_torneo",JSON.stringify(O)),localStorage.setItem("galleraPro_gallosByDay",JSON.stringify(s)),localStorage.setItem("galleraPro_peleasByDay",JSON.stringify(f)),localStorage.setItem("galleraPro_matchmakingResultsByDay",JSON.stringify(y)),localStorage.setItem("galleraPro_dailyResults",JSON.stringify(S)),localStorage.setItem("galleraPro_currentDay",JSON.stringify(T))},[o,O,s,f,y,S,T]);const ae=X.useMemo(()=>s[N]||[],[s,N]);X.useMemo(()=>f[N]||[],[f,N]);const J=X.useMemo(()=>y[N]||null,[y,N]),te=X.useMemo(()=>N<T,[N,T]),ne=X.useMemo(()=>(f[T]||[]).length>0&&(f[T]||[]).some(oe=>oe.winner===null),[f,T]),q=X.useCallback(oe=>H(oe),[]),j=X.useCallback((oe,re)=>{const{name:me,owner:Ie,city:Ee,frontCount:be,breederPlateId:xe}=oe;if(re){const ze=o.find(ve=>ve.id===re);if(!ze)return;const ke=ze.baseCuerdaId||ze.id,ye=o.filter(ve=>ve.id===ke&&!ve.baseCuerdaId||ve.baseCuerdaId===ke).sort((ve,ht)=>ve.name.localeCompare(ht.name,void 0,{numeric:!0}));let It=[...o];if(be<ye.length){const ve=ye.slice(be),ht=new Set(ve.map(wt=>wt.id)),kt=Object.values(s).flat().filter(wt=>ht.has(wt.cuerdaId)).length;let Ot=`Va a reducir el nmero de frentes a ${be}. ${ve.length} frente(s) ser(n) eliminado(s).`;if(kt>0&&(Ot+=` Esto tambin eliminar ${kt} gallo(s) asignado(s) a estos frentes en todos los das.`),Ot+=" Desea continuar?",window.confirm(Ot))c(wt=>{const Ne={...wt};for(const Fe in Ne)Ne[Fe]=Ne[Fe].filter(ot=>!ht.has(ot.cuerdaId));return Ne}),It=It.filter(wt=>!ht.has(wt.id));else return}let Mt=[...It];const jt=Mt.find(ve=>ve.id===ke);if(!jt)return;for(let ve=0;ve<be;ve++){const ht=`${me} (F${ve+1})`;if(ve<ye.length){const kt=ye[ve].id,Ot=Mt.findIndex(wt=>wt.id===kt);Ot!==-1&&(Mt[Ot]={...Mt[Ot],name:ht,owner:Ie,city:Ee,breederPlateId:xe})}else Mt.push({id:`cuerda-${Date.now()}-${ve}`,name:ht,owner:Ie,city:Ee,breederPlateId:xe,baseCuerdaId:jt.id})}l(Mt),z("Cuerda actualizada.","success")}else{const ze=`cuerda-${Date.now()}`,ke=[{id:ze,name:`${me} (F1)`,owner:Ie,city:Ee,breederPlateId:xe}];for(let ye=1;ye<be;ye++)ke.push({id:`cuerda-${Date.now()}-${ye}`,name:`${me} (F${ye+1})`,owner:Ie,city:Ee,breederPlateId:xe,baseCuerdaId:ze});l(ye=>[...ye,...ke]),z("Cuerda aadida.","success")}},[o,s,z]),ie=X.useCallback((oe,re,me,Ie)=>{if((s[T]||[]).some(ve=>ve.ringId.trim().toLowerCase()===oe.ringId.trim().toLowerCase()))return;const be=o.find(ve=>{var ht;return!ve.baseCuerdaId&&((ht=ve.breederPlateId)==null?void 0:ht.trim().toLowerCase())===re.trim().toLowerCase()});if(!be)return;const xe=be.id,ze=be.name.replace(/\s\(F\d+\)$/,"").trim(),ke=o.filter(ve=>ve.id===xe||ve.baseCuerdaId===xe);let ye=[...o];const It=Math.max(me,Ie||0);if(It>ke.length){for(let ve=ke.length+1;ve<=It;ve++)ye.push({id:`${xe}-f${ve}`,name:`${ze} (F${ve})`,owner:be.owner,city:be.city,breederPlateId:be.breederPlateId,baseCuerdaId:xe});l(ye)}const Mt=`(F${me})`,jt=ye.find(ve=>(ve.id===xe||ve.baseCuerdaId===xe)&&ve.name.includes(Mt));if(jt){const ve={...oe,id:`gallo-${Date.now()}-${Math.random()}`,cuerdaId:jt.id,tipoEdad:oe.ageMonths>=12?gn.GALLO:gn.POLLO};c(ht=>({...ht,[T]:[...ht[T]||[],ve]}))}},[o,T,s]),he=X.useCallback((oe,re)=>{const{name:me,owner:Ie,city:Ee,frontCount:be,breederPlateId:xe}=oe,ze=me.replace(/\s\(F\d+\)$/,"").trim().toLowerCase(),ke=o.find(Ne=>{var Wt;if(Ne.baseCuerdaId)return!1;const Fe=(Wt=Ne.breederPlateId)==null?void 0:Wt.trim().toLowerCase(),ot=xe==null?void 0:xe.trim().toLowerCase(),tt=Ne.name.replace(/\s\(F\d+\)$/,"").trim().toLowerCase();return Fe&&ot&&Fe!=="n/a"&&ot!=="n/a"?Fe===ot:tt===ze});let ye,It=[...o],Mt="";if(ke){ye=ke.id,Mt="actualizada";const Ne=o.filter(tt=>tt.id===ye||tt.baseCuerdaId===ye),Fe=Math.max(...re.map(tt=>tt.frontNumber),0),ot=Math.max(be,Fe);if(ot>Ne.length){const tt=ke.name.replace(/\s\(F\d+\)$/,"").trim();for(let Wt=Ne.length+1;Wt<=ot;Wt++)It.push({id:`${ye}-f${Wt}`,name:`${tt} (F${Wt})`,owner:ke.owner,city:ke.city,breederPlateId:ke.breederPlateId,baseCuerdaId:ye})}}else{ye=`cuerda-ai-${Date.now()}`,Mt="creada";for(let Ne=0;Ne<be;Ne++){const Fe=Ne===0?ye:`${ye}-f${Ne+1}`,ot=`${me} (F${Ne+1})`;It.push({id:Fe,name:ot,owner:Ie,city:Ee,breederPlateId:xe,baseCuerdaId:Ne===0?void 0:ye})}}l(It);const jt=new Map;It.filter(Ne=>Ne.id===ye||Ne.baseCuerdaId===ye).forEach(Ne=>{const Fe=Ne.name.match(/\(F(\d+)\)$/);Fe?jt.set(parseInt(Fe[1]),Ne.id):jt.set(1,Ne.id)});const ve=s[T]||[],ht=new Set(ve.map(Ne=>Ne.ringId.trim().toLowerCase())),kt=[];let Ot=0;re.forEach(Ne=>{const Fe=jt.get(Ne.frontNumber)||ye;Ne.gallos.forEach((ot,tt)=>{const Wt=ot.ringId.trim().toLowerCase();ht.has(Wt)?Ot++:(kt.push({...ot,id:`gallo-ai-${Date.now()}-${Ne.frontNumber}-${tt}-${Math.random()}`,cuerdaId:Fe,tipoEdad:ot.ageMonths<12?gn.POLLO:gn.GALLO}),ht.add(Wt))})}),kt.length>0&&c(Ne=>({...Ne,[T]:[...Ne[T]||[],...kt]}));let wt=`Cuerda "${me}" ${Mt}.`;kt.length>0&&(wt+=` Se agregaron ${kt.length} gallos nuevos.`),Ot>0&&(wt+=` (Se omitieron ${Ot} duplicados por ID de anillo).`),z(wt,"success",5e3)},[T,o,s,z]),P=X.useCallback(oe=>{const re=o.find(ze=>ze.id===oe);if(!re)return;const me=re.baseCuerdaId||re.id,Ie=re.id===me,Ee=o.some(ze=>ze.baseCuerdaId===me);if(Ie&&Ee){z("No se puede eliminar el frente principal (F1) si existen otros frentes asociados. Elimine los frentes secundarios primero.","error",5e3);return}const be=Object.values(s).flat().filter(ze=>ze.cuerdaId===oe).length;let xe=`Est seguro de que desea eliminar el frente "${re.name}"?`;be>0&&(xe+=` ${be} gallo(s) asignado(s) a l tambin ser(n) eliminado(s) de todos los das.`),window.confirm(xe)&&(c(ze=>{const ke={...ze};for(const ye in ke)ke[ye]=ke[ye].filter(It=>It.cuerdaId!==oe);return ke}),l(ze=>ze.filter(ke=>ke.id!==oe)),z("Frente y sus gallos han sido eliminados.","success"))},[o,s,z]),Z=X.useCallback((oe,re)=>{const me=oe.ageMonths<12?gn.POLLO:gn.GALLO,Ee={...{...oe,tipoEdad:me},id:re};c(be=>{const xe=be[T]||[],ze=xe.findIndex(ke=>ke.id===re);if(ze>-1){const ke=[...xe];return ke[ze]=Ee,{...be,[T]:ke}}return be}),z("Gallo actualizado.","success")},[z,T]),le=X.useCallback(oe=>{var Ie;const re={...oe,id:`gallo-${Date.now()}-${Math.random()}`,tipoEdad:oe.ageMonths<12?gn.POLLO:gn.GALLO};c(Ee=>({...Ee,[T]:[...Ee[T]||[],re]}));const me=((Ie=o.find(Ee=>Ee.id===re.cuerdaId))==null?void 0:Ie.name)||"la lista";z(`Gallo "${re.color}" aadido a ${me}.`,"success")},[z,o,T]),Me=X.useCallback(oe=>{c(re=>({...re,[T]:(re[T]||[]).filter(me=>me.id!==oe)})),z("Gallo eliminado.","success")},[z,T]),we=X.useCallback(()=>{w(!0),setTimeout(()=>{const oe=ae.filter(Ee=>Ee.weight>=O.minWeight&&Ee.weight<=O.maxWeight),{fights:re,leftovers:me}=rI(oe,O,o),Ie={mainFights:re,individualFights:[],unpairedRoosters:me,stats:{contribution:0,rounds:0,mainTournamentRoostersCount:oe.length}};h(Ee=>({...Ee,[T]:Ie})),w(!1),e(Qe.MATCHMAKING)},500)},[ae,O,o,T]),R=X.useCallback((oe,re)=>{if(!J)return;const me=ae.find(be=>be.id===oe),Ie=ae.find(be=>be.id===re);if(!me||!Ie){z("No se encontraron los gallos seleccionados.","error");return}const Ee={id:`pelea-manual-${oe}-${re}`,fightNumber:J.mainFights.length+1,roosterA:me,roosterB:Ie,winner:null,duration:null};h(be=>{const xe=be[T];return xe?{...be,[T]:{...xe,mainFights:[...xe.mainFights,Ee],unpairedRoosters:xe.unpairedRoosters.filter(ze=>ze.id!==oe&&ze.id!==re)}}:be}),z("Pelea manual creada y aadida a la cartelera.","success")},[J,ae,z,T]),$=X.useCallback(()=>{J&&(g(oe=>({...oe,[T]:J.mainFights})),e(Qe.LIVE_FIGHT))},[J,T]),W=X.useCallback(oe=>{if(z(`Resultados del Da ${T} guardados.`,"success"),E(re=>[...re.filter(Ie=>Ie.day!==T),{day:T,peleas:oe}].sort((Ie,Ee)=>Ie.day-Ee.day)),T>=O.tournamentDays)z("Torneo finalizado!","success",5e3),e(Qe.TOURNAMENT_RESULTS);else{const re=T+1;b(re),_(re),c(me=>({...me,[re]:me[re]||[]})),g(me=>({...me,[re]:me[re]||[]})),h(me=>({...me,[re]:me[re]===void 0?null:me[re]})),z(`Prepara el cotejo para el Da ${re}.`,"info",5e3),e(Qe.SETUP)}},[T,O.tournamentDays,z]),se=X.useCallback((oe,re,me)=>{const Ee=(f[T]||[]).map(xe=>xe.id===oe?{...xe,winner:re,duration:me}:xe);g(xe=>({...xe,[T]:Ee})),Ee.filter(xe=>xe.winner===null).length===0&&Ee.length>0&&setTimeout(()=>W(Ee),200)},[f,T,W]),ge=X.useCallback(()=>{const oe=(f[T]||[]).filter(re=>re.winner!==null);E(re=>{const me=re.filter(Ie=>Ie.day!==T);return oe.length>0?[...me,{day:T,peleas:oe}].sort((Ie,Ee)=>Ie.day-Ee.day):re}),z("Torneo finalizado anticipadamente.","info"),e(Qe.TOURNAMENT_RESULTS)},[f,T]),Ce=X.useCallback(()=>{window.confirm("Ests seguro de que quieres empezar un nuevo torneo? Se borrarn los resultados y peleas del torneo actual, pero se conservarn las cuerdas y la lista de gallos de cada da.")&&(g({1:[]}),h({1:null}),E([]),b(1),_(1),H(oe=>({...oe,name:"Torneo de Exhibicin",date:new Date().toISOString().split("T")[0]})),e(Qe.SETUP),z("Datos del torneo anterior borrados. Listo para empezar uno nuevo!","success"))},[]),Ge=X.useCallback(()=>{window.confirm("Ests seguro de que quieres reiniciar la aplicacin? Se borrarn permanentemente todos los datos guardados (cuerdas, gallos y reglas).")&&(localStorage.clear(),window.location.reload())},[]),ut=X.useCallback(oe=>{_(oe),e(Qe.SETUP);const re=S.some(me=>me.day===oe);e(re?Qe.RESULTS:Qe.SETUP)},[S]),fe=X.useCallback(()=>{e(Qe.TOURNAMENT_RESULTS)},[]),it=()=>{J&&J.mainFights.length>0?window.print():z("No hay peleas generadas para imprimir en este da.","info")},pt=X.useMemo(()=>S.length>=O.tournamentDays,[S,O.tournamentDays]),$n=()=>{switch(n){case Qe.MATCHMAKING:return J&&v.jsx(WN,{results:J,torneo:O,cuerdas:o,gallos:ae,onStartTournament:$,onBack:()=>e(Qe.SETUP),onCreateManualFight:R,isReadOnly:te});case Qe.LIVE_FIGHT:return v.jsx(nI,{peleas:(f[T]||[]).filter(oe=>oe.winner===null),onFinishFight:se,onFinishTournament:ge,onBack:()=>e(Qe.MATCHMAKING),totalFightsInPhase:(f[T]||[]).length,addNotification:z});case Qe.RESULTS:return v.jsx(iI,{dailyResults:S,torneo:O,cuerdas:o,onNewTournament:Ce,onBack:()=>e(Qe.MATCHMAKING),viewingDay:N});case Qe.TOURNAMENT_RESULTS:return v.jsx(oI,{dailyResults:S,torneo:O,cuerdas:o,onNewTournament:Ce,onBack:()=>ut(O.tournamentDays)});case Qe.SETUP:default:return v.jsx(ZN,{cuerdas:o,gallos:ae,torneo:O,viewingDay:N,currentDay:T,dailyResults:S,onUpdateTorneo:q,onStartMatchmaking:we,onSaveCuerda:j,onImportCuerdaAndGallos:he,onDeleteCuerda:P,onSaveGallo:Z,onAddSingleGallo:le,onDeleteGallo:Me,isMatchmaking:A,onFullReset:Ge,onGoToResults:()=>e(Qe.RESULTS),onGoToMatchmaking:()=>e(Qe.MATCHMAKING),isReadOnly:te,matchmakingResultsExist:!!J,onAddGalloToPc:ie})}},Qi=Array.from({length:O.tournamentDays},(oe,re)=>re+1),_n=!!J&&J.mainFights.length>0;return v.jsxs("div",{className:"bg-gray-900 text-gray-200 min-h-screen swirl-bg",children:[v.jsx(aI,{notifications:B,onDismiss:Q}),_n&&v.jsxs("button",{onClick:it,title:"Imprimir Programacin de Peleas",className:"fixed top-6 right-6 z-[100] p-4 bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 rounded-full shadow-2xl transition-all transform hover:scale-110 active:scale-95 print:hidden group flex items-center justify-center",children:[v.jsx("svg",{className:"w-8 h-8 text-amber-400 group-hover:text-amber-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),v.jsx("span",{className:"max-w-0 overflow-hidden group-hover:max-w-xs group-hover:ml-2 transition-all duration-300 whitespace-nowrap text-amber-400 font-bold uppercase text-xs",children:"Imprimir Programacin"})]}),v.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8 relative",children:[v.jsxs("header",{className:"flex items-center space-x-4 mb-8",children:[v.jsx(Vc,{className:"w-10 h-10 text-amber-400"}),v.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-white tracking-wider",children:["GalleraPro ",v.jsx("span",{className:"text-amber-500 font-light",children:"- 100% Peleas de gallos"})]})]}),O.tournamentDays>1&&v.jsxs("div",{className:"flex justify-center border-b border-gray-700 mb-6 flex-wrap",children:[Qi.map(oe=>{const re=S.some(Ie=>Ie.day===oe),me=oe===N&&(n===Qe.SETUP||n===Qe.RESULTS||n===Qe.MATCHMAKING||n===Qe.LIVE_FIGHT);return v.jsxs("button",{onClick:()=>ut(oe),className:`py-3 px-6 text-base md:text-lg font-semibold transition-colors ${me?"text-amber-400 border-b-2 border-amber-400":"text-gray-400 hover:text-white"}`,children:["Da ",oe," ",re&&""]},oe)}),pt&&v.jsx("button",{onClick:fe,className:`py-3 px-6 text-base md:text-lg font-semibold transition-colors ${n===Qe.TOURNAMENT_RESULTS?"text-amber-400 border-b-2 border-amber-400":"text-gray-400 hover:text-white"}`,children:"Resultados del Torneo"},"tournament-results")]}),ne&&N!==T&&v.jsxs("div",{className:"bg-blue-600/80 backdrop-blur-sm text-white p-3 rounded-lg mb-4 text-center cursor-pointer hover:bg-blue-700 font-semibold border border-blue-500 shadow-lg animate-pulse",onClick:()=>{_(T),e(Qe.LIVE_FIGHT)},children:["Volver a la Pelea en Vivo (Da ",T,")"]}),v.jsx("main",{children:$n()}),v.jsxs("footer",{className:"text-center text-gray-500 text-sm mt-12 pb-4",children:[" ",new Date().getFullYear()," GalleraPro. Todos los derechos reservados."]})]}),J&&v.jsx(lI,{peleas:J.mainFights,cuerdas:o,torneoName:O.name,date:O.date,day:O.tournamentDays>1?N:void 0})]})},cI=()=>{};var ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=function(n){const e=[];let o=0;for(let l=0;l<n.length;l++){let s=n.charCodeAt(l);s<128?e[o++]=s:s<2048?(e[o++]=s>>6|192,e[o++]=s&63|128):(s&64512)===55296&&l+1<n.length&&(n.charCodeAt(l+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++l)&1023),e[o++]=s>>18|240,e[o++]=s>>12&63|128,e[o++]=s>>6&63|128,e[o++]=s&63|128):(e[o++]=s>>12|224,e[o++]=s>>6&63|128,e[o++]=s&63|128)}return e},dI=function(n){const e=[];let o=0,l=0;for(;o<n.length;){const s=n[o++];if(s<128)e[l++]=String.fromCharCode(s);else if(s>191&&s<224){const c=n[o++];e[l++]=String.fromCharCode((s&31)<<6|c&63)}else if(s>239&&s<365){const c=n[o++],f=n[o++],g=n[o++],y=((s&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[l++]=String.fromCharCode(55296+(y>>10)),e[l++]=String.fromCharCode(56320+(y&1023))}else{const c=n[o++],f=n[o++];e[l++]=String.fromCharCode((s&15)<<12|(c&63)<<6|f&63)}}return e.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let s=0;s<n.length;s+=3){const c=n[s],f=s+1<n.length,g=f?n[s+1]:0,y=s+2<n.length,h=y?n[s+2]:0,S=c>>2,E=(c&3)<<4|g>>4;let T=(g&15)<<2|h>>6,b=h&63;y||(b=64,f||(T=64)),l.push(o[S],o[E],o[T],o[b])}return l.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(y0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const o=e?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let s=0;s<n.length;){const c=o[n.charAt(s++)],g=s<n.length?o[n.charAt(s)]:0;++s;const h=s<n.length?o[n.charAt(s)]:64;++s;const E=s<n.length?o[n.charAt(s)]:64;if(++s,c==null||g==null||h==null||E==null)throw new fI;const T=c<<2|g>>4;if(l.push(T),h!==64){const b=g<<4&240|h>>2;if(l.push(b),E!==64){const N=h<<6&192|E;l.push(N)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mI=function(n){const e=y0(n);return v0.encodeByteArray(e,!0)},S0=function(n){return mI(n).replace(/\./g,"")},pI=function(n){try{return v0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=()=>hI().__FIREBASE_DEFAULTS__,yI=()=>{if(typeof process>"u"||typeof ty>"u")return;const n=ty.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pI(n[1]);return e&&JSON.parse(e)},SI=()=>{try{return cI()||gI()||yI()||vI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},T0=()=>{var n;return(n=SI())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,o)=>{this.resolve=e,this.reject=o})}wrapCallback(e){return(o,l)=>{o?this.reject(o):this.resolve(l),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(o):e(o,l))}}}function EI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function E0(){try{return typeof indexedDB=="object"}catch{return!1}}function C0(){return new Promise((n,e)=>{try{let o=!0;const l="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(l);s.onsuccess=()=>{s.result.close(),o||self.indexedDB.deleteDatabase(l),n(!0)},s.onupgradeneeded=()=>{o=!1},s.onerror=()=>{var c;e(((c=s.error)==null?void 0:c.message)||"")}}catch(o){e(o)}})}function CI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="FirebaseError";class Xi extends Error{constructor(e,o,l){super(o),this.code=e,this.customData=l,this.name=xI,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Us.prototype.create)}}class Us{constructor(e,o,l){this.service=e,this.serviceName=o,this.errors=l}create(e,...o){const l=o[0]||{},s=`${this.service}/${e}`,c=this.errors[e],f=c?_I(c,l):"Error",g=`${this.serviceName}: ${f} (${s}).`;return new Xi(s,g,l)}}function _I(n,e){return n.replace(AI,(o,l)=>{const s=e[l];return s!=null?String(s):`<${l}?>`})}const AI=/\{\$([^}]+)}/g;function Es(n,e){if(n===e)return!0;const o=Object.keys(n),l=Object.keys(e);for(const s of o){if(!l.includes(s))return!1;const c=n[s],f=e[s];if(ny(c)&&ny(f)){if(!Es(c,f))return!1}else if(c!==f)return!1}for(const s of l)if(!o.includes(s))return!1;return!0}function ny(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=1e3,NI=2,II=14400*1e3,MI=.5;function iy(n,e=bI,o=NI){const l=e*Math.pow(o,n),s=Math.round(MI*l*(Math.random()-.5)*2);return Math.min(II,l+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n){return n&&n._delegate?n._delegate:n}class Ei{constructor(e,o,l){this.name=e,this.instanceFactory=o,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,o){this.name=e,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const o=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(o)){const l=new TI;if(this.instancesDeferred.set(o,l),this.isInitialized(o)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:o});s&&l.resolve(s)}catch{}}return this.instancesDeferred.get(o).promise}getImmediate(e){const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(e==null?void 0:e.optional)??!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(s){if(l)return null;throw s}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DI(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[o,l]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);try{const c=this.getOrInitializeService({instanceIdentifier:s});l.resolve(c)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(o=>"INTERNAL"in o).map(o=>o.INTERNAL.delete()),...e.filter(o=>"_delete"in o).map(o=>o._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:o={}}=e,l=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:l,options:o});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);l===g&&f.resolve(s)}return s}onInit(e,o){const l=this.normalizeInstanceIdentifier(o),s=this.onInitCallbacks.get(l)??new Set;s.add(e),this.onInitCallbacks.set(l,s);const c=this.instances.get(l);return c&&e(c,l),()=>{s.delete(e)}}invokeOnInitCallbacks(e,o){const l=this.onInitCallbacks.get(o);if(l)for(const s of l)try{s(e,o)}catch{}}getOrInitializeService({instanceIdentifier:e,options:o={}}){let l=this.instances.get(e);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:RI(e),options:o}),this.instances.set(e,l),this.instancesOptions.set(e,o),this.invokeOnInitCallbacks(l,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,l)}catch{}return l||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RI(n){return n===ki?void 0:n}function DI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const o=this.getProvider(e.name);if(o.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);o.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const o=new wI(e,this);return this.providers.set(e,o),o}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const LI={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},PI=et.INFO,GI={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},BI=(n,e,...o)=>{if(e<n.logLevel)return;const l=new Date().toISOString(),s=GI[e];if(s)console[s](`[${l}]  ${n.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x0{constructor(e){this.name=e,this._logLevel=PI,this._logHandler=BI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const HI=(n,e)=>e.some(o=>n instanceof o);let oy,ay;function VI(){return oy||(oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zI(){return ay||(ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _0=new WeakMap,Dc=new WeakMap,A0=new WeakMap,ac=new WeakMap,jc=new WeakMap;function qI(n){const e=new Promise((o,l)=>{const s=()=>{n.removeEventListener("success",c),n.removeEventListener("error",f)},c=()=>{o(vi(n.result)),s()},f=()=>{l(n.error),s()};n.addEventListener("success",c),n.addEventListener("error",f)});return e.then(o=>{o instanceof IDBCursor&&_0.set(o,n)}).catch(()=>{}),jc.set(e,n),e}function kI(n){if(Dc.has(n))return;const e=new Promise((o,l)=>{const s=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",f),n.removeEventListener("abort",f)},c=()=>{o(),s()},f=()=>{l(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",c),n.addEventListener("error",f),n.addEventListener("abort",f)});Dc.set(n,e)}let Uc={get(n,e,o){if(n instanceof IDBTransaction){if(e==="done")return Dc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||A0.get(n);if(e==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return vi(n[e])},set(n,e,o){return n[e]=o,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function OI(n){Uc=n(Uc)}function FI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...o){const l=n.call(lc(this),e,...o);return A0.set(l,e.sort?e.sort():[e]),vi(l)}:zI().includes(n)?function(...e){return n.apply(lc(this),e),vi(_0.get(this))}:function(...e){return vi(n.apply(lc(this),e))}}function JI(n){return typeof n=="function"?FI(n):(n instanceof IDBTransaction&&kI(n),HI(n,VI())?new Proxy(n,Uc):n)}function vi(n){if(n instanceof IDBRequest)return qI(n);if(ac.has(n))return ac.get(n);const e=JI(n);return e!==n&&(ac.set(n,e),jc.set(e,n)),e}const lc=n=>jc.get(n);function b0(n,e,{blocked:o,upgrade:l,blocking:s,terminated:c}={}){const f=indexedDB.open(n,e),g=vi(f);return l&&f.addEventListener("upgradeneeded",y=>{l(vi(f.result),y.oldVersion,y.newVersion,vi(f.transaction),y)}),o&&f.addEventListener("blocked",y=>o(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),s&&y.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),g}const YI=["get","getKey","getAll","getAllKeys","count"],$I=["put","add","delete","clear"],sc=new Map;function ly(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sc.get(e))return sc.get(e);const o=e.replace(/FromIndex$/,""),l=e!==o,s=$I.includes(o);if(!(o in(l?IDBIndex:IDBObjectStore).prototype)||!(s||YI.includes(o)))return;const c=async function(f,...g){const y=this.transaction(f,s?"readwrite":"readonly");let h=y.store;return l&&(h=h.index(g.shift())),(await Promise.all([h[o](...g),s&&y.done]))[0]};return sc.set(e,c),c}OI(n=>({...n,get:(e,o,l)=>ly(e,o)||n.get(e,o,l),has:(e,o)=>!!ly(e,o)||n.has(e,o)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(XI(o)){const l=o.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(o=>o).join(" ")}}function XI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lc="@firebase/app",sy="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new x0("@firebase/app"),QI="@firebase/app-compat",ZI="@firebase/analytics-compat",jI="@firebase/analytics",WI="@firebase/app-check-compat",eM="@firebase/app-check",tM="@firebase/auth",nM="@firebase/auth-compat",iM="@firebase/database",oM="@firebase/data-connect",aM="@firebase/database-compat",lM="@firebase/functions",sM="@firebase/functions-compat",rM="@firebase/installations",uM="@firebase/installations-compat",cM="@firebase/messaging",dM="@firebase/messaging-compat",fM="@firebase/performance",mM="@firebase/performance-compat",pM="@firebase/remote-config",hM="@firebase/remote-config-compat",gM="@firebase/storage",yM="@firebase/storage-compat",vM="@firebase/firestore",SM="@firebase/ai",TM="@firebase/firestore-compat",EM="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc="[DEFAULT]",CM={[Lc]:"fire-core",[QI]:"fire-core-compat",[jI]:"fire-analytics",[ZI]:"fire-analytics-compat",[eM]:"fire-app-check",[WI]:"fire-app-check-compat",[tM]:"fire-auth",[nM]:"fire-auth-compat",[iM]:"fire-rtdb",[oM]:"fire-data-connect",[aM]:"fire-rtdb-compat",[lM]:"fire-fn",[sM]:"fire-fn-compat",[rM]:"fire-iid",[uM]:"fire-iid-compat",[cM]:"fire-fcm",[dM]:"fire-fcm-compat",[fM]:"fire-perf",[mM]:"fire-perf-compat",[pM]:"fire-rc",[hM]:"fire-rc-compat",[gM]:"fire-gcs",[yM]:"fire-gcs-compat",[vM]:"fire-fst",[TM]:"fire-fst-compat",[SM]:"fire-vertex","fire-js":"fire-js",[EM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Map,xM=new Map,Gc=new Map;function ry(n,e){try{n.container.addComponent(e)}catch(o){Fn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,o)}}function Ji(n){const e=n.name;if(Gc.has(e))return Fn.debug(`There were multiple attempts to register component ${e}.`),!1;Gc.set(e,n);for(const o of Cs.values())ry(o,n);for(const o of xM.values())ry(o,n);return!0}function Ls(n,e){const o=n.container.getProvider("heartbeat").getImmediate({optional:!0});return o&&o.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Us("app","Firebase",_M);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,o,l){this._isDeleted=!1,this._options={...e},this._config={...o},this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}function N0(n,e={}){let o=n;typeof e!="object"&&(e={name:e});const l={name:Pc,automaticDataCollectionEnabled:!0,...e},s=l.name;if(typeof s!="string"||!s)throw Si.create("bad-app-name",{appName:String(s)});if(o||(o=T0()),!o)throw Si.create("no-options");const c=Cs.get(s);if(c){if(Es(o,c.options)&&Es(l,c.config))return c;throw Si.create("duplicate-app",{appName:s})}const f=new UI(s);for(const y of Gc.values())f.addComponent(y);const g=new AM(o,l,f);return Cs.set(s,g),g}function bM(n=Pc){const e=Cs.get(n);if(!e&&n===Pc&&T0())return N0();if(!e)throw Si.create("no-app",{appName:n});return e}function Ti(n,e,o){let l=CM[n]??n;o&&(l+=`-${o}`);const s=l.match(/\s|\//),c=e.match(/\s|\//);if(s||c){const f=[`Unable to register library "${l}" with version "${e}":`];s&&f.push(`library name "${l}" contains illegal characters (whitespace or "/")`),s&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fn.warn(f.join(" "));return}Ji(new Ei(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="firebase-heartbeat-database",IM=1,Oa="firebase-heartbeat-store";let rc=null;function I0(){return rc||(rc=b0(NM,IM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Oa)}catch(o){console.warn(o)}}}}).catch(n=>{throw Si.create("idb-open",{originalErrorMessage:n.message})})),rc}async function MM(n){try{const o=(await I0()).transaction(Oa),l=await o.objectStore(Oa).get(M0(n));return await o.done,l}catch(e){if(e instanceof Xi)Fn.warn(e.message);else{const o=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fn.warn(o.message)}}}async function uy(n,e){try{const l=(await I0()).transaction(Oa,"readwrite");await l.objectStore(Oa).put(e,M0(n)),await l.done}catch(o){if(o instanceof Xi)Fn.warn(o.message);else{const l=Si.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});Fn.warn(l.message)}}}function M0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=1024,RM=30;class DM{constructor(e){this.container=e,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this._storage=new LM(o),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){var e,o;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=cy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((o=this._heartbeatsCache)==null?void 0:o.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:s}),this._heartbeatsCache.heartbeats.length>RM){const f=PM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(l){Fn.warn(l)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const o=cy(),{heartbeatsToSend:l,unsentEntries:s}=UM(this._heartbeatsCache.heartbeats),c=S0(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=o,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(o){return Fn.warn(o),""}}}function cy(){return new Date().toISOString().substring(0,10)}function UM(n,e=wM){const o=[];let l=n.slice();for(const s of n){const c=o.find(f=>f.agent===s.agent);if(c){if(c.dates.push(s.date),dy(o)>e){c.dates.pop();break}}else if(o.push({agent:s.agent,dates:[s.date]}),dy(o)>e){o.pop();break}l=l.slice(1)}return{heartbeatsToSend:o,unsentEntries:l}}class LM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E0()?C0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const o=await MM(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const l=await this.read();return uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const l=await this.read();return uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function dy(n){return S0(JSON.stringify({version:2,heartbeats:n})).length}function PM(n){if(n.length===0)return-1;let e=0,o=n[0].date;for(let l=1;l<n.length;l++)n[l].date<o&&(o=n[l].date,e=l);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(n){Ji(new Ei("platform-logger",e=>new KI(e),"PRIVATE")),Ji(new Ei("heartbeat",e=>new DM(e),"PRIVATE")),Ti(Lc,sy,n),Ti(Lc,sy,"esm2020"),Ti("fire-js","")}GM("");var BM="firebase",HM="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(BM,HM,"app");const w0="@firebase/installations",Wc="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=1e4,D0=`w:${Wc}`,U0="FIS_v2",VM="https://firebaseinstallations.googleapis.com/v1",zM=3600*1e3,qM="installations",kM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Yi=new Us(qM,kM,OM);function L0(n){return n instanceof Xi&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0({projectId:n}){return`${VM}/projects/${n}/installations`}function G0(n){return{token:n.token,requestStatus:2,expiresIn:JM(n.expiresIn),creationTime:Date.now()}}async function B0(n,e){const l=(await e.json()).error;return Yi.create("request-failed",{requestName:n,serverCode:l.code,serverMessage:l.message,serverStatus:l.status})}function H0({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function FM(n,{refreshToken:e}){const o=H0(n);return o.append("Authorization",YM(e)),o}async function V0(n){const e=await n();return e.status>=500&&e.status<600?n():e}function JM(n){return Number(n.replace("s","000"))}function YM(n){return`${U0} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M({appConfig:n,heartbeatServiceProvider:e},{fid:o}){const l=P0(n),s=H0(n),c=e.getImmediate({optional:!0});if(c){const h=await c.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const f={fid:o,authVersion:U0,appId:n.appId,sdkVersion:D0},g={method:"POST",headers:s,body:JSON.stringify(f)},y=await V0(()=>fetch(l,g));if(y.ok){const h=await y.json();return{fid:h.fid||o,registrationStatus:2,refreshToken:h.refreshToken,authToken:G0(h.authToken)}}else throw await B0("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=/^[cdef][\w-]{21}$/,Bc="";function QM(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const o=ZM(n);return XM.test(o)?o:Bc}catch{return Bc}}function ZM(n){return KM(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;function k0(n,e){const o=Ps(n);O0(o,e),jM(o,e)}function O0(n,e){const o=q0.get(n);if(o)for(const l of o)l(e)}function jM(n,e){const o=WM();o&&o.postMessage({key:n,fid:e}),ew()}let Fi=null;function WM(){return!Fi&&"BroadcastChannel"in self&&(Fi=new BroadcastChannel("[Firebase] FID Change"),Fi.onmessage=n=>{O0(n.data.key,n.data.fid)}),Fi}function ew(){q0.size===0&&Fi&&(Fi.close(),Fi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="firebase-installations-database",nw=1,$i="firebase-installations-store";let uc=null;function ed(){return uc||(uc=b0(tw,nw,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore($i)}}})),uc}async function xs(n,e){const o=Ps(n),s=(await ed()).transaction($i,"readwrite"),c=s.objectStore($i),f=await c.get(o);return await c.put(e,o),await s.done,(!f||f.fid!==e.fid)&&k0(n,e.fid),e}async function F0(n){const e=Ps(n),l=(await ed()).transaction($i,"readwrite");await l.objectStore($i).delete(e),await l.done}async function Gs(n,e){const o=Ps(n),s=(await ed()).transaction($i,"readwrite"),c=s.objectStore($i),f=await c.get(o),g=e(f);return g===void 0?await c.delete(o):await c.put(g,o),await s.done,g&&(!f||f.fid!==g.fid)&&k0(n,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(n){let e;const o=await Gs(n.appConfig,l=>{const s=iw(l),c=ow(n,s);return e=c.registrationPromise,c.installationEntry});return o.fid===Bc?{installationEntry:await e}:{installationEntry:o,registrationPromise:e}}function iw(n){const e=n||{fid:QM(),registrationStatus:0};return J0(e)}function ow(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Yi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const o={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},l=aw(n,o);return{installationEntry:o,registrationPromise:l}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:lw(n)}:{installationEntry:e}}async function aw(n,e){try{const o=await $M(n,e);return xs(n.appConfig,o)}catch(o){throw L0(o)&&o.customData.serverCode===409?await F0(n.appConfig):await xs(n.appConfig,{fid:e.fid,registrationStatus:0}),o}}async function lw(n){let e=await fy(n.appConfig);for(;e.registrationStatus===1;)await z0(100),e=await fy(n.appConfig);if(e.registrationStatus===0){const{installationEntry:o,registrationPromise:l}=await td(n);return l||o}return e}function fy(n){return Gs(n,e=>{if(!e)throw Yi.create("installation-not-found");return J0(e)})}function J0(n){return sw(n)?{fid:n.fid,registrationStatus:0}:n}function sw(n){return n.registrationStatus===1&&n.registrationTime+R0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw({appConfig:n,heartbeatServiceProvider:e},o){const l=uw(n,o),s=FM(n,o),c=e.getImmediate({optional:!0});if(c){const h=await c.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const f={installation:{sdkVersion:D0,appId:n.appId}},g={method:"POST",headers:s,body:JSON.stringify(f)},y=await V0(()=>fetch(l,g));if(y.ok){const h=await y.json();return G0(h)}else throw await B0("Generate Auth Token",y)}function uw(n,{fid:e}){return`${P0(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(n,e=!1){let o;const l=await Gs(n.appConfig,c=>{if(!Y0(c))throw Yi.create("not-registered");const f=c.authToken;if(!e&&fw(f))return c;if(f.requestStatus===1)return o=cw(n,e),c;{if(!navigator.onLine)throw Yi.create("app-offline");const g=pw(c);return o=dw(n,g),g}});return o?await o:l.authToken}async function cw(n,e){let o=await my(n.appConfig);for(;o.authToken.requestStatus===1;)await z0(100),o=await my(n.appConfig);const l=o.authToken;return l.requestStatus===0?nd(n,e):l}function my(n){return Gs(n,e=>{if(!Y0(e))throw Yi.create("not-registered");const o=e.authToken;return hw(o)?{...e,authToken:{requestStatus:0}}:e})}async function dw(n,e){try{const o=await rw(n,e),l={...e,authToken:o};return await xs(n.appConfig,l),o}catch(o){if(L0(o)&&(o.customData.serverCode===401||o.customData.serverCode===404))await F0(n.appConfig);else{const l={...e,authToken:{requestStatus:0}};await xs(n.appConfig,l)}throw o}}function Y0(n){return n!==void 0&&n.registrationStatus===2}function fw(n){return n.requestStatus===2&&!mw(n)}function mw(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+zM}function pw(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function hw(n){return n.requestStatus===1&&n.requestTime+R0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(n){const e=n,{installationEntry:o,registrationPromise:l}=await td(e);return l?l.catch(console.error):nd(e).catch(console.error),o.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(n,e=!1){const o=n;return await vw(o),(await nd(o,e)).token}async function vw(n){const{registrationPromise:e}=await td(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n){if(!n||!n.options)throw cc("App Configuration");if(!n.name)throw cc("App Name");const e=["projectId","apiKey","appId"];for(const o of e)if(!n.options[o])throw cc(o);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function cc(n){return Yi.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="installations",Tw="installations-internal",Ew=n=>{const e=n.getProvider("app").getImmediate(),o=Sw(e),l=Ls(e,"heartbeat");return{app:e,appConfig:o,heartbeatServiceProvider:l,_delete:()=>Promise.resolve()}},Cw=n=>{const e=n.getProvider("app").getImmediate(),o=Ls(e,$0).getImmediate();return{getId:()=>gw(o),getToken:s=>yw(o,s)}};function xw(){Ji(new Ei($0,Ew,"PUBLIC")),Ji(new Ei(Tw,Cw,"PRIVATE"))}xw();Ti(w0,Wc);Ti(w0,Wc,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="analytics",_w="firebase_id",Aw="origin",bw=60*1e3,Nw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",id="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut=new x0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zt=new Us("analytics","Analytics",Iw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(n){if(!n.startsWith(id)){const e=Zt.create("invalid-gtag-resource",{gtagURL:n});return Ut.warn(e.message),""}return n}function K0(n){return Promise.all(n.map(e=>e.catch(o=>o)))}function ww(n,e){let o;return window.trustedTypes&&(o=window.trustedTypes.createPolicy(n,e)),o}function Rw(n,e){const o=ww("firebase-js-sdk-policy",{createScriptURL:Mw}),l=document.createElement("script"),s=`${id}?l=${n}&id=${e}`;l.src=o?o==null?void 0:o.createScriptURL(s):s,l.async=!0,document.head.appendChild(l)}function Dw(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Uw(n,e,o,l,s,c){const f=l[s];try{if(f)await e[f];else{const y=(await K0(o)).find(h=>h.measurementId===s);y&&await e[y.appId]}}catch(g){Ut.error(g)}n("config",s,c)}async function Lw(n,e,o,l,s){try{let c=[];if(s&&s.send_to){let f=s.send_to;Array.isArray(f)||(f=[f]);const g=await K0(o);for(const y of f){const h=g.find(E=>E.measurementId===y),S=h&&e[h.appId];if(S)c.push(S);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),n("event",l,s||{})}catch(c){Ut.error(c)}}function Pw(n,e,o,l){async function s(c,...f){try{if(c==="event"){const[g,y]=f;await Lw(n,e,o,g,y)}else if(c==="config"){const[g,y]=f;await Uw(n,e,o,l,g,y)}else if(c==="consent"){const[g,y]=f;n("consent",g,y)}else if(c==="get"){const[g,y,h]=f;n("get",g,y,h)}else if(c==="set"){const[g]=f;n("set",g)}else n(c,...f)}catch(g){Ut.error(g)}}return s}function Gw(n,e,o,l,s){let c=function(...f){window[l].push(arguments)};return window[s]&&typeof window[s]=="function"&&(c=window[s]),window[s]=Pw(c,n,e,o),{gtagCore:c,wrappedGtag:window[s]}}function Bw(n){const e=window.document.getElementsByTagName("script");for(const o of Object.values(e))if(o.src&&o.src.includes(id)&&o.src.includes(n))return o;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=30,Vw=1e3;class zw{constructor(e={},o=Vw){this.throttleMetadata=e,this.intervalMillis=o}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,o){this.throttleMetadata[e]=o}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const X0=new zw;function qw(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function kw(n){var f;const{appId:e,apiKey:o}=n,l={method:"GET",headers:qw(o)},s=Nw.replace("{app-id}",e),c=await fetch(s,l);if(c.status!==200&&c.status!==304){let g="";try{const y=await c.json();(f=y.error)!=null&&f.message&&(g=y.error.message)}catch{}throw Zt.create("config-fetch-failed",{httpStatus:c.status,responseMessage:g})}return c.json()}async function Ow(n,e=X0,o){const{appId:l,apiKey:s,measurementId:c}=n.options;if(!l)throw Zt.create("no-app-id");if(!s){if(c)return{measurementId:c,appId:l};throw Zt.create("no-api-key")}const f=e.getThrottleMetadata(l)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new Yw;return setTimeout(async()=>{g.abort()},bw),Q0({appId:l,apiKey:s,measurementId:c},f,g,e)}async function Q0(n,{throttleEndTimeMillis:e,backoffCount:o},l,s=X0){var g;const{appId:c,measurementId:f}=n;try{await Fw(l,e)}catch(y){if(f)return Ut.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:c,measurementId:f};throw y}try{const y=await kw(n);return s.deleteThrottleMetadata(c),y}catch(y){const h=y;if(!Jw(h)){if(s.deleteThrottleMetadata(c),f)return Ut.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:c,measurementId:f};throw y}const S=Number((g=h==null?void 0:h.customData)==null?void 0:g.httpStatus)===503?iy(o,s.intervalMillis,Hw):iy(o,s.intervalMillis),E={throttleEndTimeMillis:Date.now()+S,backoffCount:o+1};return s.setThrottleMetadata(c,E),Ut.debug(`Calling attemptFetch again in ${S} millis`),Q0(n,E,l,s)}}function Fw(n,e){return new Promise((o,l)=>{const s=Math.max(e-Date.now(),0),c=setTimeout(o,s);n.addEventListener(()=>{clearTimeout(c),l(Zt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Jw(n){if(!(n instanceof Xi)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Yw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $w(n,e,o,l,s){if(s&&s.global){n("event",o,l);return}else{const c=await e,f={...l,send_to:c};n("event",o,f)}}async function Kw(n,e,o,l){if(l&&l.global){const s={};for(const c of Object.keys(o))s[`user_properties.${c}`]=o[c];return n("set",s),Promise.resolve()}else{const s=await e;n("config",s,{update:!0,user_properties:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(){if(E0())try{await C0()}catch(n){return Ut.warn(Zt.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ut.warn(Zt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Qw(n,e,o,l,s,c,f){const g=Ow(n);g.then(T=>{o[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&Ut.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Ut.error(T)),e.push(g);const y=Xw().then(T=>{if(T)return l.getId()}),[h,S]=await Promise.all([g,y]);Bw(c)||Rw(c,h.measurementId),s("js",new Date);const E=(f==null?void 0:f.config)??{};return E[Aw]="firebase",E.update=!0,S!=null&&(E[_w]=S),s("config",h.measurementId,E),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.app=e}_delete(){return delete ko[this.app.options.appId],Promise.resolve()}}let ko={},py=[];const hy={};let dc="dataLayer",jw="gtag",gy,od,yy=!1;function Ww(){const n=[];if(EI()&&n.push("This is a browser extension environment."),CI()||n.push("Cookies are not available."),n.length>0){const e=n.map((l,s)=>`(${s+1}) ${l}`).join(" "),o=Zt.create("invalid-analytics-context",{errorInfo:e});Ut.warn(o.message)}}function eR(n,e,o){Ww();const l=n.options.appId;if(!l)throw Zt.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ut.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zt.create("no-api-key");if(ko[l]!=null)throw Zt.create("already-exists",{id:l});if(!yy){Dw(dc);const{wrappedGtag:c,gtagCore:f}=Gw(ko,py,hy,dc,jw);od=c,gy=f,yy=!0}return ko[l]=Qw(n,py,hy,e,gy,dc,o),new Zw(n)}function tR(n=bM()){n=Zc(n);const e=Ls(n,_s);return e.isInitialized()?e.getImmediate():nR(n)}function nR(n,e={}){const o=Ls(n,_s);if(o.isInitialized()){const s=o.getImmediate();if(Es(e,o.getOptions()))return s;throw Zt.create("already-initialized")}return o.initialize({options:e})}function iR(n,e,o){n=Zc(n),Kw(od,ko[n.app.options.appId],e,o).catch(l=>Ut.error(l))}function oR(n,e,o,l){n=Zc(n),$w(od,ko[n.app.options.appId],e,o,l).catch(s=>Ut.error(s))}const vy="@firebase/analytics",Sy="0.10.19";function aR(){Ji(new Ei(_s,(e,{options:o})=>{const l=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return eR(l,s,o)},"PUBLIC")),Ji(new Ei("analytics-internal",n,"PRIVATE")),Ti(vy,Sy),Ti(vy,Sy,"esm2020");function n(e){try{const o=e.getProvider(_s).getImmediate();return{logEvent:(l,s,c)=>oR(o,l,s,c),setUserProperties:(l,s)=>iR(o,l,s)}}catch(o){throw Zt.create("interop-component-reg-failed",{reason:o})}}}aR();const lR={apiKey:"AIzaSyBxNk75MIGKq_wtA9l0_egUbOUnz-NtlEg",authDomain:"cotejodegallos.firebaseapp.com",projectId:"cotejodegallos",storageBucket:"cotejodegallos.firebasestorage.app",messagingSenderId:"638808911236",appId:"1:638808911236:web:739b8bcf6781fc1a6e01d1",measurementId:"G-674VGCPKJJ"},sR=N0(lR);tR(sR);const Z0=document.getElementById("root");if(!Z0)throw new Error("Could not find root element to mount to");const rR=xT.createRoot(Z0);rR.render(v.jsx(As.StrictMode,{children:v.jsx(uI,{})}));
