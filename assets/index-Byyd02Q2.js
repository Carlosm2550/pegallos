(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(s){if(s.ep)return;s.ep=!0;const c=i(s);fetch(s.href,c)}})();function Cy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zu={exports:{}},Ha={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function pT(){if(oh)return Ha;oh=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(l,s,c){var f=null;if(c!==void 0&&(f=""+c),s.key!==void 0&&(f=""+s.key),"key"in s){c={};for(var g in s)g!=="key"&&(c[g]=s[g])}else c=s;return s=c.ref,{$$typeof:n,type:l,key:f,ref:s!==void 0?s:null,props:c}}return Ha.Fragment=e,Ha.jsx=i,Ha.jsxs=i,Ha}var ih;function hT(){return ih||(ih=1,Zu.exports=pT()),Zu.exports}var v=hT(),ju={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function gT(){if(ah)return Ce;ah=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),T=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,A={};function R(M,$,ee){this.props=M,this.context=$,this.refs=A,this.updater=ee||N}R.prototype.isReactComponent={},R.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},R.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function B(){}B.prototype=R.prototype;function q(M,$,ee){this.props=M,this.context=$,this.refs=A,this.updater=ee||N}var O=q.prototype=new B;O.constructor=q,_(O,R.prototype),O.isPureReactComponent=!0;var H=Array.isArray;function z(){}var Z={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function J(M,$,ee){var le=ee.ref;return{$$typeof:n,type:M,key:$,ref:le!==void 0?le:null,props:ee}}function ie(M,$){return J(M.type,$,M.props)}function he(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function Y(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ee){return $[ee]})}var j=/\/+/g;function W(M,$){return typeof M=="object"&&M!==null&&M.key!=null?Y(""+M.key):$.toString(36)}function me(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(z,z):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function U(M,$,ee,le,ge){var _e=typeof M;(_e==="undefined"||_e==="boolean")&&(M=null);var Ge=!1;if(M===null)Ge=!0;else switch(_e){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(M.$$typeof){case n:case e:Ge=!0;break;case S:return Ge=M._init,U(Ge(M._payload),$,ee,le,ge)}}if(Ge)return ge=ge(M),Ge=le===""?"."+W(M,0):le,H(ge)?(ee="",Ge!=null&&(ee=Ge.replace(j,"$&/")+"/"),U(ge,$,ee,"",function(ot){return ot})):ge!=null&&(he(ge)&&(ge=ie(ge,ee+(ge.key==null||M&&M.key===ge.key?"":(""+ge.key).replace(j,"$&/")+"/")+Ge)),$.push(ge)),1;Ge=0;var ut=le===""?".":le+":";if(H(M))for(var de=0;de<M.length;de++)le=M[de],_e=ut+W(le,de),Ge+=U(le,$,ee,_e,ge);else if(de=b(M),typeof de=="function")for(M=de.call(M),de=0;!(le=M.next()).done;)le=le.value,_e=ut+W(le,de++),Ge+=U(le,$,ee,_e,ge);else if(_e==="object"){if(typeof M.then=="function")return U(me(M),$,ee,le,ge);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function k(M,$,ee){if(M==null)return M;var le=[],ge=0;return U(M,le,"","",function(_e){return $.call(ee,_e,ge++)}),le}function te(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(ee){(M._status===0||M._status===-1)&&(M._status=1,M._result=ee)},function(ee){(M._status===0||M._status===-1)&&(M._status=2,M._result=ee)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var ye=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ee={map:k,forEach:function(M,$,ee){k(M,function(){$.apply(this,arguments)},ee)},count:function(M){var $=0;return k(M,function(){$++}),$},toArray:function(M){return k(M,function($){return $})||[]},only:function(M){if(!he(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ce.Activity=C,Ce.Children=Ee,Ce.Component=R,Ce.Fragment=i,Ce.Profiler=s,Ce.PureComponent=q,Ce.StrictMode=l,Ce.Suspense=y,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return Z.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(M,$,ee){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=_({},M.props),ge=M.key;if($!=null)for(_e in $.key!==void 0&&(ge=""+$.key),$)!oe.call($,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&$.ref===void 0||(le[_e]=$[_e]);var _e=arguments.length-2;if(_e===1)le.children=ee;else if(1<_e){for(var Ge=Array(_e),ut=0;ut<_e;ut++)Ge[ut]=arguments[ut+2];le.children=Ge}return J(M.type,ge,le)},Ce.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ce.createElement=function(M,$,ee){var le,ge={},_e=null;if($!=null)for(le in $.key!==void 0&&(_e=""+$.key),$)oe.call($,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ge[le]=$[le]);var Ge=arguments.length-2;if(Ge===1)ge.children=ee;else if(1<Ge){for(var ut=Array(Ge),de=0;de<Ge;de++)ut[de]=arguments[de+2];ge.children=ut}if(M&&M.defaultProps)for(le in Ge=M.defaultProps,Ge)ge[le]===void 0&&(ge[le]=Ge[le]);return J(M,_e,ge)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:g,render:M}},Ce.isValidElement=he,Ce.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:te}},Ce.memo=function(M,$){return{$$typeof:h,type:M,compare:$===void 0?null:$}},Ce.startTransition=function(M){var $=Z.T,ee={};Z.T=ee;try{var le=M(),ge=Z.S;ge!==null&&ge(ee,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(z,ye)}catch(_e){ye(_e)}finally{$!==null&&ee.types!==null&&($.types=ee.types),Z.T=$}},Ce.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ce.use=function(M){return Z.H.use(M)},Ce.useActionState=function(M,$,ee){return Z.H.useActionState(M,$,ee)},Ce.useCallback=function(M,$){return Z.H.useCallback(M,$)},Ce.useContext=function(M){return Z.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,$){return Z.H.useDeferredValue(M,$)},Ce.useEffect=function(M,$){return Z.H.useEffect(M,$)},Ce.useEffectEvent=function(M){return Z.H.useEffectEvent(M)},Ce.useId=function(){return Z.H.useId()},Ce.useImperativeHandle=function(M,$,ee){return Z.H.useImperativeHandle(M,$,ee)},Ce.useInsertionEffect=function(M,$){return Z.H.useInsertionEffect(M,$)},Ce.useLayoutEffect=function(M,$){return Z.H.useLayoutEffect(M,$)},Ce.useMemo=function(M,$){return Z.H.useMemo(M,$)},Ce.useOptimistic=function(M,$){return Z.H.useOptimistic(M,$)},Ce.useReducer=function(M,$,ee){return Z.H.useReducer(M,$,ee)},Ce.useRef=function(M){return Z.H.useRef(M)},Ce.useState=function(M){return Z.H.useState(M)},Ce.useSyncExternalStore=function(M,$,ee){return Z.H.useSyncExternalStore(M,$,ee)},Ce.useTransition=function(){return Z.H.useTransition()},Ce.version="19.2.4",Ce}var lh;function Vc(){return lh||(lh=1,ju.exports=gT()),ju.exports}var Q=Vc();const Ns=Cy(Q);var Wu={exports:{}},Va={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function yT(){return sh||(sh=1,(function(n){function e(U,k){var te=U.length;U.push(k);e:for(;0<te;){var ye=te-1>>>1,Ee=U[ye];if(0<s(Ee,k))U[ye]=k,U[te]=Ee,te=ye;else break e}}function i(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var k=U[0],te=U.pop();if(te!==k){U[0]=te;e:for(var ye=0,Ee=U.length,M=Ee>>>1;ye<M;){var $=2*(ye+1)-1,ee=U[$],le=$+1,ge=U[le];if(0>s(ee,te))le<Ee&&0>s(ge,ee)?(U[ye]=ge,U[le]=te,ye=le):(U[ye]=ee,U[$]=te,ye=$);else if(le<Ee&&0>s(ge,te))U[ye]=ge,U[le]=te,ye=le;else break e}}return k}function s(U,k){var te=U.sortIndex-k.sortIndex;return te!==0?te:U.id-k.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();n.unstable_now=function(){return f.now()-g}}var y=[],h=[],S=1,C=null,T=3,b=!1,N=!1,_=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function O(U){for(var k=i(h);k!==null;){if(k.callback===null)l(h);else if(k.startTime<=U)l(h),k.sortIndex=k.expirationTime,e(y,k);else break;k=i(h)}}function H(U){if(_=!1,O(U),!N)if(i(y)!==null)N=!0,z||(z=!0,Y());else{var k=i(h);k!==null&&me(H,k.startTime-U)}}var z=!1,Z=-1,oe=5,J=-1;function ie(){return A?!0:!(n.unstable_now()-J<oe)}function he(){if(A=!1,z){var U=n.unstable_now();J=U;var k=!0;try{e:{N=!1,_&&(_=!1,B(Z),Z=-1),b=!0;var te=T;try{t:{for(O(U),C=i(y);C!==null&&!(C.expirationTime>U&&ie());){var ye=C.callback;if(typeof ye=="function"){C.callback=null,T=C.priorityLevel;var Ee=ye(C.expirationTime<=U);if(U=n.unstable_now(),typeof Ee=="function"){C.callback=Ee,O(U),k=!0;break t}C===i(y)&&l(y),O(U)}else l(y);C=i(y)}if(C!==null)k=!0;else{var M=i(h);M!==null&&me(H,M.startTime-U),k=!1}}break e}finally{C=null,T=te,b=!1}k=void 0}}finally{k?Y():z=!1}}}var Y;if(typeof q=="function")Y=function(){q(he)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,W=j.port2;j.port1.onmessage=he,Y=function(){W.postMessage(null)}}else Y=function(){R(he,0)};function me(U,k){Z=R(function(){U(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(U){switch(T){case 1:case 2:case 3:var k=3;break;default:k=T}var te=T;T=k;try{return U()}finally{T=te}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(U,k){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=T;T=U;try{return k()}finally{T=te}},n.unstable_scheduleCallback=function(U,k,te){var ye=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ye+te:ye):te=ye,U){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=te+Ee,U={id:S++,callback:k,priorityLevel:U,startTime:te,expirationTime:Ee,sortIndex:-1},te>ye?(U.sortIndex=te,e(h,U),i(y)===null&&U===i(h)&&(_?(B(Z),Z=-1):_=!0,me(H,te-ye))):(U.sortIndex=Ee,e(y,U),N||b||(N=!0,z||(z=!0,Y()))),U},n.unstable_shouldYield=ie,n.unstable_wrapCallback=function(U){var k=T;return function(){var te=T;T=k;try{return U.apply(this,arguments)}finally{T=te}}}})(tc)),tc}var rh;function vT(){return rh||(rh=1,ec.exports=yT()),ec.exports}var nc={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function ST(){if(uh)return At;uh=1;var n=Vc();function e(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)h+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(y,h,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:C==null?null:""+C,children:y,containerInfo:h,implementation:S}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,At.createPortal=function(y,h){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return c(y,h,null,S)},At.flushSync=function(y){var h=f.T,S=l.p;try{if(f.T=null,l.p=2,y)return y()}finally{f.T=h,l.p=S,l.d.f()}},At.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(y,h))},At.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},At.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var S=h.as,C=g(S,h.crossOrigin),T=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;S==="style"?l.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:C,integrity:T,fetchPriority:b}):S==="script"&&l.d.X(y,{crossOrigin:C,integrity:T,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},At.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var S=g(h.as,h.crossOrigin);l.d.M(y,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(y)},At.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var S=h.as,C=g(S,h.crossOrigin);l.d.L(y,S,{crossOrigin:C,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},At.preloadModule=function(y,h){if(typeof y=="string")if(h){var S=g(h.as,h.crossOrigin);l.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(y)},At.requestFormReset=function(y){l.d.r(y)},At.unstable_batchedUpdates=function(y,h){return y(h)},At.useFormState=function(y,h,S){return f.H.useFormState(y,h,S)},At.useFormStatus=function(){return f.H.useHostTransitionStatus()},At.version="19.2.4",At}var ch;function TT(){if(ch)return nc.exports;ch=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nc.exports=ST(),nc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function CT(){if(dh)return Va;dh=1;var n=vT(),e=Vc(),i=TT();function l(t){var o="https://react.dev/errors/"+t;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var o=t,a=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(a=o.return),t=o.return;while(t)}return o.tag===3?a:null}function f(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function g(t){if(t.tag===31){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(l(188))}function h(t){var o=t.alternate;if(!o){if(o=c(t),o===null)throw Error(l(188));return o!==t?null:t}for(var a=t,r=o;;){var m=a.return;if(m===null)break;var p=m.alternate;if(p===null){if(r=m.return,r!==null){a=r;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===a)return y(m),t;if(p===r)return y(m),o;p=p.sibling}throw Error(l(188))}if(a.return!==r.return)a=m,r=p;else{for(var E=!1,x=m.child;x;){if(x===a){E=!0,a=m,r=p;break}if(x===r){E=!0,r=m,a=p;break}x=x.sibling}if(!E){for(x=p.child;x;){if(x===a){E=!0,a=p,r=m;break}if(x===r){E=!0,r=p,a=m;break}x=x.sibling}if(!E)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?t:o}function S(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t;for(t=t.child;t!==null;){if(o=S(t),o!==null)return o;t=t.sibling}return null}var C=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),q=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function Y(t){return t===null||typeof t!="object"?null:(t=he&&t[he]||t["@@iterator"],typeof t=="function"?t:null)}var j=Symbol.for("react.client.reference");function W(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===j?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case R:return"Profiler";case A:return"StrictMode";case H:return"Suspense";case z:return"SuspenseList";case J:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case q:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case O:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return o=t.displayName||null,o!==null?o:W(t.type)||"Memo";case oe:o=t._payload,t=t._init;try{return W(t(o))}catch{}}return null}var me=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ye=[],Ee=-1;function M(t){return{current:t}}function $(t){0>Ee||(t.current=ye[Ee],ye[Ee]=null,Ee--)}function ee(t,o){Ee++,ye[Ee]=t.current,t.current=o}var le=M(null),ge=M(null),_e=M(null),Ge=M(null);function ut(t,o){switch(ee(_e,o),ee(ge,t),ee(le,null),o.nodeType){case 9:case 11:t=(t=o.documentElement)&&(t=t.namespaceURI)?bp(t):0;break;default:if(t=o.tagName,o=o.namespaceURI)o=bp(o),t=Np(o,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(le),ee(le,t)}function de(){$(le),$(ge),$(_e)}function ot(t){t.memoizedState!==null&&ee(Ge,t);var o=le.current,a=Np(o,t.type);o!==a&&(ee(ge,t),ee(le,a))}function pt(t){ge.current===t&&($(le),$(ge)),Ge.current===t&&($(Ge),La._currentValue=te)}var Kn,jo;function An(t){if(Kn===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);Kn=o&&o[1]||"",jo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kn+t+jo}var ae=!1;function se(t,o){if(!t||ae)return"";ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(o){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(V){var G=V}Reflect.construct(t,[],X)}else{try{X.call()}catch(V){G=V}t.call(X.prototype)}}else{try{throw Error()}catch(V){G=V}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(V){if(V&&G&&typeof V.stack=="string")return[V.stack,G.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=r.DetermineComponentFrameRoot(),E=p[0],x=p[1];if(E&&x){var I=E.split(`
`),P=x.split(`
`);for(m=r=0;r<I.length&&!I[r].includes("DetermineComponentFrameRoot");)r++;for(;m<P.length&&!P[m].includes("DetermineComponentFrameRoot");)m++;if(r===I.length||m===P.length)for(r=I.length-1,m=P.length-1;1<=r&&0<=m&&I[r]!==P[m];)m--;for(;1<=r&&0<=m;r--,m--)if(I[r]!==P[m]){if(r!==1||m!==1)do if(r--,m--,0>m||I[r]!==P[m]){var F=`
`+I[r].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=r&&0<=m);break}}}finally{ae=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?An(a):""}function fe(t,o){switch(t.tag){case 26:case 27:case 5:return An(t.type);case 16:return An("Lazy");case 13:return t.child!==o&&o!==null?An("Suspense Fallback"):An("Suspense");case 19:return An("SuspenseList");case 0:case 15:return se(t.type,!1);case 11:return se(t.type.render,!1);case 1:return se(t.type,!0);case 31:return An("Activity");default:return""}}function we(t){try{var o="",a=null;do o+=fe(t,a),a=t,t=t.return;while(t);return o}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var xe=Object.prototype.hasOwnProperty,Ie=n.unstable_scheduleCallback,Ae=n.unstable_cancelCallback,ze=n.unstable_shouldYield,Oe=n.unstable_requestPaint,ve=n.unstable_now,It=n.unstable_getCurrentPriorityLevel,Mt=n.unstable_ImmediatePriority,jt=n.unstable_UserBlockingPriority,Se=n.unstable_NormalPriority,ht=n.unstable_LowPriority,Ot=n.unstable_IdlePriority,kt=n.log,wt=n.unstable_setDisableYieldValue,Me=null,Fe=null;function it(t){if(typeof kt=="function"&&wt(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Me,t)}catch{}}var tt=Math.clz32?Math.clz32:ev,Wt=Math.log,W0=Math.LN2;function ev(t){return t>>>=0,t===0?32:31-(Wt(t)/W0|0)|0}var Ja=256,Ya=262144,$a=4194304;function Ao(t){var o=t&42;if(o!==0)return o;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ka(t,o,a){var r=t.pendingLanes;if(r===0)return 0;var m=0,p=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var x=r&134217727;return x!==0?(r=x&~p,r!==0?m=Ao(r):(E&=x,E!==0?m=Ao(E):a||(a=x&~t,a!==0&&(m=Ao(a))))):(x=r&~p,x!==0?m=Ao(x):E!==0?m=Ao(E):a||(a=r&~t,a!==0&&(m=Ao(a)))),m===0?0:o!==0&&o!==m&&(o&p)===0&&(p=m&-m,a=o&-o,p>=a||p===32&&(a&4194048)!==0)?o:m}function $i(t,o){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&o)===0}function tv(t,o){switch(t){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ld(){var t=$a;return $a<<=1,($a&62914560)===0&&($a=4194304),t}function Vs(t){for(var o=[],a=0;31>a;a++)o.push(t);return o}function Ki(t,o){t.pendingLanes|=o,o!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nv(t,o,a,r,m,p){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,P=t.hiddenUpdates;for(a=E&~a;0<a;){var F=31-tt(a),X=1<<F;x[F]=0,I[F]=-1;var G=P[F];if(G!==null)for(P[F]=null,F=0;F<G.length;F++){var V=G[F];V!==null&&(V.lane&=-536870913)}a&=~X}r!==0&&sd(t,r,0),p!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=p&~(E&~o))}function sd(t,o,a){t.pendingLanes|=o,t.suspendedLanes&=~o;var r=31-tt(o);t.entangledLanes|=o,t.entanglements[r]=t.entanglements[r]|1073741824|a&261930}function rd(t,o){var a=t.entangledLanes|=o;for(t=t.entanglements;a;){var r=31-tt(a),m=1<<r;m&o|t[r]&o&&(t[r]|=o),a&=~m}}function ud(t,o){var a=o&-o;return a=(a&42)!==0?1:zs(a),(a&(t.suspendedLanes|o))!==0?0:a}function zs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cd(){var t=k.p;return t!==0?t:(t=window.event,t===void 0?32:Qp(t.type))}function dd(t,o){var a=k.p;try{return k.p=t,o()}finally{k.p=a}}var Xn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Xn,Pt="__reactProps$"+Xn,Wo="__reactContainer$"+Xn,Os="__reactEvents$"+Xn,ov="__reactListeners$"+Xn,iv="__reactHandles$"+Xn,fd="__reactResources$"+Xn,Xi="__reactMarker$"+Xn;function ks(t){delete t[Tt],delete t[Pt],delete t[Os],delete t[ov],delete t[iv]}function ei(t){var o=t[Tt];if(o)return o;for(var a=t.parentNode;a;){if(o=a[Wo]||a[Tt]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(t=Lp(t);t!==null;){if(a=t[Tt])return a;t=Lp(t)}return o}t=a,a=t.parentNode}return null}function ti(t){if(t=t[Tt]||t[Wo]){var o=t.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return t}return null}function Qi(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t.stateNode;throw Error(l(33))}function ni(t){var o=t[fd];return o||(o=t[fd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function yt(t){t[Xi]=!0}var md=new Set,pd={};function bo(t,o){oi(t,o),oi(t+"Capture",o)}function oi(t,o){for(pd[t]=o,t=0;t<o.length;t++)md.add(o[t])}var av=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hd={},gd={};function lv(t){return xe.call(gd,t)?!0:xe.call(hd,t)?!1:av.test(t)?gd[t]=!0:(hd[t]=!0,!1)}function Xa(t,o,a){if(lv(o))if(a===null)t.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(o);return;case"boolean":var r=o.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(o);return}}t.setAttribute(o,""+a)}}function Qa(t,o,a){if(a===null)t.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttribute(o,""+a)}}function bn(t,o,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(o,a,""+r)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yd(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function sv(t,o,a){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,o);if(!t.hasOwnProperty(o)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var m=r.get,p=r.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){a=""+E,p.call(this,E)}}),Object.defineProperty(t,o,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function Fs(t){if(!t._valueTracker){var o=yd(t)?"checked":"value";t._valueTracker=sv(t,o,""+t[o])}}function vd(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var a=o.getValue(),r="";return t&&(r=yd(t)?t.checked?"true":"false":t.value),t=r,t!==a?(o.setValue(t),!0):!1}function Za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rv=/[\n"\\]/g;function tn(t){return t.replace(rv,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Js(t,o,a,r,m,p,E,x){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),o!=null?E==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+en(o)):t.value!==""+en(o)&&(t.value=""+en(o)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),o!=null?Ys(t,E,en(o)):a!=null?Ys(t,E,en(a)):r!=null&&t.removeAttribute("value"),m==null&&p!=null&&(t.defaultChecked=!!p),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+en(x):t.removeAttribute("name")}function Sd(t,o,a,r,m,p,E,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),o!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||o!=null)){Fs(t);return}a=a!=null?""+en(a):"",o=o!=null?""+en(o):a,x||o===t.value||(t.value=o),t.defaultValue=o}r=r??m,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=x?t.checked:!!r,t.defaultChecked=!!r,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Fs(t)}function Ys(t,o,a){o==="number"&&Za(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ii(t,o,a,r){if(t=t.options,o){o={};for(var m=0;m<a.length;m++)o["$"+a[m]]=!0;for(a=0;a<t.length;a++)m=o.hasOwnProperty("$"+t[a].value),t[a].selected!==m&&(t[a].selected=m),m&&r&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),o=null,m=0;m<t.length;m++){if(t[m].value===a){t[m].selected=!0,r&&(t[m].defaultSelected=!0);return}o!==null||t[m].disabled||(o=t[m])}o!==null&&(o.selected=!0)}}function Td(t,o,a){if(o!=null&&(o=""+en(o),o!==t.value&&(t.value=o),a==null)){t.defaultValue!==o&&(t.defaultValue=o);return}t.defaultValue=a!=null?""+en(a):""}function Cd(t,o,a,r){if(o==null){if(r!=null){if(a!=null)throw Error(l(92));if(me(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),o=a}a=en(o),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r),Fs(t)}function ai(t,o){if(o){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=o;return}}t.textContent=o}var uv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ed(t,o,a){var r=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="":r?t.setProperty(o,a):typeof a!="number"||a===0||uv.has(o)?o==="float"?t.cssFloat=a:t[o]=(""+a).trim():t[o]=a+"px"}function xd(t,o,a){if(o!=null&&typeof o!="object")throw Error(l(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||o!=null&&o.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var m in o)r=o[m],o.hasOwnProperty(m)&&a[m]!==r&&Ed(t,m,r)}else for(var p in o)o.hasOwnProperty(p)&&Ed(t,p,o[p])}function $s(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(t){return dv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Nn(){}var Ks=null;function Xs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var li=null,si=null;function _d(t){var o=ti(t);if(o&&(t=o.stateNode)){var a=t[Pt]||null;e:switch(t=o.stateNode,o.type){case"input":if(Js(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var r=a[o];if(r!==t&&r.form===t.form){var m=r[Pt]||null;if(!m)throw Error(l(90));Js(r,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<a.length;o++)r=a[o],r.form===t.form&&vd(r)}break e;case"textarea":Td(t,a.value,a.defaultValue);break e;case"select":o=a.value,o!=null&&ii(t,!!a.multiple,o,!1)}}}var Qs=!1;function Ad(t,o,a){if(Qs)return t(o,a);Qs=!0;try{var r=t(o);return r}finally{if(Qs=!1,(li!==null||si!==null)&&(Vl(),li&&(o=li,t=si,si=li=null,_d(o),t)))for(o=0;o<t.length;o++)_d(t[o])}}function Zi(t,o){var a=t.stateNode;if(a===null)return null;var r=a[Pt]||null;if(r===null)return null;a=r[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(l(231,o,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=!1;if(In)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{Zs=!1}var Qn=null,js=null,Wa=null;function bd(){if(Wa)return Wa;var t,o=js,a=o.length,r,m="value"in Qn?Qn.value:Qn.textContent,p=m.length;for(t=0;t<a&&o[t]===m[t];t++);var E=a-t;for(r=1;r<=E&&o[a-r]===m[p-r];r++);return Wa=m.slice(t,1<r?1-r:void 0)}function el(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function tl(){return!0}function Nd(){return!1}function Gt(t){function o(a,r,m,p,E){this._reactName=a,this._targetInst=m,this.type=r,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?tl:Nd,this.isPropagationStopped=Nd,this}return C(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),o}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=Gt(No),Wi=C({},No,{view:0,detail:0}),fv=Gt(Wi),Ws,er,ea,ol=C({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ea&&(ea&&t.type==="mousemove"?(Ws=t.screenX-ea.screenX,er=t.screenY-ea.screenY):er=Ws=0,ea=t),Ws)},movementY:function(t){return"movementY"in t?t.movementY:er}}),Id=Gt(ol),mv=C({},ol,{dataTransfer:0}),pv=Gt(mv),hv=C({},Wi,{relatedTarget:0}),tr=Gt(hv),gv=C({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),yv=Gt(gv),vv=C({},No,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sv=Gt(vv),Tv=C({},No,{data:0}),Md=Gt(Tv),Cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _v(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=xv[t])?!!o[t]:!1}function nr(){return _v}var Av=C({},Wi,{key:function(t){if(t.key){var o=Cv[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=el(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ev[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(t){return t.type==="keypress"?el(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?el(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bv=Gt(Av),Nv=C({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=Gt(Nv),Iv=C({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),Mv=Gt(Iv),wv=C({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rv=Gt(wv),Dv=C({},ol,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Uv=Gt(Dv),Lv=C({},No,{newState:0,oldState:0}),Pv=Gt(Lv),Gv=[9,13,27,32],or=In&&"CompositionEvent"in window,ta=null;In&&"documentMode"in document&&(ta=document.documentMode);var Bv=In&&"TextEvent"in window&&!ta,Rd=In&&(!or||ta&&8<ta&&11>=ta),Dd=" ",Ud=!1;function Ld(t,o){switch(t){case"keyup":return Gv.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ri=!1;function Hv(t,o){switch(t){case"compositionend":return Pd(o);case"keypress":return o.which!==32?null:(Ud=!0,Dd);case"textInput":return t=o.data,t===Dd&&Ud?null:t;default:return null}}function Vv(t,o){if(ri)return t==="compositionend"||!or&&Ld(t,o)?(t=bd(),Wa=js=Qn=null,ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Rd&&o.locale!=="ko"?null:o.data;default:return null}}var zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!zv[t.type]:o==="textarea"}function Bd(t,o,a,r){li?si?si.push(r):si=[r]:li=r,o=Yl(o,"onChange"),0<o.length&&(a=new nl("onChange","change",null,a,r),t.push({event:a,listeners:o}))}var na=null,oa=null;function qv(t){Tp(t,0)}function il(t){var o=Qi(t);if(vd(o))return t}function Hd(t,o){if(t==="change")return o}var Vd=!1;if(In){var ir;if(In){var ar="oninput"in document;if(!ar){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),ar=typeof zd.oninput=="function"}ir=ar}else ir=!1;Vd=ir&&(!document.documentMode||9<document.documentMode)}function qd(){na&&(na.detachEvent("onpropertychange",Od),oa=na=null)}function Od(t){if(t.propertyName==="value"&&il(oa)){var o=[];Bd(o,oa,t,Xs(t)),Ad(qv,o)}}function Ov(t,o,a){t==="focusin"?(qd(),na=o,oa=a,na.attachEvent("onpropertychange",Od)):t==="focusout"&&qd()}function kv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return il(oa)}function Fv(t,o){if(t==="click")return il(o)}function Jv(t,o){if(t==="input"||t==="change")return il(o)}function Yv(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var Ft=typeof Object.is=="function"?Object.is:Yv;function ia(t,o){if(Ft(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var a=Object.keys(t),r=Object.keys(o);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var m=a[r];if(!xe.call(o,m)||!Ft(t[m],o[m]))return!1}return!0}function kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fd(t,o){var a=kd(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=o&&r>=o)return{node:a,offset:o-t};t=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kd(a)}}function Jd(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?Jd(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function Yd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var o=Za(t.document);o instanceof t.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)t=o.contentWindow;else break;o=Za(t.document)}return o}function lr(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}var $v=In&&"documentMode"in document&&11>=document.documentMode,ui=null,sr=null,aa=null,rr=!1;function $d(t,o,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rr||ui==null||ui!==Za(r)||(r=ui,"selectionStart"in r&&lr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),aa&&ia(aa,r)||(aa=r,r=Yl(sr,"onSelect"),0<r.length&&(o=new nl("onSelect","select",null,o,a),t.push({event:o,listeners:r}),o.target=ui)))}function Io(t,o){var a={};return a[t.toLowerCase()]=o.toLowerCase(),a["Webkit"+t]="webkit"+o,a["Moz"+t]="moz"+o,a}var ci={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionrun:Io("Transition","TransitionRun"),transitionstart:Io("Transition","TransitionStart"),transitioncancel:Io("Transition","TransitionCancel"),transitionend:Io("Transition","TransitionEnd")},ur={},Kd={};In&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function Mo(t){if(ur[t])return ur[t];if(!ci[t])return t;var o=ci[t],a;for(a in o)if(o.hasOwnProperty(a)&&a in Kd)return ur[t]=o[a];return t}var Xd=Mo("animationend"),Qd=Mo("animationiteration"),Zd=Mo("animationstart"),Kv=Mo("transitionrun"),Xv=Mo("transitionstart"),Qv=Mo("transitioncancel"),jd=Mo("transitionend"),Wd=new Map,cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cr.push("scrollEnd");function mn(t,o){Wd.set(t,o),bo(o,[t])}var al=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},nn=[],di=0,dr=0;function ll(){for(var t=di,o=dr=di=0;o<t;){var a=nn[o];nn[o++]=null;var r=nn[o];nn[o++]=null;var m=nn[o];nn[o++]=null;var p=nn[o];if(nn[o++]=null,r!==null&&m!==null){var E=r.pending;E===null?m.next=m:(m.next=E.next,E.next=m),r.pending=m}p!==0&&ef(a,m,p)}}function sl(t,o,a,r){nn[di++]=t,nn[di++]=o,nn[di++]=a,nn[di++]=r,dr|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function fr(t,o,a,r){return sl(t,o,a,r),rl(t)}function wo(t,o){return sl(t,null,null,o),rl(t)}function ef(t,o,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var m=!1,p=t.return;p!==null;)p.childLanes|=a,r=p.alternate,r!==null&&(r.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(m=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,m&&o!==null&&(m=31-tt(a),t=p.hiddenUpdates,r=t[m],r===null?t[m]=[o]:r.push(o),o.lane=a|536870912),p):null}function rl(t){if(50<Na)throw Na=0,Cu=null,Error(l(185));for(var o=t.return;o!==null;)t=o,o=t.return;return t.tag===3?t.stateNode:null}var fi={};function Zv(t,o,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,o,a,r){return new Zv(t,o,a,r)}function mr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mn(t,o){var a=t.alternate;return a===null?(a=Jt(t.tag,o,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=o,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,o=t.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function tf(t,o){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=o,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,o=a.dependencies,t.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),t}function ul(t,o,a,r,m,p){var E=0;if(r=t,typeof t=="function")mr(t)&&(E=1);else if(typeof t=="string")E=nT(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case J:return t=Jt(31,a,o,m),t.elementType=J,t.lanes=p,t;case _:return Ro(a.children,m,p,o);case A:E=8,m|=24;break;case R:return t=Jt(12,a,o,m|2),t.elementType=R,t.lanes=p,t;case H:return t=Jt(13,a,o,m),t.elementType=H,t.lanes=p,t;case z:return t=Jt(19,a,o,m),t.elementType=z,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:E=10;break e;case B:E=9;break e;case O:E=11;break e;case Z:E=14;break e;case oe:E=16,r=null;break e}E=29,a=Error(l(130,t===null?"null":typeof t,"")),r=null}return o=Jt(E,a,o,m),o.elementType=t,o.type=r,o.lanes=p,o}function Ro(t,o,a,r){return t=Jt(7,t,r,o),t.lanes=a,t}function pr(t,o,a){return t=Jt(6,t,null,o),t.lanes=a,t}function nf(t){var o=Jt(18,null,null,0);return o.stateNode=t,o}function hr(t,o,a){return o=Jt(4,t.children!==null?t.children:[],t.key,o),o.lanes=a,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}var of=new WeakMap;function on(t,o){if(typeof t=="object"&&t!==null){var a=of.get(t);return a!==void 0?a:(o={value:t,source:o,stack:we(o)},of.set(t,o),o)}return{value:t,source:o,stack:we(o)}}var mi=[],pi=0,cl=null,la=0,an=[],ln=0,Zn=null,Tn=1,Cn="";function wn(t,o){mi[pi++]=la,mi[pi++]=cl,cl=t,la=o}function af(t,o,a){an[ln++]=Tn,an[ln++]=Cn,an[ln++]=Zn,Zn=t;var r=Tn;t=Cn;var m=32-tt(r)-1;r&=~(1<<m),a+=1;var p=32-tt(o)+m;if(30<p){var E=m-m%5;p=(r&(1<<E)-1).toString(32),r>>=E,m-=E,Tn=1<<32-tt(o)+m|a<<m|r,Cn=p+t}else Tn=1<<p|a<<m|r,Cn=t}function gr(t){t.return!==null&&(wn(t,1),af(t,1,0))}function yr(t){for(;t===cl;)cl=mi[--pi],mi[pi]=null,la=mi[--pi],mi[pi]=null;for(;t===Zn;)Zn=an[--ln],an[ln]=null,Cn=an[--ln],an[ln]=null,Tn=an[--ln],an[ln]=null}function lf(t,o){an[ln++]=Tn,an[ln++]=Cn,an[ln++]=Zn,Tn=o.id,Cn=o.overflow,Zn=t}var Ct=null,je=null,Pe=!1,jn=null,sn=!1,vr=Error(l(519));function Wn(t){var o=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sa(on(o,t)),vr}function sf(t){var o=t.stateNode,a=t.type,r=t.memoizedProps;switch(o[Tt]=t,o[Pt]=r,a){case"dialog":De("cancel",o),De("close",o);break;case"iframe":case"object":case"embed":De("load",o);break;case"video":case"audio":for(a=0;a<Ma.length;a++)De(Ma[a],o);break;case"source":De("error",o);break;case"img":case"image":case"link":De("error",o),De("load",o);break;case"details":De("toggle",o);break;case"input":De("invalid",o),Sd(o,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":De("invalid",o);break;case"textarea":De("invalid",o),Cd(o,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||r.suppressHydrationWarning===!0||_p(o.textContent,a)?(r.popover!=null&&(De("beforetoggle",o),De("toggle",o)),r.onScroll!=null&&De("scroll",o),r.onScrollEnd!=null&&De("scrollend",o),r.onClick!=null&&(o.onclick=Nn),o=!0):o=!1,o||Wn(t,!0)}function rf(t){for(Ct=t.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:Ct=Ct.return}}function hi(t){if(t!==Ct)return!1;if(!Pe)return rf(t),Pe=!0,!1;var o=t.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gu(t.type,t.memoizedProps)),a=!a),a&&je&&Wn(t),rf(t),o===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));je=Up(t)}else if(o===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));je=Up(t)}else o===27?(o=je,po(t.type)?(t=qu,qu=null,je=t):je=o):je=Ct?un(t.stateNode.nextSibling):null;return!0}function Do(){je=Ct=null,Pe=!1}function Sr(){var t=jn;return t!==null&&(zt===null?zt=t:zt.push.apply(zt,t),jn=null),t}function sa(t){jn===null?jn=[t]:jn.push(t)}var Tr=M(null),Uo=null,Rn=null;function eo(t,o,a){ee(Tr,o._currentValue),o._currentValue=a}function Dn(t){t._currentValue=Tr.current,$(Tr)}function Cr(t,o,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,r!==null&&(r.childLanes|=o)):r!==null&&(r.childLanes&o)!==o&&(r.childLanes|=o),t===a)break;t=t.return}}function Er(t,o,a,r){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var p=m.dependencies;if(p!==null){var E=m.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=m;for(var I=0;I<o.length;I++)if(x.context===o[I]){p.lanes|=a,x=p.alternate,x!==null&&(x.lanes|=a),Cr(p.return,a,t),r||(E=null);break e}p=x.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(l(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),Cr(E,a,t),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===t){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function gi(t,o,a,r){t=null;for(var m=o,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(l(387));if(E=E.memoizedProps,E!==null){var x=m.type;Ft(m.pendingProps.value,E.value)||(t!==null?t.push(x):t=[x])}}else if(m===Ge.current){if(E=m.alternate,E===null)throw Error(l(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(La):t=[La])}m=m.return}t!==null&&Er(o,t,a,r),o.flags|=262144}function dl(t){for(t=t.firstContext;t!==null;){if(!Ft(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Lo(t){Uo=t,Rn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Et(t){return uf(Uo,t)}function fl(t,o){return Uo===null&&Lo(t),uf(t,o)}function uf(t,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},Rn===null){if(t===null)throw Error(l(308));Rn=o,t.dependencies={lanes:0,firstContext:o},t.flags|=524288}else Rn=Rn.next=o;return a}var jv=typeof AbortController<"u"?AbortController:function(){var t=[],o=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){o.aborted=!0,t.forEach(function(a){return a()})}},Wv=n.unstable_scheduleCallback,eS=n.unstable_NormalPriority,ct={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xr(){return{controller:new jv,data:new Map,refCount:0}}function ra(t){t.refCount--,t.refCount===0&&Wv(eS,function(){t.controller.abort()})}var ua=null,_r=0,yi=0,vi=null;function tS(t,o){if(ua===null){var a=ua=[];_r=0,yi=Nu(),vi={status:"pending",value:void 0,then:function(r){a.push(r)}}}return _r++,o.then(cf,cf),o}function cf(){if(--_r===0&&ua!==null){vi!==null&&(vi.status="fulfilled");var t=ua;ua=null,yi=0,vi=null;for(var o=0;o<t.length;o++)(0,t[o])()}}function nS(t,o){var a=[],r={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return t.then(function(){r.status="fulfilled",r.value=o;for(var m=0;m<a.length;m++)(0,a[m])(o)},function(m){for(r.status="rejected",r.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),r}var df=U.S;U.S=function(t,o){Km=ve(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&tS(t,o),df!==null&&df(t,o)};var Po=M(null);function Ar(){var t=Po.current;return t!==null?t:Ze.pooledCache}function ml(t,o){o===null?ee(Po,Po.current):ee(Po,o.pool)}function ff(){var t=Ar();return t===null?null:{parent:ct._currentValue,pool:t}}var Si=Error(l(460)),br=Error(l(474)),pl=Error(l(542)),hl={then:function(){}};function mf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pf(t,o,a){switch(a=t[a],a===void 0?t.push(o):a!==o&&(o.then(Nn,Nn),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,gf(t),t;default:if(typeof o.status=="string")o.then(Nn,Nn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=o,t.status="pending",t.then(function(r){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=r}},function(r){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=r}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,gf(t),t}throw Bo=o,Si}}function Go(t){try{var o=t._init;return o(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bo=a,Si):a}}var Bo=null;function hf(){if(Bo===null)throw Error(l(459));var t=Bo;return Bo=null,t}function gf(t){if(t===Si||t===pl)throw Error(l(483))}var Ti=null,ca=0;function gl(t){var o=ca;return ca+=1,Ti===null&&(Ti=[]),pf(Ti,t,o)}function da(t,o){o=o.props.ref,t.ref=o!==void 0?o:null}function yl(t,o){throw o.$$typeof===T?Error(l(525)):(t=Object.prototype.toString.call(o),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t)))}function yf(t){function o(D,w){if(t){var L=D.deletions;L===null?(D.deletions=[w],D.flags|=16):L.push(w)}}function a(D,w){if(!t)return null;for(;w!==null;)o(D,w),w=w.sibling;return null}function r(D){for(var w=new Map;D!==null;)D.key!==null?w.set(D.key,D):w.set(D.index,D),D=D.sibling;return w}function m(D,w){return D=Mn(D,w),D.index=0,D.sibling=null,D}function p(D,w,L){return D.index=L,t?(L=D.alternate,L!==null?(L=L.index,L<w?(D.flags|=67108866,w):L):(D.flags|=67108866,w)):(D.flags|=1048576,w)}function E(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function x(D,w,L,K){return w===null||w.tag!==6?(w=pr(L,D.mode,K),w.return=D,w):(w=m(w,L),w.return=D,w)}function I(D,w,L,K){var ce=L.type;return ce===_?F(D,w,L.props.children,K,L.key):w!==null&&(w.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===oe&&Go(ce)===w.type)?(w=m(w,L.props),da(w,L),w.return=D,w):(w=ul(L.type,L.key,L.props,null,D.mode,K),da(w,L),w.return=D,w)}function P(D,w,L,K){return w===null||w.tag!==4||w.stateNode.containerInfo!==L.containerInfo||w.stateNode.implementation!==L.implementation?(w=hr(L,D.mode,K),w.return=D,w):(w=m(w,L.children||[]),w.return=D,w)}function F(D,w,L,K,ce){return w===null||w.tag!==7?(w=Ro(L,D.mode,K,ce),w.return=D,w):(w=m(w,L),w.return=D,w)}function X(D,w,L){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=pr(""+w,D.mode,L),w.return=D,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case b:return L=ul(w.type,w.key,w.props,null,D.mode,L),da(L,w),L.return=D,L;case N:return w=hr(w,D.mode,L),w.return=D,w;case oe:return w=Go(w),X(D,w,L)}if(me(w)||Y(w))return w=Ro(w,D.mode,L,null),w.return=D,w;if(typeof w.then=="function")return X(D,gl(w),L);if(w.$$typeof===q)return X(D,fl(D,w),L);yl(D,w)}return null}function G(D,w,L,K){var ce=w!==null?w.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ce!==null?null:x(D,w,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return L.key===ce?I(D,w,L,K):null;case N:return L.key===ce?P(D,w,L,K):null;case oe:return L=Go(L),G(D,w,L,K)}if(me(L)||Y(L))return ce!==null?null:F(D,w,L,K,null);if(typeof L.then=="function")return G(D,w,gl(L),K);if(L.$$typeof===q)return G(D,w,fl(D,L),K);yl(D,L)}return null}function V(D,w,L,K,ce){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return D=D.get(L)||null,x(w,D,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return D=D.get(K.key===null?L:K.key)||null,I(w,D,K,ce);case N:return D=D.get(K.key===null?L:K.key)||null,P(w,D,K,ce);case oe:return K=Go(K),V(D,w,L,K,ce)}if(me(K)||Y(K))return D=D.get(L)||null,F(w,D,K,ce,null);if(typeof K.then=="function")return V(D,w,L,gl(K),ce);if(K.$$typeof===q)return V(D,w,L,fl(w,K),ce);yl(w,K)}return null}function re(D,w,L,K){for(var ce=null,Be=null,ue=w,Ne=w=0,Le=null;ue!==null&&Ne<L.length;Ne++){ue.index>Ne?(Le=ue,ue=null):Le=ue.sibling;var He=G(D,ue,L[Ne],K);if(He===null){ue===null&&(ue=Le);break}t&&ue&&He.alternate===null&&o(D,ue),w=p(He,w,Ne),Be===null?ce=He:Be.sibling=He,Be=He,ue=Le}if(Ne===L.length)return a(D,ue),Pe&&wn(D,Ne),ce;if(ue===null){for(;Ne<L.length;Ne++)ue=X(D,L[Ne],K),ue!==null&&(w=p(ue,w,Ne),Be===null?ce=ue:Be.sibling=ue,Be=ue);return Pe&&wn(D,Ne),ce}for(ue=r(ue);Ne<L.length;Ne++)Le=V(ue,D,Ne,L[Ne],K),Le!==null&&(t&&Le.alternate!==null&&ue.delete(Le.key===null?Ne:Le.key),w=p(Le,w,Ne),Be===null?ce=Le:Be.sibling=Le,Be=Le);return t&&ue.forEach(function(So){return o(D,So)}),Pe&&wn(D,Ne),ce}function pe(D,w,L,K){if(L==null)throw Error(l(151));for(var ce=null,Be=null,ue=w,Ne=w=0,Le=null,He=L.next();ue!==null&&!He.done;Ne++,He=L.next()){ue.index>Ne?(Le=ue,ue=null):Le=ue.sibling;var So=G(D,ue,He.value,K);if(So===null){ue===null&&(ue=Le);break}t&&ue&&So.alternate===null&&o(D,ue),w=p(So,w,Ne),Be===null?ce=So:Be.sibling=So,Be=So,ue=Le}if(He.done)return a(D,ue),Pe&&wn(D,Ne),ce;if(ue===null){for(;!He.done;Ne++,He=L.next())He=X(D,He.value,K),He!==null&&(w=p(He,w,Ne),Be===null?ce=He:Be.sibling=He,Be=He);return Pe&&wn(D,Ne),ce}for(ue=r(ue);!He.done;Ne++,He=L.next())He=V(ue,D,Ne,He.value,K),He!==null&&(t&&He.alternate!==null&&ue.delete(He.key===null?Ne:He.key),w=p(He,w,Ne),Be===null?ce=He:Be.sibling=He,Be=He);return t&&ue.forEach(function(mT){return o(D,mT)}),Pe&&wn(D,Ne),ce}function Xe(D,w,L,K){if(typeof L=="object"&&L!==null&&L.type===_&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case b:e:{for(var ce=L.key;w!==null;){if(w.key===ce){if(ce=L.type,ce===_){if(w.tag===7){a(D,w.sibling),K=m(w,L.props.children),K.return=D,D=K;break e}}else if(w.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===oe&&Go(ce)===w.type){a(D,w.sibling),K=m(w,L.props),da(K,L),K.return=D,D=K;break e}a(D,w);break}else o(D,w);w=w.sibling}L.type===_?(K=Ro(L.props.children,D.mode,K,L.key),K.return=D,D=K):(K=ul(L.type,L.key,L.props,null,D.mode,K),da(K,L),K.return=D,D=K)}return E(D);case N:e:{for(ce=L.key;w!==null;){if(w.key===ce)if(w.tag===4&&w.stateNode.containerInfo===L.containerInfo&&w.stateNode.implementation===L.implementation){a(D,w.sibling),K=m(w,L.children||[]),K.return=D,D=K;break e}else{a(D,w);break}else o(D,w);w=w.sibling}K=hr(L,D.mode,K),K.return=D,D=K}return E(D);case oe:return L=Go(L),Xe(D,w,L,K)}if(me(L))return re(D,w,L,K);if(Y(L)){if(ce=Y(L),typeof ce!="function")throw Error(l(150));return L=ce.call(L),pe(D,w,L,K)}if(typeof L.then=="function")return Xe(D,w,gl(L),K);if(L.$$typeof===q)return Xe(D,w,fl(D,L),K);yl(D,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,w!==null&&w.tag===6?(a(D,w.sibling),K=m(w,L),K.return=D,D=K):(a(D,w),K=pr(L,D.mode,K),K.return=D,D=K),E(D)):a(D,w)}return function(D,w,L,K){try{ca=0;var ce=Xe(D,w,L,K);return Ti=null,ce}catch(ue){if(ue===Si||ue===pl)throw ue;var Be=Jt(29,ue,null,D.mode);return Be.lanes=K,Be.return=D,Be}finally{}}}var Ho=yf(!0),vf=yf(!1),to=!1;function Nr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ir(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function no(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function oo(t,o,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(qe&2)!==0){var m=r.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),r.pending=o,o=rl(t),ef(t,null,a),o}return sl(t,r,o,a),rl(t)}function fa(t,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var r=o.lanes;r&=t.pendingLanes,a|=r,o.lanes=a,rd(t,a)}}function Mr(t,o){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var m=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?m=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?m=p=o:p=p.next=o}else m=p=o;a={baseState:r.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=o:t.next=o,a.lastBaseUpdate=o}var wr=!1;function ma(){if(wr){var t=vi;if(t!==null)throw t}}function pa(t,o,a,r){wr=!1;var m=t.updateQueue;to=!1;var p=m.firstBaseUpdate,E=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var I=x,P=I.next;I.next=null,E===null?p=P:E.next=P,E=I;var F=t.alternate;F!==null&&(F=F.updateQueue,x=F.lastBaseUpdate,x!==E&&(x===null?F.firstBaseUpdate=P:x.next=P,F.lastBaseUpdate=I))}if(p!==null){var X=m.baseState;E=0,F=P=I=null,x=p;do{var G=x.lane&-536870913,V=G!==x.lane;if(V?(Ue&G)===G:(r&G)===G){G!==0&&G===yi&&(wr=!0),F!==null&&(F=F.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var re=t,pe=x;G=o;var Xe=a;switch(pe.tag){case 1:if(re=pe.payload,typeof re=="function"){X=re.call(Xe,X,G);break e}X=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=pe.payload,G=typeof re=="function"?re.call(Xe,X,G):re,G==null)break e;X=C({},X,G);break e;case 2:to=!0}}G=x.callback,G!==null&&(t.flags|=64,V&&(t.flags|=8192),V=m.callbacks,V===null?m.callbacks=[G]:V.push(G))}else V={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},F===null?(P=F=V,I=X):F=F.next=V,E|=G;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;V=x,x=V.next,V.next=null,m.lastBaseUpdate=V,m.shared.pending=null}}while(!0);F===null&&(I=X),m.baseState=I,m.firstBaseUpdate=P,m.lastBaseUpdate=F,p===null&&(m.shared.lanes=0),ro|=E,t.lanes=E,t.memoizedState=X}}function Sf(t,o){if(typeof t!="function")throw Error(l(191,t));t.call(o)}function Tf(t,o){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Sf(a[t],o)}var Ci=M(null),vl=M(0);function Cf(t,o){t=qn,ee(vl,t),ee(Ci,o),qn=t|o.baseLanes}function Rr(){ee(vl,qn),ee(Ci,Ci.current)}function Dr(){qn=vl.current,$(Ci),$(vl)}var Yt=M(null),rn=null;function io(t){var o=t.alternate;ee(st,st.current&1),ee(Yt,t),rn===null&&(o===null||Ci.current!==null||o.memoizedState!==null)&&(rn=t)}function Ur(t){ee(st,st.current),ee(Yt,t),rn===null&&(rn=t)}function Ef(t){t.tag===22?(ee(st,st.current),ee(Yt,t),rn===null&&(rn=t)):ao()}function ao(){ee(st,st.current),ee(Yt,Yt.current)}function $t(t){$(Yt),rn===t&&(rn=null),$(st)}var st=M(0);function Sl(t){for(var o=t;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vu(a)||zu(a)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Un=0,be=null,$e=null,dt=null,Tl=!1,Ei=!1,Vo=!1,Cl=0,ha=0,xi=null,oS=0;function at(){throw Error(l(321))}function Lr(t,o){if(o===null)return!1;for(var a=0;a<o.length&&a<t.length;a++)if(!Ft(t[a],o[a]))return!1;return!0}function Pr(t,o,a,r,m,p){return Un=p,be=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=t===null||t.memoizedState===null?am:Qr,Vo=!1,p=a(r,m),Vo=!1,Ei&&(p=_f(o,a,r,m)),xf(t),p}function xf(t){U.H=va;var o=$e!==null&&$e.next!==null;if(Un=0,dt=$e=be=null,Tl=!1,ha=0,xi=null,o)throw Error(l(300));t===null||ft||(t=t.dependencies,t!==null&&dl(t)&&(ft=!0))}function _f(t,o,a,r){be=t;var m=0;do{if(Ei&&(xi=null),ha=0,Ei=!1,25<=m)throw Error(l(301));if(m+=1,dt=$e=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}U.H=lm,p=o(a,r)}while(Ei);return p}function iS(){var t=U.H,o=t.useState()[0];return o=typeof o.then=="function"?ga(o):o,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(be.flags|=1024),o}function Gr(){var t=Cl!==0;return Cl=0,t}function Br(t,o,a){o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~a}function Hr(t){if(Tl){for(t=t.memoizedState;t!==null;){var o=t.queue;o!==null&&(o.pending=null),t=t.next}Tl=!1}Un=0,dt=$e=be=null,Ei=!1,ha=Cl=0,xi=null}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?be.memoizedState=dt=t:dt=dt.next=t,dt}function rt(){if($e===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var o=dt===null?be.memoizedState:dt.next;if(o!==null)dt=o,$e=t;else{if(t===null)throw be.alternate===null?Error(l(467)):Error(l(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},dt===null?be.memoizedState=dt=t:dt=dt.next=t}return dt}function El(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ga(t){var o=ha;return ha+=1,xi===null&&(xi=[]),t=pf(xi,t,o),o=be,(dt===null?o.memoizedState:dt.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?am:Qr),t}function xl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ga(t);if(t.$$typeof===q)return Et(t)}throw Error(l(438,String(t)))}function Vr(t){var o=null,a=be.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var r=be.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(o={data:r.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=El(),be.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(t),r=0;r<t;r++)a[r]=ie;return o.index++,a}function Ln(t,o){return typeof o=="function"?o(t):o}function _l(t){var o=rt();return zr(o,$e,t)}function zr(t,o,a){var r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var m=t.baseQueue,p=r.pending;if(p!==null){if(m!==null){var E=m.next;m.next=p.next,p.next=E}o.baseQueue=m=p,r.pending=null}if(p=t.baseState,m===null)t.memoizedState=p;else{o=m.next;var x=E=null,I=null,P=o,F=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Ue&X)===X:(Un&X)===X){var G=P.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===yi&&(F=!0);else if((Un&G)===G){P=P.next,G===yi&&(F=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(x=I=X,E=p):I=I.next=X,be.lanes|=G,ro|=G;X=P.action,Vo&&a(p,X),p=P.hasEagerState?P.eagerState:a(p,X)}else G={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(x=I=G,E=p):I=I.next=G,be.lanes|=X,ro|=X;P=P.next}while(P!==null&&P!==o);if(I===null?E=p:I.next=x,!Ft(p,t.memoizedState)&&(ft=!0,F&&(a=vi,a!==null)))throw a;t.memoizedState=p,t.baseState=E,t.baseQueue=I,r.lastRenderedState=p}return m===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function qr(t){var o=rt(),a=o.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var r=a.dispatch,m=a.pending,p=o.memoizedState;if(m!==null){a.pending=null;var E=m=m.next;do p=t(p,E.action),E=E.next;while(E!==m);Ft(p,o.memoizedState)||(ft=!0),o.memoizedState=p,o.baseQueue===null&&(o.baseState=p),a.lastRenderedState=p}return[p,r]}function Af(t,o,a){var r=be,m=rt(),p=Pe;if(p){if(a===void 0)throw Error(l(407));a=a()}else a=o();var E=!Ft(($e||m).memoizedState,a);if(E&&(m.memoizedState=a,ft=!0),m=m.queue,Fr(If.bind(null,r,m,t),[t]),m.getSnapshot!==o||E||dt!==null&&dt.memoizedState.tag&1){if(r.flags|=2048,_i(9,{destroy:void 0},Nf.bind(null,r,m,a,o),null),Ze===null)throw Error(l(349));p||(Un&127)!==0||bf(r,o,a)}return a}function bf(t,o,a){t.flags|=16384,t={getSnapshot:o,value:a},o=be.updateQueue,o===null?(o=El(),be.updateQueue=o,o.stores=[t]):(a=o.stores,a===null?o.stores=[t]:a.push(t))}function Nf(t,o,a,r){o.value=a,o.getSnapshot=r,Mf(o)&&wf(t)}function If(t,o,a){return a(function(){Mf(o)&&wf(t)})}function Mf(t){var o=t.getSnapshot;t=t.value;try{var a=o();return!Ft(t,a)}catch{return!0}}function wf(t){var o=wo(t,2);o!==null&&qt(o,t,2)}function Or(t){var o=Rt();if(typeof t=="function"){var a=t;if(t=a(),Vo){it(!0);try{a()}finally{it(!1)}}}return o.memoizedState=o.baseState=t,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:t},o}function Rf(t,o,a,r){return t.baseState=a,zr(t,$e,typeof r=="function"?r:Ln)}function aS(t,o,a,r,m){if(Nl(t))throw Error(l(485));if(t=o.action,t!==null){var p={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};U.T!==null?a(!0):p.isTransition=!1,r(p),a=o.pending,a===null?(p.next=o.pending=p,Df(o,p)):(p.next=a.next,o.pending=a.next=p)}}function Df(t,o){var a=o.action,r=o.payload,m=t.state;if(o.isTransition){var p=U.T,E={};U.T=E;try{var x=a(m,r),I=U.S;I!==null&&I(E,x),Uf(t,o,x)}catch(P){kr(t,o,P)}finally{p!==null&&E.types!==null&&(p.types=E.types),U.T=p}}else try{p=a(m,r),Uf(t,o,p)}catch(P){kr(t,o,P)}}function Uf(t,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Lf(t,o,r)},function(r){return kr(t,o,r)}):Lf(t,o,a)}function Lf(t,o,a){o.status="fulfilled",o.value=a,Pf(o),t.state=a,o=t.pending,o!==null&&(a=o.next,a===o?t.pending=null:(a=a.next,o.next=a,Df(t,a)))}function kr(t,o,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do o.status="rejected",o.reason=a,Pf(o),o=o.next;while(o!==r)}t.action=null}function Pf(t){t=t.listeners;for(var o=0;o<t.length;o++)(0,t[o])()}function Gf(t,o){return o}function Bf(t,o){if(Pe){var a=Ze.formState;if(a!==null){e:{var r=be;if(Pe){if(je){t:{for(var m=je,p=sn;m.nodeType!==8;){if(!p){m=null;break t}if(m=un(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){je=un(m.nextSibling),r=m.data==="F!";break e}}Wn(r)}r=!1}r&&(o=a[0])}}return a=Rt(),a.memoizedState=a.baseState=o,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gf,lastRenderedState:o},a.queue=r,a=nm.bind(null,be,r),r.dispatch=a,r=Or(!1),p=Xr.bind(null,be,!1,r.queue),r=Rt(),m={state:o,dispatch:null,action:t,pending:null},r.queue=m,a=aS.bind(null,be,m,p,a),m.dispatch=a,r.memoizedState=t,[o,a,!1]}function Hf(t){var o=rt();return Vf(o,$e,t)}function Vf(t,o,a){if(o=zr(t,o,Gf)[0],t=_l(Ln)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var r=ga(o)}catch(E){throw E===Si?pl:E}else r=o;o=rt();var m=o.queue,p=m.dispatch;return a!==o.memoizedState&&(be.flags|=2048,_i(9,{destroy:void 0},lS.bind(null,m,a),null)),[r,p,t]}function lS(t,o){t.action=o}function zf(t){var o=rt(),a=$e;if(a!==null)return Vf(o,a,t);rt(),o=o.memoizedState,a=rt();var r=a.queue.dispatch;return a.memoizedState=t,[o,r,!1]}function _i(t,o,a,r){return t={tag:t,create:a,deps:r,inst:o,next:null},o=be.updateQueue,o===null&&(o=El(),be.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,o.lastEffect=t),t}function qf(){return rt().memoizedState}function Al(t,o,a,r){var m=Rt();be.flags|=t,m.memoizedState=_i(1|o,{destroy:void 0},a,r===void 0?null:r)}function bl(t,o,a,r){var m=rt();r=r===void 0?null:r;var p=m.memoizedState.inst;$e!==null&&r!==null&&Lr(r,$e.memoizedState.deps)?m.memoizedState=_i(o,p,a,r):(be.flags|=t,m.memoizedState=_i(1|o,p,a,r))}function Of(t,o){Al(8390656,8,t,o)}function Fr(t,o){bl(2048,8,t,o)}function sS(t){be.flags|=4;var o=be.updateQueue;if(o===null)o=El(),be.updateQueue=o,o.events=[t];else{var a=o.events;a===null?o.events=[t]:a.push(t)}}function kf(t){var o=rt().memoizedState;return sS({ref:o,nextImpl:t}),function(){if((qe&2)!==0)throw Error(l(440));return o.impl.apply(void 0,arguments)}}function Ff(t,o){return bl(4,2,t,o)}function Jf(t,o){return bl(4,4,t,o)}function Yf(t,o){if(typeof o=="function"){t=t();var a=o(t);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function $f(t,o,a){a=a!=null?a.concat([t]):null,bl(4,4,Yf.bind(null,o,t),a)}function Jr(){}function Kf(t,o){var a=rt();o=o===void 0?null:o;var r=a.memoizedState;return o!==null&&Lr(o,r[1])?r[0]:(a.memoizedState=[t,o],t)}function Xf(t,o){var a=rt();o=o===void 0?null:o;var r=a.memoizedState;if(o!==null&&Lr(o,r[1]))return r[0];if(r=t(),Vo){it(!0);try{t()}finally{it(!1)}}return a.memoizedState=[r,o],r}function Yr(t,o,a){return a===void 0||(Un&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=o:(t.memoizedState=a,t=Qm(),be.lanes|=t,ro|=t,a)}function Qf(t,o,a,r){return Ft(a,o)?a:Ci.current!==null?(t=Yr(t,a,r),Ft(t,o)||(ft=!0),t):(Un&42)===0||(Un&1073741824)!==0&&(Ue&261930)===0?(ft=!0,t.memoizedState=a):(t=Qm(),be.lanes|=t,ro|=t,o)}function Zf(t,o,a,r,m){var p=k.p;k.p=p!==0&&8>p?p:8;var E=U.T,x={};U.T=x,Xr(t,!1,o,a);try{var I=m(),P=U.S;if(P!==null&&P(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=nS(I,r);ya(t,o,F,Qt(t))}else ya(t,o,r,Qt(t))}catch(X){ya(t,o,{then:function(){},status:"rejected",reason:X},Qt())}finally{k.p=p,E!==null&&x.types!==null&&(E.types=x.types),U.T=E}}function rS(){}function $r(t,o,a,r){if(t.tag!==5)throw Error(l(476));var m=jf(t).queue;Zf(t,m,o,te,a===null?rS:function(){return Wf(t),a(r)})}function jf(t){var o=t.memoizedState;if(o!==null)return o;o={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:te},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:a},next:null},t.memoizedState=o,t=t.alternate,t!==null&&(t.memoizedState=o),o}function Wf(t){var o=jf(t);o.next===null&&(o=t.alternate.memoizedState),ya(t,o.next.queue,{},Qt())}function Kr(){return Et(La)}function em(){return rt().memoizedState}function tm(){return rt().memoizedState}function uS(t){for(var o=t.return;o!==null;){switch(o.tag){case 24:case 3:var a=Qt();t=no(a);var r=oo(o,t,a);r!==null&&(qt(r,o,a),fa(r,o,a)),o={cache:xr()},t.payload=o;return}o=o.return}}function cS(t,o,a){var r=Qt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nl(t)?om(o,a):(a=fr(t,o,a,r),a!==null&&(qt(a,t,r),im(a,o,r)))}function nm(t,o,a){var r=Qt();ya(t,o,a,r)}function ya(t,o,a,r){var m={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nl(t))om(o,m);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=o.lastRenderedReducer,p!==null))try{var E=o.lastRenderedState,x=p(E,a);if(m.hasEagerState=!0,m.eagerState=x,Ft(x,E))return sl(t,o,m,0),Ze===null&&ll(),!1}catch{}finally{}if(a=fr(t,o,m,r),a!==null)return qt(a,t,r),im(a,o,r),!0}return!1}function Xr(t,o,a,r){if(r={lane:2,revertLane:Nu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Nl(t)){if(o)throw Error(l(479))}else o=fr(t,a,r,2),o!==null&&qt(o,t,2)}function Nl(t){var o=t.alternate;return t===be||o!==null&&o===be}function om(t,o){Ei=Tl=!0;var a=t.pending;a===null?o.next=o:(o.next=a.next,a.next=o),t.pending=o}function im(t,o,a){if((a&4194048)!==0){var r=o.lanes;r&=t.pendingLanes,a|=r,o.lanes=a,rd(t,a)}}var va={readContext:Et,use:xl,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};va.useEffectEvent=at;var am={readContext:Et,use:xl,useCallback:function(t,o){return Rt().memoizedState=[t,o===void 0?null:o],t},useContext:Et,useEffect:Of,useImperativeHandle:function(t,o,a){a=a!=null?a.concat([t]):null,Al(4194308,4,Yf.bind(null,o,t),a)},useLayoutEffect:function(t,o){return Al(4194308,4,t,o)},useInsertionEffect:function(t,o){Al(4,2,t,o)},useMemo:function(t,o){var a=Rt();o=o===void 0?null:o;var r=t();if(Vo){it(!0);try{t()}finally{it(!1)}}return a.memoizedState=[r,o],r},useReducer:function(t,o,a){var r=Rt();if(a!==void 0){var m=a(o);if(Vo){it(!0);try{a(o)}finally{it(!1)}}}else m=o;return r.memoizedState=r.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},r.queue=t,t=t.dispatch=cS.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var o=Rt();return t={current:t},o.memoizedState=t},useState:function(t){t=Or(t);var o=t.queue,a=nm.bind(null,be,o);return o.dispatch=a,[t.memoizedState,a]},useDebugValue:Jr,useDeferredValue:function(t,o){var a=Rt();return Yr(a,t,o)},useTransition:function(){var t=Or(!1);return t=Zf.bind(null,be,t.queue,!0,!1),Rt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,o,a){var r=be,m=Rt();if(Pe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=o(),Ze===null)throw Error(l(349));(Ue&127)!==0||bf(r,o,a)}m.memoizedState=a;var p={value:a,getSnapshot:o};return m.queue=p,Of(If.bind(null,r,p,t),[t]),r.flags|=2048,_i(9,{destroy:void 0},Nf.bind(null,r,p,a,o),null),a},useId:function(){var t=Rt(),o=Ze.identifierPrefix;if(Pe){var a=Cn,r=Tn;a=(r&~(1<<32-tt(r)-1)).toString(32)+a,o="_"+o+"R_"+a,a=Cl++,0<a&&(o+="H"+a.toString(32)),o+="_"}else a=oS++,o="_"+o+"r_"+a.toString(32)+"_";return t.memoizedState=o},useHostTransitionStatus:Kr,useFormState:Bf,useActionState:Bf,useOptimistic:function(t){var o=Rt();o.memoizedState=o.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=Xr.bind(null,be,!0,a),a.dispatch=o,[t,o]},useMemoCache:Vr,useCacheRefresh:function(){return Rt().memoizedState=uS.bind(null,be)},useEffectEvent:function(t){var o=Rt(),a={impl:t};return o.memoizedState=a,function(){if((qe&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Qr={readContext:Et,use:xl,useCallback:Kf,useContext:Et,useEffect:Fr,useImperativeHandle:$f,useInsertionEffect:Ff,useLayoutEffect:Jf,useMemo:Xf,useReducer:_l,useRef:qf,useState:function(){return _l(Ln)},useDebugValue:Jr,useDeferredValue:function(t,o){var a=rt();return Qf(a,$e.memoizedState,t,o)},useTransition:function(){var t=_l(Ln)[0],o=rt().memoizedState;return[typeof t=="boolean"?t:ga(t),o]},useSyncExternalStore:Af,useId:em,useHostTransitionStatus:Kr,useFormState:Hf,useActionState:Hf,useOptimistic:function(t,o){var a=rt();return Rf(a,$e,t,o)},useMemoCache:Vr,useCacheRefresh:tm};Qr.useEffectEvent=kf;var lm={readContext:Et,use:xl,useCallback:Kf,useContext:Et,useEffect:Fr,useImperativeHandle:$f,useInsertionEffect:Ff,useLayoutEffect:Jf,useMemo:Xf,useReducer:qr,useRef:qf,useState:function(){return qr(Ln)},useDebugValue:Jr,useDeferredValue:function(t,o){var a=rt();return $e===null?Yr(a,t,o):Qf(a,$e.memoizedState,t,o)},useTransition:function(){var t=qr(Ln)[0],o=rt().memoizedState;return[typeof t=="boolean"?t:ga(t),o]},useSyncExternalStore:Af,useId:em,useHostTransitionStatus:Kr,useFormState:zf,useActionState:zf,useOptimistic:function(t,o){var a=rt();return $e!==null?Rf(a,$e,t,o):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Vr,useCacheRefresh:tm};lm.useEffectEvent=kf;function Zr(t,o,a,r){o=t.memoizedState,a=a(r,o),a=a==null?o:C({},o,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jr={enqueueSetState:function(t,o,a){t=t._reactInternals;var r=Qt(),m=no(r);m.payload=o,a!=null&&(m.callback=a),o=oo(t,m,r),o!==null&&(qt(o,t,r),fa(o,t,r))},enqueueReplaceState:function(t,o,a){t=t._reactInternals;var r=Qt(),m=no(r);m.tag=1,m.payload=o,a!=null&&(m.callback=a),o=oo(t,m,r),o!==null&&(qt(o,t,r),fa(o,t,r))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var a=Qt(),r=no(a);r.tag=2,o!=null&&(r.callback=o),o=oo(t,r,a),o!==null&&(qt(o,t,a),fa(o,t,a))}};function sm(t,o,a,r,m,p,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,p,E):o.prototype&&o.prototype.isPureReactComponent?!ia(a,r)||!ia(m,p):!0}function rm(t,o,a,r){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,r),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,r),o.state!==t&&jr.enqueueReplaceState(o,o.state,null)}function zo(t,o){var a=o;if("ref"in o){a={};for(var r in o)r!=="ref"&&(a[r]=o[r])}if(t=t.defaultProps){a===o&&(a=C({},a));for(var m in t)a[m]===void 0&&(a[m]=t[m])}return a}function um(t){al(t)}function cm(t){console.error(t)}function dm(t){al(t)}function Il(t,o){try{var a=t.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(r){setTimeout(function(){throw r})}}function fm(t,o,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Wr(t,o,a){return a=no(a),a.tag=3,a.payload={element:null},a.callback=function(){Il(t,o)},a}function mm(t){return t=no(t),t.tag=3,t}function pm(t,o,a,r){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var p=r.value;t.payload=function(){return m(p)},t.callback=function(){fm(o,a,r)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){fm(o,a,r),typeof m!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})})}function dS(t,o,a,r,m){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(o=a.alternate,o!==null&&gi(o,a,m,!0),a=Yt.current,a!==null){switch(a.tag){case 31:case 13:return rn===null?zl():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=m,r===hl?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([r]):o.add(r),_u(t,r,m)),!1;case 22:return a.flags|=65536,r===hl?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([r]):a.add(r)),_u(t,r,m)),!1}throw Error(l(435,a.tag))}return _u(t,r,m),zl(),!1}if(Pe)return o=Yt.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,r!==vr&&(t=Error(l(422),{cause:r}),sa(on(t,a)))):(r!==vr&&(o=Error(l(423),{cause:r}),sa(on(o,a))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,r=on(r,a),m=Wr(t.stateNode,r,m),Mr(t,m),lt!==4&&(lt=2)),!1;var p=Error(l(520),{cause:r});if(p=on(p,a),ba===null?ba=[p]:ba.push(p),lt!==4&&(lt=2),o===null)return!0;r=on(r,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,t=m&-m,a.lanes|=t,t=Wr(a.stateNode,r,t),Mr(a,t),!1;case 1:if(o=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(uo===null||!uo.has(p))))return a.flags|=65536,m&=-m,a.lanes|=m,m=mm(m),pm(m,t,a,r),Mr(a,m),!1}a=a.return}while(a!==null);return!1}var eu=Error(l(461)),ft=!1;function xt(t,o,a,r){o.child=t===null?vf(o,null,a,r):Ho(o,t.child,a,r)}function hm(t,o,a,r,m){a=a.render;var p=o.ref;if("ref"in r){var E={};for(var x in r)x!=="ref"&&(E[x]=r[x])}else E=r;return Lo(o),r=Pr(t,o,a,E,p,m),x=Gr(),t!==null&&!ft?(Br(t,o,m),Pn(t,o,m)):(Pe&&x&&gr(o),o.flags|=1,xt(t,o,r,m),o.child)}function gm(t,o,a,r,m){if(t===null){var p=a.type;return typeof p=="function"&&!mr(p)&&p.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=p,ym(t,o,p,r,m)):(t=ul(a.type,null,r,o,o.mode,m),t.ref=o.ref,t.return=o,o.child=t)}if(p=t.child,!ru(t,m)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:ia,a(E,r)&&t.ref===o.ref)return Pn(t,o,m)}return o.flags|=1,t=Mn(p,r),t.ref=o.ref,t.return=o,o.child=t}function ym(t,o,a,r,m){if(t!==null){var p=t.memoizedProps;if(ia(p,r)&&t.ref===o.ref)if(ft=!1,o.pendingProps=r=p,ru(t,m))(t.flags&131072)!==0&&(ft=!0);else return o.lanes=t.lanes,Pn(t,o,m)}return tu(t,o,a,r,m)}function vm(t,o,a,r){var m=r.children,p=t!==null?t.memoizedState:null;if(t===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((o.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,t!==null){for(r=o.child=t.child,m=0;r!==null;)m=m|r.lanes|r.childLanes,r=r.sibling;r=m&~p}else r=0,o.child=null;return Sm(t,o,p,a,r)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},t!==null&&ml(o,p!==null?p.cachePool:null),p!==null?Cf(o,p):Rr(),Ef(o);else return r=o.lanes=536870912,Sm(t,o,p!==null?p.baseLanes|a:a,a,r)}else p!==null?(ml(o,p.cachePool),Cf(o,p),ao(),o.memoizedState=null):(t!==null&&ml(o,null),Rr(),ao());return xt(t,o,m,a),o.child}function Sa(t,o){return t!==null&&t.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Sm(t,o,a,r,m){var p=Ar();return p=p===null?null:{parent:ct._currentValue,pool:p},o.memoizedState={baseLanes:a,cachePool:p},t!==null&&ml(o,null),Rr(),Ef(o),t!==null&&gi(t,o,r,!0),o.childLanes=m,null}function Ml(t,o){return o=Rl({mode:o.mode,children:o.children},t.mode),o.ref=t.ref,t.child=o,o.return=t,o}function Tm(t,o,a){return Ho(o,t.child,null,a),t=Ml(o,o.pendingProps),t.flags|=2,$t(o),o.memoizedState=null,t}function fS(t,o,a){var r=o.pendingProps,m=(o.flags&128)!==0;if(o.flags&=-129,t===null){if(Pe){if(r.mode==="hidden")return t=Ml(o,r),o.lanes=536870912,Sa(null,t);if(Ur(o),(t=je)?(t=Dp(t,sn),t=t!==null&&t.data==="&"?t:null,t!==null&&(o.memoizedState={dehydrated:t,treeContext:Zn!==null?{id:Tn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},a=nf(t),a.return=o,o.child=a,Ct=o,je=null)):t=null,t===null)throw Wn(o);return o.lanes=536870912,null}return Ml(o,r)}var p=t.memoizedState;if(p!==null){var E=p.dehydrated;if(Ur(o),m)if(o.flags&256)o.flags&=-257,o=Tm(t,o,a);else if(o.memoizedState!==null)o.child=t.child,o.flags|=128,o=null;else throw Error(l(558));else if(ft||gi(t,o,a,!1),m=(a&t.childLanes)!==0,ft||m){if(r=Ze,r!==null&&(E=ud(r,a),E!==0&&E!==p.retryLane))throw p.retryLane=E,wo(t,E),qt(r,t,E),eu;zl(),o=Tm(t,o,a)}else t=p.treeContext,je=un(E.nextSibling),Ct=o,Pe=!0,jn=null,sn=!1,t!==null&&lf(o,t),o=Ml(o,r),o.flags|=4096;return o}return t=Mn(t.child,{mode:r.mode,children:r.children}),t.ref=o.ref,o.child=t,t.return=o,t}function wl(t,o){var a=o.ref;if(a===null)t!==null&&t.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(t===null||t.ref!==a)&&(o.flags|=4194816)}}function tu(t,o,a,r,m){return Lo(o),a=Pr(t,o,a,r,void 0,m),r=Gr(),t!==null&&!ft?(Br(t,o,m),Pn(t,o,m)):(Pe&&r&&gr(o),o.flags|=1,xt(t,o,a,m),o.child)}function Cm(t,o,a,r,m,p){return Lo(o),o.updateQueue=null,a=_f(o,r,a,m),xf(t),r=Gr(),t!==null&&!ft?(Br(t,o,p),Pn(t,o,p)):(Pe&&r&&gr(o),o.flags|=1,xt(t,o,a,p),o.child)}function Em(t,o,a,r,m){if(Lo(o),o.stateNode===null){var p=fi,E=a.contextType;typeof E=="object"&&E!==null&&(p=Et(E)),p=new a(r,p),o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=jr,o.stateNode=p,p._reactInternals=o,p=o.stateNode,p.props=r,p.state=o.memoizedState,p.refs={},Nr(o),E=a.contextType,p.context=typeof E=="object"&&E!==null?Et(E):fi,p.state=o.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Zr(o,a,E,r),p.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&jr.enqueueReplaceState(p,p.state,null),pa(o,r,p,m),ma(),p.state=o.memoizedState),typeof p.componentDidMount=="function"&&(o.flags|=4194308),r=!0}else if(t===null){p=o.stateNode;var x=o.memoizedProps,I=zo(a,x);p.props=I;var P=p.context,F=a.contextType;E=fi,typeof F=="object"&&F!==null&&(E=Et(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=o.pendingProps!==x,F||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||P!==E)&&rm(o,p,r,E),to=!1;var G=o.memoizedState;p.state=G,pa(o,r,p,m),ma(),P=o.memoizedState,x||G!==P||to?(typeof X=="function"&&(Zr(o,a,X,r),P=o.memoizedState),(I=to||sm(o,a,I,r,G,P,E))?(F||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(o.flags|=4194308)):(typeof p.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=r,o.memoizedState=P),p.props=r,p.state=P,p.context=E,r=I):(typeof p.componentDidMount=="function"&&(o.flags|=4194308),r=!1)}else{p=o.stateNode,Ir(t,o),E=o.memoizedProps,F=zo(a,E),p.props=F,X=o.pendingProps,G=p.context,P=a.contextType,I=fi,typeof P=="object"&&P!==null&&(I=Et(P)),x=a.getDerivedStateFromProps,(P=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==X||G!==I)&&rm(o,p,r,I),to=!1,G=o.memoizedState,p.state=G,pa(o,r,p,m),ma();var V=o.memoizedState;E!==X||G!==V||to||t!==null&&t.dependencies!==null&&dl(t.dependencies)?(typeof x=="function"&&(Zr(o,a,x,r),V=o.memoizedState),(F=to||sm(o,a,F,r,G,V,I)||t!==null&&t.dependencies!==null&&dl(t.dependencies))?(P||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,V,I),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,V,I)),typeof p.componentDidUpdate=="function"&&(o.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(o.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(o.flags|=1024),o.memoizedProps=r,o.memoizedState=V),p.props=r,p.state=V,p.context=I,r=F):(typeof p.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(o.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(o.flags|=1024),r=!1)}return p=r,wl(t,o),r=(o.flags&128)!==0,p||r?(p=o.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:p.render(),o.flags|=1,t!==null&&r?(o.child=Ho(o,t.child,null,m),o.child=Ho(o,null,a,m)):xt(t,o,a,m),o.memoizedState=p.state,t=o.child):t=Pn(t,o,m),t}function xm(t,o,a,r){return Do(),o.flags|=256,xt(t,o,a,r),o.child}var nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ou(t){return{baseLanes:t,cachePool:ff()}}function iu(t,o,a){return t=t!==null?t.childLanes&~a:0,o&&(t|=Xt),t}function _m(t,o,a){var r=o.pendingProps,m=!1,p=(o.flags&128)!==0,E;if((E=p)||(E=t!==null&&t.memoizedState===null?!1:(st.current&2)!==0),E&&(m=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,t===null){if(Pe){if(m?io(o):ao(),(t=je)?(t=Dp(t,sn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(o.memoizedState={dehydrated:t,treeContext:Zn!==null?{id:Tn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},a=nf(t),a.return=o,o.child=a,Ct=o,je=null)):t=null,t===null)throw Wn(o);return zu(t)?o.lanes=32:o.lanes=536870912,null}var x=r.children;return r=r.fallback,m?(ao(),m=o.mode,x=Rl({mode:"hidden",children:x},m),r=Ro(r,m,a,null),x.return=o,r.return=o,x.sibling=r,o.child=x,r=o.child,r.memoizedState=ou(a),r.childLanes=iu(t,E,a),o.memoizedState=nu,Sa(null,r)):(io(o),au(o,x))}var I=t.memoizedState;if(I!==null&&(x=I.dehydrated,x!==null)){if(p)o.flags&256?(io(o),o.flags&=-257,o=lu(t,o,a)):o.memoizedState!==null?(ao(),o.child=t.child,o.flags|=128,o=null):(ao(),x=r.fallback,m=o.mode,r=Rl({mode:"visible",children:r.children},m),x=Ro(x,m,a,null),x.flags|=2,r.return=o,x.return=o,r.sibling=x,o.child=r,Ho(o,t.child,null,a),r=o.child,r.memoizedState=ou(a),r.childLanes=iu(t,E,a),o.memoizedState=nu,o=Sa(null,r));else if(io(o),zu(x)){if(E=x.nextSibling&&x.nextSibling.dataset,E)var P=E.dgst;E=P,r=Error(l(419)),r.stack="",r.digest=E,sa({value:r,source:null,stack:null}),o=lu(t,o,a)}else if(ft||gi(t,o,a,!1),E=(a&t.childLanes)!==0,ft||E){if(E=Ze,E!==null&&(r=ud(E,a),r!==0&&r!==I.retryLane))throw I.retryLane=r,wo(t,r),qt(E,t,r),eu;Vu(x)||zl(),o=lu(t,o,a)}else Vu(x)?(o.flags|=192,o.child=t.child,o=null):(t=I.treeContext,je=un(x.nextSibling),Ct=o,Pe=!0,jn=null,sn=!1,t!==null&&lf(o,t),o=au(o,r.children),o.flags|=4096);return o}return m?(ao(),x=r.fallback,m=o.mode,I=t.child,P=I.sibling,r=Mn(I,{mode:"hidden",children:r.children}),r.subtreeFlags=I.subtreeFlags&65011712,P!==null?x=Mn(P,x):(x=Ro(x,m,a,null),x.flags|=2),x.return=o,r.return=o,r.sibling=x,o.child=r,Sa(null,r),r=o.child,x=t.child.memoizedState,x===null?x=ou(a):(m=x.cachePool,m!==null?(I=ct._currentValue,m=m.parent!==I?{parent:I,pool:I}:m):m=ff(),x={baseLanes:x.baseLanes|a,cachePool:m}),r.memoizedState=x,r.childLanes=iu(t,E,a),o.memoizedState=nu,Sa(t.child,r)):(io(o),a=t.child,t=a.sibling,a=Mn(a,{mode:"visible",children:r.children}),a.return=o,a.sibling=null,t!==null&&(E=o.deletions,E===null?(o.deletions=[t],o.flags|=16):E.push(t)),o.child=a,o.memoizedState=null,a)}function au(t,o){return o=Rl({mode:"visible",children:o},t.mode),o.return=t,t.child=o}function Rl(t,o){return t=Jt(22,t,null,o),t.lanes=0,t}function lu(t,o,a){return Ho(o,t.child,null,a),t=au(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function Am(t,o,a){t.lanes|=o;var r=t.alternate;r!==null&&(r.lanes|=o),Cr(t.return,o,a)}function su(t,o,a,r,m,p){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:m,treeForkCount:p}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=r,E.tail=a,E.tailMode=m,E.treeForkCount=p)}function bm(t,o,a){var r=o.pendingProps,m=r.revealOrder,p=r.tail;r=r.children;var E=st.current,x=(E&2)!==0;if(x?(E=E&1|2,o.flags|=128):E&=1,ee(st,E),xt(t,o,r,a),r=Pe?la:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Am(t,a,o);else if(t.tag===19)Am(t,a,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(a=o.child,m=null;a!==null;)t=a.alternate,t!==null&&Sl(t)===null&&(m=a),a=a.sibling;a=m,a===null?(m=o.child,o.child=null):(m=a.sibling,a.sibling=null),su(o,!1,m,a,p,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=o.child,o.child=null;m!==null;){if(t=m.alternate,t!==null&&Sl(t)===null){o.child=m;break}t=m.sibling,m.sibling=a,a=m,m=t}su(o,!0,a,null,p,r);break;case"together":su(o,!1,null,null,void 0,r);break;default:o.memoizedState=null}return o.child}function Pn(t,o,a){if(t!==null&&(o.dependencies=t.dependencies),ro|=o.lanes,(a&o.childLanes)===0)if(t!==null){if(gi(t,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(t!==null&&o.child!==t.child)throw Error(l(153));if(o.child!==null){for(t=o.child,a=Mn(t,t.pendingProps),o.child=a,a.return=o;t.sibling!==null;)t=t.sibling,a=a.sibling=Mn(t,t.pendingProps),a.return=o;a.sibling=null}return o.child}function ru(t,o){return(t.lanes&o)!==0?!0:(t=t.dependencies,!!(t!==null&&dl(t)))}function mS(t,o,a){switch(o.tag){case 3:ut(o,o.stateNode.containerInfo),eo(o,ct,t.memoizedState.cache),Do();break;case 27:case 5:ot(o);break;case 4:ut(o,o.stateNode.containerInfo);break;case 10:eo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ur(o),null;break;case 13:var r=o.memoizedState;if(r!==null)return r.dehydrated!==null?(io(o),o.flags|=128,null):(a&o.child.childLanes)!==0?_m(t,o,a):(io(o),t=Pn(t,o,a),t!==null?t.sibling:null);io(o);break;case 19:var m=(t.flags&128)!==0;if(r=(a&o.childLanes)!==0,r||(gi(t,o,a,!1),r=(a&o.childLanes)!==0),m){if(r)return bm(t,o,a);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ee(st,st.current),r)break;return null;case 22:return o.lanes=0,vm(t,o,a,o.pendingProps);case 24:eo(o,ct,t.memoizedState.cache)}return Pn(t,o,a)}function Nm(t,o,a){if(t!==null)if(t.memoizedProps!==o.pendingProps)ft=!0;else{if(!ru(t,a)&&(o.flags&128)===0)return ft=!1,mS(t,o,a);ft=(t.flags&131072)!==0}else ft=!1,Pe&&(o.flags&1048576)!==0&&af(o,la,o.index);switch(o.lanes=0,o.tag){case 16:e:{var r=o.pendingProps;if(t=Go(o.elementType),o.type=t,typeof t=="function")mr(t)?(r=zo(t,r),o.tag=1,o=Em(null,o,t,r,a)):(o.tag=0,o=tu(null,o,t,r,a));else{if(t!=null){var m=t.$$typeof;if(m===O){o.tag=11,o=hm(null,o,t,r,a);break e}else if(m===Z){o.tag=14,o=gm(null,o,t,r,a);break e}}throw o=W(t)||t,Error(l(306,o,""))}}return o;case 0:return tu(t,o,o.type,o.pendingProps,a);case 1:return r=o.type,m=zo(r,o.pendingProps),Em(t,o,r,m,a);case 3:e:{if(ut(o,o.stateNode.containerInfo),t===null)throw Error(l(387));r=o.pendingProps;var p=o.memoizedState;m=p.element,Ir(t,o),pa(o,r,null,a);var E=o.memoizedState;if(r=E.cache,eo(o,ct,r),r!==p.cache&&Er(o,[ct],a,!0),ma(),r=E.element,p.isDehydrated)if(p={element:r,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=p,o.memoizedState=p,o.flags&256){o=xm(t,o,r,a);break e}else if(r!==m){m=on(Error(l(424)),o),sa(m),o=xm(t,o,r,a);break e}else{switch(t=o.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(je=un(t.firstChild),Ct=o,Pe=!0,jn=null,sn=!0,a=vf(o,null,r,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Do(),r===m){o=Pn(t,o,a);break e}xt(t,o,r,a)}o=o.child}return o;case 26:return wl(t,o),t===null?(a=Hp(o.type,null,o.pendingProps,null))?o.memoizedState=a:Pe||(a=o.type,t=o.pendingProps,r=$l(_e.current).createElement(a),r[Tt]=o,r[Pt]=t,_t(r,a,t),yt(r),o.stateNode=r):o.memoizedState=Hp(o.type,t.memoizedProps,o.pendingProps,t.memoizedState),null;case 27:return ot(o),t===null&&Pe&&(r=o.stateNode=Pp(o.type,o.pendingProps,_e.current),Ct=o,sn=!0,m=je,po(o.type)?(qu=m,je=un(r.firstChild)):je=m),xt(t,o,o.pendingProps.children,a),wl(t,o),t===null&&(o.flags|=4194304),o.child;case 5:return t===null&&Pe&&((m=r=je)&&(r=kS(r,o.type,o.pendingProps,sn),r!==null?(o.stateNode=r,Ct=o,je=un(r.firstChild),sn=!1,m=!0):m=!1),m||Wn(o)),ot(o),m=o.type,p=o.pendingProps,E=t!==null?t.memoizedProps:null,r=p.children,Gu(m,p)?r=null:E!==null&&Gu(m,E)&&(o.flags|=32),o.memoizedState!==null&&(m=Pr(t,o,iS,null,null,a),La._currentValue=m),wl(t,o),xt(t,o,r,a),o.child;case 6:return t===null&&Pe&&((t=a=je)&&(a=FS(a,o.pendingProps,sn),a!==null?(o.stateNode=a,Ct=o,je=null,t=!0):t=!1),t||Wn(o)),null;case 13:return _m(t,o,a);case 4:return ut(o,o.stateNode.containerInfo),r=o.pendingProps,t===null?o.child=Ho(o,null,r,a):xt(t,o,r,a),o.child;case 11:return hm(t,o,o.type,o.pendingProps,a);case 7:return xt(t,o,o.pendingProps,a),o.child;case 8:return xt(t,o,o.pendingProps.children,a),o.child;case 12:return xt(t,o,o.pendingProps.children,a),o.child;case 10:return r=o.pendingProps,eo(o,o.type,r.value),xt(t,o,r.children,a),o.child;case 9:return m=o.type._context,r=o.pendingProps.children,Lo(o),m=Et(m),r=r(m),o.flags|=1,xt(t,o,r,a),o.child;case 14:return gm(t,o,o.type,o.pendingProps,a);case 15:return ym(t,o,o.type,o.pendingProps,a);case 19:return bm(t,o,a);case 31:return fS(t,o,a);case 22:return vm(t,o,a,o.pendingProps);case 24:return Lo(o),r=Et(ct),t===null?(m=Ar(),m===null&&(m=Ze,p=xr(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=a),m=p),o.memoizedState={parent:r,cache:m},Nr(o),eo(o,ct,m)):((t.lanes&a)!==0&&(Ir(t,o),pa(o,null,null,a),ma()),m=t.memoizedState,p=o.memoizedState,m.parent!==r?(m={parent:r,cache:r},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),eo(o,ct,r)):(r=p.cache,eo(o,ct,r),r!==m.cache&&Er(o,[ct],a,!0))),xt(t,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(l(156,o.tag))}function Gn(t){t.flags|=4}function uu(t,o,a,r,m){if((o=(t.mode&32)!==0)&&(o=!1),o){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(ep())t.flags|=8192;else throw Bo=hl,br}else t.flags&=-16777217}function Im(t,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kp(o))if(ep())t.flags|=8192;else throw Bo=hl,br}function Dl(t,o){o!==null&&(t.flags|=4),t.flags&16384&&(o=t.tag!==22?ld():536870912,t.lanes|=o,Ii|=o)}function Ta(t,o){if(!Pe)switch(t.tailMode){case"hidden":o=t.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function We(t){var o=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(o)for(var m=t.child;m!==null;)a|=m.lanes|m.childLanes,r|=m.subtreeFlags&65011712,r|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)a|=m.lanes|m.childLanes,r|=m.subtreeFlags,r|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=r,t.childLanes=a,o}function pS(t,o,a){var r=o.pendingProps;switch(yr(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(o),null;case 1:return We(o),null;case 3:return a=o.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),o.memoizedState.cache!==r&&(o.flags|=2048),Dn(ct),de(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(hi(o)?Gn(o):t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Sr())),We(o),null;case 26:var m=o.type,p=o.memoizedState;return t===null?(Gn(o),p!==null?(We(o),Im(o,p)):(We(o),uu(o,m,null,r,a))):p?p!==t.memoizedState?(Gn(o),We(o),Im(o,p)):(We(o),o.flags&=-16777217):(t=t.memoizedProps,t!==r&&Gn(o),We(o),uu(o,m,t,r,a)),null;case 27:if(pt(o),a=_e.current,m=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==r&&Gn(o);else{if(!r){if(o.stateNode===null)throw Error(l(166));return We(o),null}t=le.current,hi(o)?sf(o):(t=Pp(m,r,a),o.stateNode=t,Gn(o))}return We(o),null;case 5:if(pt(o),m=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==r&&Gn(o);else{if(!r){if(o.stateNode===null)throw Error(l(166));return We(o),null}if(p=le.current,hi(o))sf(o);else{var E=$l(_e.current);switch(p){case 1:p=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=E.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof r.is=="string"?E.createElement("select",{is:r.is}):E.createElement("select"),r.multiple?p.multiple=!0:r.size&&(p.size=r.size);break;default:p=typeof r.is=="string"?E.createElement(m,{is:r.is}):E.createElement(m)}}p[Tt]=o,p[Pt]=r;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=p;e:switch(_t(p,m,r),m){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Gn(o)}}return We(o),uu(o,o.type,t===null?null:t.memoizedProps,o.pendingProps,a),null;case 6:if(t&&o.stateNode!=null)t.memoizedProps!==r&&Gn(o);else{if(typeof r!="string"&&o.stateNode===null)throw Error(l(166));if(t=_e.current,hi(o)){if(t=o.stateNode,a=o.memoizedProps,r=null,m=Ct,m!==null)switch(m.tag){case 27:case 5:r=m.memoizedProps}t[Tt]=o,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||_p(t.nodeValue,a)),t||Wn(o,!0)}else t=$l(t).createTextNode(r),t[Tt]=o,o.stateNode=t}return We(o),null;case 31:if(a=o.memoizedState,t===null||t.memoizedState!==null){if(r=hi(o),a!==null){if(t===null){if(!r)throw Error(l(318));if(t=o.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[Tt]=o}else Do(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;We(o),t=!1}else a=Sr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return o.flags&256?($t(o),o):($t(o),null);if((o.flags&128)!==0)throw Error(l(558))}return We(o),null;case 13:if(r=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=hi(o),r!==null&&r.dehydrated!==null){if(t===null){if(!m)throw Error(l(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(l(317));m[Tt]=o}else Do(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;We(o),m=!1}else m=Sr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?($t(o),o):($t(o),null)}return $t(o),(o.flags&128)!==0?(o.lanes=a,o):(a=r!==null,t=t!==null&&t.memoizedState!==null,a&&(r=o.child,m=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(m=r.alternate.memoizedState.cachePool.pool),p=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(p=r.memoizedState.cachePool.pool),p!==m&&(r.flags|=2048)),a!==t&&a&&(o.child.flags|=8192),Dl(o,o.updateQueue),We(o),null);case 4:return de(),t===null&&Ru(o.stateNode.containerInfo),We(o),null;case 10:return Dn(o.type),We(o),null;case 19:if($(st),r=o.memoizedState,r===null)return We(o),null;if(m=(o.flags&128)!==0,p=r.rendering,p===null)if(m)Ta(r,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(p=Sl(t),p!==null){for(o.flags|=128,Ta(r,!1),t=p.updateQueue,o.updateQueue=t,Dl(o,t),o.subtreeFlags=0,t=a,a=o.child;a!==null;)tf(a,t),a=a.sibling;return ee(st,st.current&1|2),Pe&&wn(o,r.treeForkCount),o.child}t=t.sibling}r.tail!==null&&ve()>Bl&&(o.flags|=128,m=!0,Ta(r,!1),o.lanes=4194304)}else{if(!m)if(t=Sl(p),t!==null){if(o.flags|=128,m=!0,t=t.updateQueue,o.updateQueue=t,Dl(o,t),Ta(r,!0),r.tail===null&&r.tailMode==="hidden"&&!p.alternate&&!Pe)return We(o),null}else 2*ve()-r.renderingStartTime>Bl&&a!==536870912&&(o.flags|=128,m=!0,Ta(r,!1),o.lanes=4194304);r.isBackwards?(p.sibling=o.child,o.child=p):(t=r.last,t!==null?t.sibling=p:o.child=p,r.last=p)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ve(),t.sibling=null,a=st.current,ee(st,m?a&1|2:a&1),Pe&&wn(o,r.treeForkCount),t):(We(o),null);case 22:case 23:return $t(o),Dr(),r=o.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(o.flags|=8192):r&&(o.flags|=8192),r?(a&536870912)!==0&&(o.flags&128)===0&&(We(o),o.subtreeFlags&6&&(o.flags|=8192)):We(o),a=o.updateQueue,a!==null&&Dl(o,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==a&&(o.flags|=2048),t!==null&&$(Po),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),Dn(ct),We(o),null;case 25:return null;case 30:return null}throw Error(l(156,o.tag))}function hS(t,o){switch(yr(o),o.tag){case 1:return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return Dn(ct),de(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 26:case 27:case 5:return pt(o),null;case 31:if(o.memoizedState!==null){if($t(o),o.alternate===null)throw Error(l(340));Do()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 13:if($t(o),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(l(340));Do()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return $(st),null;case 4:return de(),null;case 10:return Dn(o.type),null;case 22:case 23:return $t(o),Dr(),t!==null&&$(Po),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 24:return Dn(ct),null;case 25:return null;default:return null}}function Mm(t,o){switch(yr(o),o.tag){case 3:Dn(ct),de();break;case 26:case 27:case 5:pt(o);break;case 4:de();break;case 31:o.memoizedState!==null&&$t(o);break;case 13:$t(o);break;case 19:$(st);break;case 10:Dn(o.type);break;case 22:case 23:$t(o),Dr(),t!==null&&$(Po);break;case 24:Dn(ct)}}function Ca(t,o){try{var a=o.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var m=r.next;a=m;do{if((a.tag&t)===t){r=void 0;var p=a.create,E=a.inst;r=p(),E.destroy=r}a=a.next}while(a!==m)}}catch(x){Ye(o,o.return,x)}}function lo(t,o,a){try{var r=o.updateQueue,m=r!==null?r.lastEffect:null;if(m!==null){var p=m.next;r=p;do{if((r.tag&t)===t){var E=r.inst,x=E.destroy;if(x!==void 0){E.destroy=void 0,m=o;var I=a,P=x;try{P()}catch(F){Ye(m,I,F)}}}r=r.next}while(r!==p)}}catch(F){Ye(o,o.return,F)}}function wm(t){var o=t.updateQueue;if(o!==null){var a=t.stateNode;try{Tf(o,a)}catch(r){Ye(t,t.return,r)}}}function Rm(t,o,a){a.props=zo(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){Ye(t,o,r)}}function Ea(t,o){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(m){Ye(t,o,m)}}function En(t,o){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(m){Ye(t,o,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Ye(t,o,m)}else a.current=null}function Dm(t){var o=t.type,a=t.memoizedProps,r=t.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(m){Ye(t,t.return,m)}}function cu(t,o,a){try{var r=t.stateNode;BS(r,t.type,a,o),r[Pt]=o}catch(m){Ye(t,t.return,m)}}function Um(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&po(t.type)||t.tag===4}function du(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Um(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&po(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fu(t,o,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(t),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Nn));else if(r!==4&&(r===27&&po(t.type)&&(a=t.stateNode,o=null),t=t.child,t!==null))for(fu(t,o,a),t=t.sibling;t!==null;)fu(t,o,a),t=t.sibling}function Ul(t,o,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,o?a.insertBefore(t,o):a.appendChild(t);else if(r!==4&&(r===27&&po(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ul(t,o,a),t=t.sibling;t!==null;)Ul(t,o,a),t=t.sibling}function Lm(t){var o=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);_t(o,r,a),o[Tt]=t,o[Pt]=a}catch(p){Ye(t,t.return,p)}}var Bn=!1,mt=!1,mu=!1,Pm=typeof WeakSet=="function"?WeakSet:Set,vt=null;function gS(t,o){if(t=t.containerInfo,Lu=es,t=Yd(t),lr(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var m=r.anchorOffset,p=r.focusNode;r=r.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,x=-1,I=-1,P=0,F=0,X=t,G=null;t:for(;;){for(var V;X!==a||m!==0&&X.nodeType!==3||(x=E+m),X!==p||r!==0&&X.nodeType!==3||(I=E+r),X.nodeType===3&&(E+=X.nodeValue.length),(V=X.firstChild)!==null;)G=X,X=V;for(;;){if(X===t)break t;if(G===a&&++P===m&&(x=E),G===p&&++F===r&&(I=E),(V=X.nextSibling)!==null)break;X=G,G=X.parentNode}X=V}a=x===-1||I===-1?null:{start:x,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pu={focusedElem:t,selectionRange:a},es=!1,vt=o;vt!==null;)if(o=vt,t=o.child,(o.subtreeFlags&1028)!==0&&t!==null)t.return=o,vt=t;else for(;vt!==null;){switch(o=vt,p=o.alternate,t=o.flags,o.tag){case 0:if((t&4)!==0&&(t=o.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)m=t[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,a=o,m=p.memoizedProps,p=p.memoizedState,r=a.stateNode;try{var re=zo(a.type,m);t=r.getSnapshotBeforeUpdate(re,p),r.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ye(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=o.stateNode.containerInfo,a=t.nodeType,a===9)Hu(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=o.sibling,t!==null){t.return=o.return,vt=t;break}vt=o.return}}function Gm(t,o,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Vn(t,a),r&4&&Ca(5,a);break;case 1:if(Vn(t,a),r&4)if(t=a.stateNode,o===null)try{t.componentDidMount()}catch(E){Ye(a,a.return,E)}else{var m=zo(a.type,o.memoizedProps);o=o.memoizedState;try{t.componentDidUpdate(m,o,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ye(a,a.return,E)}}r&64&&wm(a),r&512&&Ea(a,a.return);break;case 3:if(Vn(t,a),r&64&&(t=a.updateQueue,t!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{Tf(t,o)}catch(E){Ye(a,a.return,E)}}break;case 27:o===null&&r&4&&Lm(a);case 26:case 5:Vn(t,a),o===null&&r&4&&Dm(a),r&512&&Ea(a,a.return);break;case 12:Vn(t,a);break;case 31:Vn(t,a),r&4&&Vm(t,a);break;case 13:Vn(t,a),r&4&&zm(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=AS.bind(null,a),JS(t,a))));break;case 22:if(r=a.memoizedState!==null||Bn,!r){o=o!==null&&o.memoizedState!==null||mt,m=Bn;var p=mt;Bn=r,(mt=o)&&!p?zn(t,a,(a.subtreeFlags&8772)!==0):Vn(t,a),Bn=m,mt=p}break;case 30:break;default:Vn(t,a)}}function Bm(t){var o=t.alternate;o!==null&&(t.alternate=null,Bm(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&ks(o)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,Bt=!1;function Hn(t,o,a){for(a=a.child;a!==null;)Hm(t,o,a),a=a.sibling}function Hm(t,o,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Me,a)}catch{}switch(a.tag){case 26:mt||En(a,o),Hn(t,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||En(a,o);var r=nt,m=Bt;po(a.type)&&(nt=a.stateNode,Bt=!1),Hn(t,o,a),Ra(a.stateNode),nt=r,Bt=m;break;case 5:mt||En(a,o);case 6:if(r=nt,m=Bt,nt=null,Hn(t,o,a),nt=r,Bt=m,nt!==null)if(Bt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(p){Ye(a,o,p)}else try{nt.removeChild(a.stateNode)}catch(p){Ye(a,o,p)}break;case 18:nt!==null&&(Bt?(t=nt,wp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Gi(t)):wp(nt,a.stateNode));break;case 4:r=nt,m=Bt,nt=a.stateNode.containerInfo,Bt=!0,Hn(t,o,a),nt=r,Bt=m;break;case 0:case 11:case 14:case 15:lo(2,a,o),mt||lo(4,a,o),Hn(t,o,a);break;case 1:mt||(En(a,o),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Rm(a,o,r)),Hn(t,o,a);break;case 21:Hn(t,o,a);break;case 22:mt=(r=mt)||a.memoizedState!==null,Hn(t,o,a),mt=r;break;default:Hn(t,o,a)}}function Vm(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Gi(t)}catch(a){Ye(o,o.return,a)}}}function zm(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gi(t)}catch(a){Ye(o,o.return,a)}}function yS(t){switch(t.tag){case 31:case 13:case 19:var o=t.stateNode;return o===null&&(o=t.stateNode=new Pm),o;case 22:return t=t.stateNode,o=t._retryCache,o===null&&(o=t._retryCache=new Pm),o;default:throw Error(l(435,t.tag))}}function Ll(t,o){var a=yS(t);o.forEach(function(r){if(!a.has(r)){a.add(r);var m=bS.bind(null,t,r);r.then(m,m)}})}function Ht(t,o){var a=o.deletions;if(a!==null)for(var r=0;r<a.length;r++){var m=a[r],p=t,E=o,x=E;e:for(;x!==null;){switch(x.tag){case 27:if(po(x.type)){nt=x.stateNode,Bt=!1;break e}break;case 5:nt=x.stateNode,Bt=!1;break e;case 3:case 4:nt=x.stateNode.containerInfo,Bt=!0;break e}x=x.return}if(nt===null)throw Error(l(160));Hm(p,E,m),nt=null,Bt=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)qm(o,t),o=o.sibling}var pn=null;function qm(t,o){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ht(o,t),Vt(t),r&4&&(lo(3,t,t.return),Ca(3,t),lo(5,t,t.return));break;case 1:Ht(o,t),Vt(t),r&512&&(mt||a===null||En(a,a.return)),r&64&&Bn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var m=pn;if(Ht(o,t),Vt(t),r&512&&(mt||a===null||En(a,a.return)),r&4){var p=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){e:{r=t.type,a=t.memoizedProps,m=m.ownerDocument||m;t:switch(r){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Xi]||p[Tt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(r),m.head.insertBefore(p,m.querySelector("head > title"))),_t(p,r,a),p[Tt]=t,yt(p),r=p;break e;case"link":var E=qp("link","href",m).get(r+(a.href||""));if(E){for(var x=0;x<E.length;x++)if(p=E[x],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(x,1);break t}}p=m.createElement(r),_t(p,r,a),m.head.appendChild(p);break;case"meta":if(E=qp("meta","content",m).get(r+(a.content||""))){for(x=0;x<E.length;x++)if(p=E[x],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(x,1);break t}}p=m.createElement(r),_t(p,r,a),m.head.appendChild(p);break;default:throw Error(l(468,r))}p[Tt]=t,yt(p),r=p}t.stateNode=r}else Op(m,t.type,t.stateNode);else t.stateNode=zp(m,r,t.memoizedProps);else p!==r?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,r===null?Op(m,t.type,t.stateNode):zp(m,r,t.memoizedProps)):r===null&&t.stateNode!==null&&cu(t,t.memoizedProps,a.memoizedProps)}break;case 27:Ht(o,t),Vt(t),r&512&&(mt||a===null||En(a,a.return)),a!==null&&r&4&&cu(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Ht(o,t),Vt(t),r&512&&(mt||a===null||En(a,a.return)),t.flags&32){m=t.stateNode;try{ai(m,"")}catch(re){Ye(t,t.return,re)}}r&4&&t.stateNode!=null&&(m=t.memoizedProps,cu(t,m,a!==null?a.memoizedProps:m)),r&1024&&(mu=!0);break;case 6:if(Ht(o,t),Vt(t),r&4){if(t.stateNode===null)throw Error(l(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(re){Ye(t,t.return,re)}}break;case 3:if(Ql=null,m=pn,pn=Kl(o.containerInfo),Ht(o,t),pn=m,Vt(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Gi(o.containerInfo)}catch(re){Ye(t,t.return,re)}mu&&(mu=!1,Om(t));break;case 4:r=pn,pn=Kl(t.stateNode.containerInfo),Ht(o,t),Vt(t),pn=r;break;case 12:Ht(o,t),Vt(t);break;case 31:Ht(o,t),Vt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ll(t,r)));break;case 13:Ht(o,t),Vt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gl=ve()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ll(t,r)));break;case 22:m=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,P=Bn,F=mt;if(Bn=P||m,mt=F||I,Ht(o,t),mt=F,Bn=P,Vt(t),r&8192)e:for(o=t.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(a===null||I||Bn||mt||qo(t)),a=null,o=t;;){if(o.tag===5||o.tag===26){if(a===null){I=a=o;try{if(p=I.stateNode,m)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{x=I.stateNode;var X=I.memoizedProps.style,G=X!=null&&X.hasOwnProperty("display")?X.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(re){Ye(I,I.return,re)}}}else if(o.tag===6){if(a===null){I=o;try{I.stateNode.nodeValue=m?"":I.memoizedProps}catch(re){Ye(I,I.return,re)}}}else if(o.tag===18){if(a===null){I=o;try{var V=I.stateNode;m?Rp(V,!0):Rp(I.stateNode,!1)}catch(re){Ye(I,I.return,re)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===t)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Ll(t,a))));break;case 19:Ht(o,t),Vt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ll(t,r)));break;case 30:break;case 21:break;default:Ht(o,t),Vt(t)}}function Vt(t){var o=t.flags;if(o&2){try{for(var a,r=t.return;r!==null;){if(Um(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var m=a.stateNode,p=du(t);Ul(t,p,m);break;case 5:var E=a.stateNode;a.flags&32&&(ai(E,""),a.flags&=-33);var x=du(t);Ul(t,x,E);break;case 3:case 4:var I=a.stateNode.containerInfo,P=du(t);fu(t,P,I);break;default:throw Error(l(161))}}catch(F){Ye(t,t.return,F)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function Om(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var o=t;Om(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),t=t.sibling}}function Vn(t,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Gm(t,o.alternate,o),o=o.sibling}function qo(t){for(t=t.child;t!==null;){var o=t;switch(o.tag){case 0:case 11:case 14:case 15:lo(4,o,o.return),qo(o);break;case 1:En(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&Rm(o,o.return,a),qo(o);break;case 27:Ra(o.stateNode);case 26:case 5:En(o,o.return),qo(o);break;case 22:o.memoizedState===null&&qo(o);break;case 30:qo(o);break;default:qo(o)}t=t.sibling}}function zn(t,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var r=o.alternate,m=t,p=o,E=p.flags;switch(p.tag){case 0:case 11:case 15:zn(m,p,a),Ca(4,p);break;case 1:if(zn(m,p,a),r=p,m=r.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(P){Ye(r,r.return,P)}if(r=p,m=r.updateQueue,m!==null){var x=r.stateNode;try{var I=m.shared.hiddenCallbacks;if(I!==null)for(m.shared.hiddenCallbacks=null,m=0;m<I.length;m++)Sf(I[m],x)}catch(P){Ye(r,r.return,P)}}a&&E&64&&wm(p),Ea(p,p.return);break;case 27:Lm(p);case 26:case 5:zn(m,p,a),a&&r===null&&E&4&&Dm(p),Ea(p,p.return);break;case 12:zn(m,p,a);break;case 31:zn(m,p,a),a&&E&4&&Vm(m,p);break;case 13:zn(m,p,a),a&&E&4&&zm(m,p);break;case 22:p.memoizedState===null&&zn(m,p,a),Ea(p,p.return);break;case 30:break;default:zn(m,p,a)}o=o.sibling}}function pu(t,o){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(t=o.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ra(a))}function hu(t,o){t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&ra(t))}function hn(t,o,a,r){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)km(t,o,a,r),o=o.sibling}function km(t,o,a,r){var m=o.flags;switch(o.tag){case 0:case 11:case 15:hn(t,o,a,r),m&2048&&Ca(9,o);break;case 1:hn(t,o,a,r);break;case 3:hn(t,o,a,r),m&2048&&(t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&ra(t)));break;case 12:if(m&2048){hn(t,o,a,r),t=o.stateNode;try{var p=o.memoizedProps,E=p.id,x=p.onPostCommit;typeof x=="function"&&x(E,o.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ye(o,o.return,I)}}else hn(t,o,a,r);break;case 31:hn(t,o,a,r);break;case 13:hn(t,o,a,r);break;case 23:break;case 22:p=o.stateNode,E=o.alternate,o.memoizedState!==null?p._visibility&2?hn(t,o,a,r):xa(t,o):p._visibility&2?hn(t,o,a,r):(p._visibility|=2,Ai(t,o,a,r,(o.subtreeFlags&10256)!==0||!1)),m&2048&&pu(E,o);break;case 24:hn(t,o,a,r),m&2048&&hu(o.alternate,o);break;default:hn(t,o,a,r)}}function Ai(t,o,a,r,m){for(m=m&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var p=t,E=o,x=a,I=r,P=E.flags;switch(E.tag){case 0:case 11:case 15:Ai(p,E,x,I,m),Ca(8,E);break;case 23:break;case 22:var F=E.stateNode;E.memoizedState!==null?F._visibility&2?Ai(p,E,x,I,m):xa(p,E):(F._visibility|=2,Ai(p,E,x,I,m)),m&&P&2048&&pu(E.alternate,E);break;case 24:Ai(p,E,x,I,m),m&&P&2048&&hu(E.alternate,E);break;default:Ai(p,E,x,I,m)}o=o.sibling}}function xa(t,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=t,r=o,m=r.flags;switch(r.tag){case 22:xa(a,r),m&2048&&pu(r.alternate,r);break;case 24:xa(a,r),m&2048&&hu(r.alternate,r);break;default:xa(a,r)}o=o.sibling}}var _a=8192;function bi(t,o,a){if(t.subtreeFlags&_a)for(t=t.child;t!==null;)Fm(t,o,a),t=t.sibling}function Fm(t,o,a){switch(t.tag){case 26:bi(t,o,a),t.flags&_a&&t.memoizedState!==null&&oT(a,pn,t.memoizedState,t.memoizedProps);break;case 5:bi(t,o,a);break;case 3:case 4:var r=pn;pn=Kl(t.stateNode.containerInfo),bi(t,o,a),pn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=_a,_a=16777216,bi(t,o,a),_a=r):bi(t,o,a));break;default:bi(t,o,a)}}function Jm(t){var o=t.alternate;if(o!==null&&(t=o.child,t!==null)){o.child=null;do o=t.sibling,t.sibling=null,t=o;while(t!==null)}}function Aa(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var r=o[a];vt=r,$m(r,t)}Jm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ym(t),t=t.sibling}function Ym(t){switch(t.tag){case 0:case 11:case 15:Aa(t),t.flags&2048&&lo(9,t,t.return);break;case 3:Aa(t);break;case 12:Aa(t);break;case 22:var o=t.stateNode;t.memoizedState!==null&&o._visibility&2&&(t.return===null||t.return.tag!==13)?(o._visibility&=-3,Pl(t)):Aa(t);break;default:Aa(t)}}function Pl(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var r=o[a];vt=r,$m(r,t)}Jm(t)}for(t=t.child;t!==null;){switch(o=t,o.tag){case 0:case 11:case 15:lo(8,o,o.return),Pl(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,Pl(o));break;default:Pl(o)}t=t.sibling}}function $m(t,o){for(;vt!==null;){var a=vt;switch(a.tag){case 0:case 11:case 15:lo(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ra(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,vt=r;else e:for(a=t;vt!==null;){r=vt;var m=r.sibling,p=r.return;if(Bm(r),r===a){vt=null;break e}if(m!==null){m.return=p,vt=m;break e}vt=p}}}var vS={getCacheForType:function(t){var o=Et(ct),a=o.data.get(t);return a===void 0&&(a=t(),o.data.set(t,a)),a},cacheSignal:function(){return Et(ct).controller.signal}},SS=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ze=null,Re=null,Ue=0,Je=0,Kt=null,so=!1,Ni=!1,gu=!1,qn=0,lt=0,ro=0,Oo=0,yu=0,Xt=0,Ii=0,ba=null,zt=null,vu=!1,Gl=0,Km=0,Bl=1/0,Hl=null,uo=null,gt=0,co=null,Mi=null,On=0,Su=0,Tu=null,Xm=null,Na=0,Cu=null;function Qt(){return(qe&2)!==0&&Ue!==0?Ue&-Ue:U.T!==null?Nu():cd()}function Qm(){if(Xt===0)if((Ue&536870912)===0||Pe){var t=Ya;Ya<<=1,(Ya&3932160)===0&&(Ya=262144),Xt=t}else Xt=536870912;return t=Yt.current,t!==null&&(t.flags|=32),Xt}function qt(t,o,a){(t===Ze&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(wi(t,0),fo(t,Ue,Xt,!1)),Ki(t,a),((qe&2)===0||t!==Ze)&&(t===Ze&&((qe&2)===0&&(Oo|=a),lt===4&&fo(t,Ue,Xt,!1)),xn(t))}function Zm(t,o,a){if((qe&6)!==0)throw Error(l(327));var r=!a&&(o&127)===0&&(o&t.expiredLanes)===0||$i(t,o),m=r?ES(t,o):xu(t,o,!0),p=r;do{if(m===0){Ni&&!r&&fo(t,o,0,!1);break}else{if(a=t.current.alternate,p&&!TS(a)){m=xu(t,o,!1),p=!1;continue}if(m===2){if(p=o,t.errorRecoveryDisabledLanes&p)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var x=t;m=ba;var I=x.current.memoizedState.isDehydrated;if(I&&(wi(x,E).flags|=256),E=xu(x,E,!1),E!==2){if(gu&&!I){x.errorRecoveryDisabledLanes|=p,Oo|=p,m=4;break e}p=zt,zt=m,p!==null&&(zt===null?zt=p:zt.push.apply(zt,p))}m=E}if(p=!1,m!==2)continue}}if(m===1){wi(t,0),fo(t,o,0,!0);break}e:{switch(r=t,p=m,p){case 0:case 1:throw Error(l(345));case 4:if((o&4194048)!==o)break;case 6:fo(r,o,Xt,!so);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((o&62914560)===o&&(m=Gl+300-ve(),10<m)){if(fo(r,o,Xt,!so),Ka(r,0,!0)!==0)break e;On=o,r.timeoutHandle=Ip(jm.bind(null,r,a,zt,Hl,vu,o,Xt,Oo,Ii,so,p,"Throttled",-0,0),m);break e}jm(r,a,zt,Hl,vu,o,Xt,Oo,Ii,so,p,null,-0,0)}}break}while(!0);xn(t)}function jm(t,o,a,r,m,p,E,x,I,P,F,X,G,V){if(t.timeoutHandle=-1,X=o.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},Fm(o,p,X);var re=(p&62914560)===p?Gl-ve():(p&4194048)===p?Km-ve():0;if(re=iT(X,re),re!==null){On=p,t.cancelPendingCommit=re(lp.bind(null,t,o,p,a,r,m,E,x,I,F,X,null,G,V)),fo(t,p,E,!P);return}}lp(t,o,p,a,r,m,E,x,I)}function TS(t){for(var o=t;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var m=a[r],p=m.getSnapshot;m=m.value;try{if(!Ft(p(),m))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fo(t,o,a,r){o&=~yu,o&=~Oo,t.suspendedLanes|=o,t.pingedLanes&=~o,r&&(t.warmLanes|=o),r=t.expirationTimes;for(var m=o;0<m;){var p=31-tt(m),E=1<<p;r[p]=-1,m&=~E}a!==0&&sd(t,a,o)}function Vl(){return(qe&6)===0?(Ia(0),!1):!0}function Eu(){if(Re!==null){if(Je===0)var t=Re.return;else t=Re,Rn=Uo=null,Hr(t),Ti=null,ca=0,t=Re;for(;t!==null;)Mm(t.alternate,t),t=t.return;Re=null}}function wi(t,o){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,zS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),On=0,Eu(),Ze=t,Re=a=Mn(t.current,null),Ue=o,Je=0,Kt=null,so=!1,Ni=$i(t,o),gu=!1,Ii=Xt=yu=Oo=ro=lt=0,zt=ba=null,vu=!1,(o&8)!==0&&(o|=o&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=o;0<r;){var m=31-tt(r),p=1<<m;o|=t[m],r&=~p}return qn=o,ll(),a}function Wm(t,o){be=null,U.H=va,o===Si||o===pl?(o=hf(),Je=3):o===br?(o=hf(),Je=4):Je=o===eu?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Kt=o,Re===null&&(lt=1,Il(t,on(o,t.current)))}function ep(){var t=Yt.current;return t===null?!0:(Ue&4194048)===Ue?rn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===rn:!1}function tp(){var t=U.H;return U.H=va,t===null?va:t}function np(){var t=U.A;return U.A=vS,t}function zl(){lt=4,so||(Ue&4194048)!==Ue&&Yt.current!==null||(Ni=!0),(ro&134217727)===0&&(Oo&134217727)===0||Ze===null||fo(Ze,Ue,Xt,!1)}function xu(t,o,a){var r=qe;qe|=2;var m=tp(),p=np();(Ze!==t||Ue!==o)&&(Hl=null,wi(t,o)),o=!1;var E=lt;e:do try{if(Je!==0&&Re!==null){var x=Re,I=Kt;switch(Je){case 8:Eu(),E=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(o=!0);var P=Je;if(Je=0,Kt=null,Ri(t,x,I,P),a&&Ni){E=0;break e}break;default:P=Je,Je=0,Kt=null,Ri(t,x,I,P)}}CS(),E=lt;break}catch(F){Wm(t,F)}while(!0);return o&&t.shellSuspendCounter++,Rn=Uo=null,qe=r,U.H=m,U.A=p,Re===null&&(Ze=null,Ue=0,ll()),E}function CS(){for(;Re!==null;)op(Re)}function ES(t,o){var a=qe;qe|=2;var r=tp(),m=np();Ze!==t||Ue!==o?(Hl=null,Bl=ve()+500,wi(t,o)):Ni=$i(t,o);e:do try{if(Je!==0&&Re!==null){o=Re;var p=Kt;t:switch(Je){case 1:Je=0,Kt=null,Ri(t,o,p,1);break;case 2:case 9:if(mf(p)){Je=0,Kt=null,ip(o);break}o=function(){Je!==2&&Je!==9||Ze!==t||(Je=7),xn(t)},p.then(o,o);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:mf(p)?(Je=0,Kt=null,ip(o)):(Je=0,Kt=null,Ri(t,o,p,7));break;case 5:var E=null;switch(Re.tag){case 26:E=Re.memoizedState;case 5:case 27:var x=Re;if(E?kp(E):x.stateNode.complete){Je=0,Kt=null;var I=x.sibling;if(I!==null)Re=I;else{var P=x.return;P!==null?(Re=P,ql(P)):Re=null}break t}}Je=0,Kt=null,Ri(t,o,p,5);break;case 6:Je=0,Kt=null,Ri(t,o,p,6);break;case 8:Eu(),lt=6;break e;default:throw Error(l(462))}}xS();break}catch(F){Wm(t,F)}while(!0);return Rn=Uo=null,U.H=r,U.A=m,qe=a,Re!==null?0:(Ze=null,Ue=0,ll(),lt)}function xS(){for(;Re!==null&&!ze();)op(Re)}function op(t){var o=Nm(t.alternate,t,qn);t.memoizedProps=t.pendingProps,o===null?ql(t):Re=o}function ip(t){var o=t,a=o.alternate;switch(o.tag){case 15:case 0:o=Cm(a,o,o.pendingProps,o.type,void 0,Ue);break;case 11:o=Cm(a,o,o.pendingProps,o.type.render,o.ref,Ue);break;case 5:Hr(o);default:Mm(a,o),o=Re=tf(o,qn),o=Nm(a,o,qn)}t.memoizedProps=t.pendingProps,o===null?ql(t):Re=o}function Ri(t,o,a,r){Rn=Uo=null,Hr(o),Ti=null,ca=0;var m=o.return;try{if(dS(t,m,o,a,Ue)){lt=1,Il(t,on(a,t.current)),Re=null;return}}catch(p){if(m!==null)throw Re=m,p;lt=1,Il(t,on(a,t.current)),Re=null;return}o.flags&32768?(Pe||r===1?t=!0:Ni||(Ue&536870912)!==0?t=!1:(so=t=!0,(r===2||r===9||r===3||r===6)&&(r=Yt.current,r!==null&&r.tag===13&&(r.flags|=16384))),ap(o,t)):ql(o)}function ql(t){var o=t;do{if((o.flags&32768)!==0){ap(o,so);return}t=o.return;var a=pS(o.alternate,o,qn);if(a!==null){Re=a;return}if(o=o.sibling,o!==null){Re=o;return}Re=o=t}while(o!==null);lt===0&&(lt=5)}function ap(t,o){do{var a=hS(t.alternate,t);if(a!==null){a.flags&=32767,Re=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(t=t.sibling,t!==null)){Re=t;return}Re=t=a}while(t!==null);lt=6,Re=null}function lp(t,o,a,r,m,p,E,x,I){t.cancelPendingCommit=null;do Ol();while(gt!==0);if((qe&6)!==0)throw Error(l(327));if(o!==null){if(o===t.current)throw Error(l(177));if(p=o.lanes|o.childLanes,p|=dr,nv(t,a,p,E,x,I),t===Ze&&(Re=Ze=null,Ue=0),Mi=o,co=t,On=a,Su=p,Tu=m,Xm=r,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,NS(Se,function(){return dp(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||r){r=U.T,U.T=null,m=k.p,k.p=2,E=qe,qe|=4;try{gS(t,o,a)}finally{qe=E,k.p=m,U.T=r}}gt=1,sp(),rp(),up()}}function sp(){if(gt===1){gt=0;var t=co,o=Mi,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var r=k.p;k.p=2;var m=qe;qe|=4;try{qm(o,t);var p=Pu,E=Yd(t.containerInfo),x=p.focusedElem,I=p.selectionRange;if(E!==x&&x&&x.ownerDocument&&Jd(x.ownerDocument.documentElement,x)){if(I!==null&&lr(x)){var P=I.start,F=I.end;if(F===void 0&&(F=P),"selectionStart"in x)x.selectionStart=P,x.selectionEnd=Math.min(F,x.value.length);else{var X=x.ownerDocument||document,G=X&&X.defaultView||window;if(G.getSelection){var V=G.getSelection(),re=x.textContent.length,pe=Math.min(I.start,re),Xe=I.end===void 0?pe:Math.min(I.end,re);!V.extend&&pe>Xe&&(E=Xe,Xe=pe,pe=E);var D=Fd(x,pe),w=Fd(x,Xe);if(D&&w&&(V.rangeCount!==1||V.anchorNode!==D.node||V.anchorOffset!==D.offset||V.focusNode!==w.node||V.focusOffset!==w.offset)){var L=X.createRange();L.setStart(D.node,D.offset),V.removeAllRanges(),pe>Xe?(V.addRange(L),V.extend(w.node,w.offset)):(L.setEnd(w.node,w.offset),V.addRange(L))}}}}for(X=[],V=x;V=V.parentNode;)V.nodeType===1&&X.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<X.length;x++){var K=X[x];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}es=!!Lu,Pu=Lu=null}finally{qe=m,k.p=r,U.T=a}}t.current=o,gt=2}}function rp(){if(gt===2){gt=0;var t=co,o=Mi,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var r=k.p;k.p=2;var m=qe;qe|=4;try{Gm(t,o.alternate,o)}finally{qe=m,k.p=r,U.T=a}}gt=3}}function up(){if(gt===4||gt===3){gt=0,Oe();var t=co,o=Mi,a=On,r=Xm;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?gt=5:(gt=0,Mi=co=null,cp(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(uo=null),qs(a),o=o.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Me,o,void 0,(o.current.flags&128)===128)}catch{}if(r!==null){o=U.T,m=k.p,k.p=2,U.T=null;try{for(var p=t.onRecoverableError,E=0;E<r.length;E++){var x=r[E];p(x.value,{componentStack:x.stack})}}finally{U.T=o,k.p=m}}(On&3)!==0&&Ol(),xn(t),m=t.pendingLanes,(a&261930)!==0&&(m&42)!==0?t===Cu?Na++:(Na=0,Cu=t):Na=0,Ia(0)}}function cp(t,o){(t.pooledCacheLanes&=o)===0&&(o=t.pooledCache,o!=null&&(t.pooledCache=null,ra(o)))}function Ol(){return sp(),rp(),up(),dp()}function dp(){if(gt!==5)return!1;var t=co,o=Su;Su=0;var a=qs(On),r=U.T,m=k.p;try{k.p=32>a?32:a,U.T=null,a=Tu,Tu=null;var p=co,E=On;if(gt=0,Mi=co=null,On=0,(qe&6)!==0)throw Error(l(331));var x=qe;if(qe|=4,Ym(p.current),km(p,p.current,E,a),qe=x,Ia(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Me,p)}catch{}return!0}finally{k.p=m,U.T=r,cp(t,o)}}function fp(t,o,a){o=on(a,o),o=Wr(t.stateNode,o,2),t=oo(t,o,2),t!==null&&(Ki(t,2),xn(t))}function Ye(t,o,a){if(t.tag===3)fp(t,t,a);else for(;o!==null;){if(o.tag===3){fp(o,t,a);break}else if(o.tag===1){var r=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(uo===null||!uo.has(r))){t=on(a,t),a=mm(2),r=oo(o,a,2),r!==null&&(pm(a,r,o,t),Ki(r,2),xn(r));break}}o=o.return}}function _u(t,o,a){var r=t.pingCache;if(r===null){r=t.pingCache=new SS;var m=new Set;r.set(o,m)}else m=r.get(o),m===void 0&&(m=new Set,r.set(o,m));m.has(a)||(gu=!0,m.add(a),t=_S.bind(null,t,o,a),o.then(t,t))}function _S(t,o,a){var r=t.pingCache;r!==null&&r.delete(o),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(Ue&a)===a&&(lt===4||lt===3&&(Ue&62914560)===Ue&&300>ve()-Gl?(qe&2)===0&&wi(t,0):yu|=a,Ii===Ue&&(Ii=0)),xn(t)}function mp(t,o){o===0&&(o=ld()),t=wo(t,o),t!==null&&(Ki(t,o),xn(t))}function AS(t){var o=t.memoizedState,a=0;o!==null&&(a=o.retryLane),mp(t,a)}function bS(t,o){var a=0;switch(t.tag){case 31:case 13:var r=t.stateNode,m=t.memoizedState;m!==null&&(a=m.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(o),mp(t,a)}function NS(t,o){return Ie(t,o)}var kl=null,Di=null,Au=!1,Fl=!1,bu=!1,mo=0;function xn(t){t!==Di&&t.next===null&&(Di===null?kl=Di=t:Di=Di.next=t),Fl=!0,Au||(Au=!0,MS())}function Ia(t,o){if(!bu&&Fl){bu=!0;do for(var a=!1,r=kl;r!==null;){if(t!==0){var m=r.pendingLanes;if(m===0)var p=0;else{var E=r.suspendedLanes,x=r.pingedLanes;p=(1<<31-tt(42|t)+1)-1,p&=m&~(E&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,yp(r,p))}else p=Ue,p=Ka(r,r===Ze?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(p&3)===0||$i(r,p)||(a=!0,yp(r,p));r=r.next}while(a);bu=!1}}function IS(){pp()}function pp(){Fl=Au=!1;var t=0;mo!==0&&VS()&&(t=mo);for(var o=ve(),a=null,r=kl;r!==null;){var m=r.next,p=hp(r,o);p===0?(r.next=null,a===null?kl=m:a.next=m,m===null&&(Di=a)):(a=r,(t!==0||(p&3)!==0)&&(Fl=!0)),r=m}gt!==0&&gt!==5||Ia(t),mo!==0&&(mo=0)}function hp(t,o){for(var a=t.suspendedLanes,r=t.pingedLanes,m=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var E=31-tt(p),x=1<<E,I=m[E];I===-1?((x&a)===0||(x&r)!==0)&&(m[E]=tv(x,o)):I<=o&&(t.expiredLanes|=x),p&=~x}if(o=Ze,a=Ue,a=Ka(t,t===o?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===o&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Ae(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$i(t,a)){if(o=a&-a,o===t.callbackPriority)return o;switch(r!==null&&Ae(r),qs(a)){case 2:case 8:a=jt;break;case 32:a=Se;break;case 268435456:a=Ot;break;default:a=Se}return r=gp.bind(null,t),a=Ie(a,r),t.callbackPriority=o,t.callbackNode=a,o}return r!==null&&r!==null&&Ae(r),t.callbackPriority=2,t.callbackNode=null,2}function gp(t,o){if(gt!==0&&gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ol()&&t.callbackNode!==a)return null;var r=Ue;return r=Ka(t,t===Ze?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Zm(t,r,o),hp(t,ve()),t.callbackNode!=null&&t.callbackNode===a?gp.bind(null,t):null)}function yp(t,o){if(Ol())return null;Zm(t,o,!0)}function MS(){qS(function(){(qe&6)!==0?Ie(Mt,IS):pp()})}function Nu(){if(mo===0){var t=yi;t===0&&(t=Ja,Ja<<=1,(Ja&261888)===0&&(Ja=256)),mo=t}return mo}function vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ja(""+t)}function Sp(t,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,t.id&&a.setAttribute("form",t.id),o.parentNode.insertBefore(a,o),t=new FormData(t),a.parentNode.removeChild(a),t}function wS(t,o,a,r,m){if(o==="submit"&&a&&a.stateNode===m){var p=vp((m[Pt]||null).action),E=r.submitter;E&&(o=(o=E[Pt]||null)?vp(o.formAction):E.getAttribute("formAction"),o!==null&&(p=o,E=null));var x=new nl("action","action",null,r,m);t.push({event:x,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(mo!==0){var I=E?Sp(m,E):new FormData(m);$r(a,{pending:!0,data:I,method:m.method,action:p},null,I)}}else typeof p=="function"&&(x.preventDefault(),I=E?Sp(m,E):new FormData(m),$r(a,{pending:!0,data:I,method:m.method,action:p},p,I))},currentTarget:m}]})}}for(var Iu=0;Iu<cr.length;Iu++){var Mu=cr[Iu],RS=Mu.toLowerCase(),DS=Mu[0].toUpperCase()+Mu.slice(1);mn(RS,"on"+DS)}mn(Xd,"onAnimationEnd"),mn(Qd,"onAnimationIteration"),mn(Zd,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(Kv,"onTransitionRun"),mn(Xv,"onTransitionStart"),mn(Qv,"onTransitionCancel"),mn(jd,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bo("onBeforeInput",["compositionend","keypress","textInput","paste"]),bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),US=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ma));function Tp(t,o){o=(o&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],m=r.event;r=r.listeners;e:{var p=void 0;if(o)for(var E=r.length-1;0<=E;E--){var x=r[E],I=x.instance,P=x.currentTarget;if(x=x.listener,I!==p&&m.isPropagationStopped())break e;p=x,m.currentTarget=P;try{p(m)}catch(F){al(F)}m.currentTarget=null,p=I}else for(E=0;E<r.length;E++){if(x=r[E],I=x.instance,P=x.currentTarget,x=x.listener,I!==p&&m.isPropagationStopped())break e;p=x,m.currentTarget=P;try{p(m)}catch(F){al(F)}m.currentTarget=null,p=I}}}}function De(t,o){var a=o[Os];a===void 0&&(a=o[Os]=new Set);var r=t+"__bubble";a.has(r)||(Cp(o,t,2,!1),a.add(r))}function wu(t,o,a){var r=0;o&&(r|=4),Cp(a,t,r,o)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[Jl]){t[Jl]=!0,md.forEach(function(a){a!=="selectionchange"&&(US.has(a)||wu(a,!1,t),wu(a,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[Jl]||(o[Jl]=!0,wu("selectionchange",!1,o))}}function Cp(t,o,a,r){switch(Qp(o)){case 2:var m=sT;break;case 8:m=rT;break;default:m=Yu}a=m.bind(null,o,a,t),m=void 0,!Zs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),r?m!==void 0?t.addEventListener(o,a,{capture:!0,passive:m}):t.addEventListener(o,a,!0):m!==void 0?t.addEventListener(o,a,{passive:m}):t.addEventListener(o,a,!1)}function Du(t,o,a,r,m){var p=r;if((o&1)===0&&(o&2)===0&&r!==null)e:for(;;){if(r===null)return;var E=r.tag;if(E===3||E===4){var x=r.stateNode.containerInfo;if(x===m)break;if(E===4)for(E=r.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;x!==null;){if(E=ei(x),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){r=p=E;continue e}x=x.parentNode}}r=r.return}Ad(function(){var P=p,F=Xs(a),X=[];e:{var G=Wd.get(t);if(G!==void 0){var V=nl,re=t;switch(t){case"keypress":if(el(a)===0)break e;case"keydown":case"keyup":V=bv;break;case"focusin":re="focus",V=tr;break;case"focusout":re="blur",V=tr;break;case"beforeblur":case"afterblur":V=tr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Mv;break;case Xd:case Qd:case Zd:V=yv;break;case jd:V=Rv;break;case"scroll":case"scrollend":V=fv;break;case"wheel":V=Uv;break;case"copy":case"cut":case"paste":V=Sv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=wd;break;case"toggle":case"beforetoggle":V=Pv}var pe=(o&4)!==0,Xe=!pe&&(t==="scroll"||t==="scrollend"),D=pe?G!==null?G+"Capture":null:G;pe=[];for(var w=P,L;w!==null;){var K=w;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||D===null||(K=Zi(w,D),K!=null&&pe.push(wa(w,K,L))),Xe)break;w=w.return}0<pe.length&&(G=new V(G,re,null,a,F),X.push({event:G,listeners:pe}))}}if((o&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",G&&a!==Ks&&(re=a.relatedTarget||a.fromElement)&&(ei(re)||re[Wo]))break e;if((V||G)&&(G=F.window===F?F:(G=F.ownerDocument)?G.defaultView||G.parentWindow:window,V?(re=a.relatedTarget||a.toElement,V=P,re=re?ei(re):null,re!==null&&(Xe=c(re),pe=re.tag,re!==Xe||pe!==5&&pe!==27&&pe!==6)&&(re=null)):(V=null,re=P),V!==re)){if(pe=Id,K="onMouseLeave",D="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(pe=wd,K="onPointerLeave",D="onPointerEnter",w="pointer"),Xe=V==null?G:Qi(V),L=re==null?G:Qi(re),G=new pe(K,w+"leave",V,a,F),G.target=Xe,G.relatedTarget=L,K=null,ei(F)===P&&(pe=new pe(D,w+"enter",re,a,F),pe.target=L,pe.relatedTarget=Xe,K=pe),Xe=K,V&&re)t:{for(pe=LS,D=V,w=re,L=0,K=D;K;K=pe(K))L++;K=0;for(var ce=w;ce;ce=pe(ce))K++;for(;0<L-K;)D=pe(D),L--;for(;0<K-L;)w=pe(w),K--;for(;L--;){if(D===w||w!==null&&D===w.alternate){pe=D;break t}D=pe(D),w=pe(w)}pe=null}else pe=null;V!==null&&Ep(X,G,V,pe,!1),re!==null&&Xe!==null&&Ep(X,Xe,re,pe,!0)}}e:{if(G=P?Qi(P):window,V=G.nodeName&&G.nodeName.toLowerCase(),V==="select"||V==="input"&&G.type==="file")var Be=Hd;else if(Gd(G))if(Vd)Be=Jv;else{Be=kv;var ue=Ov}else V=G.nodeName,!V||V.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?P&&$s(P.elementType)&&(Be=Hd):Be=Fv;if(Be&&(Be=Be(t,P))){Bd(X,Be,a,F);break e}ue&&ue(t,G,P),t==="focusout"&&P&&G.type==="number"&&P.memoizedProps.value!=null&&Ys(G,"number",G.value)}switch(ue=P?Qi(P):window,t){case"focusin":(Gd(ue)||ue.contentEditable==="true")&&(ui=ue,sr=P,aa=null);break;case"focusout":aa=sr=ui=null;break;case"mousedown":rr=!0;break;case"contextmenu":case"mouseup":case"dragend":rr=!1,$d(X,a,F);break;case"selectionchange":if($v)break;case"keydown":case"keyup":$d(X,a,F)}var Ne;if(or)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ri?Ld(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Rd&&a.locale!=="ko"&&(ri||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ri&&(Ne=bd()):(Qn=F,js="value"in Qn?Qn.value:Qn.textContent,ri=!0)),ue=Yl(P,Le),0<ue.length&&(Le=new Md(Le,t,null,a,F),X.push({event:Le,listeners:ue}),Ne?Le.data=Ne:(Ne=Pd(a),Ne!==null&&(Le.data=Ne)))),(Ne=Bv?Hv(t,a):Vv(t,a))&&(Le=Yl(P,"onBeforeInput"),0<Le.length&&(ue=new Md("onBeforeInput","beforeinput",null,a,F),X.push({event:ue,listeners:Le}),ue.data=Ne)),wS(X,t,P,a,F)}Tp(X,o)})}function wa(t,o,a){return{instance:t,listener:o,currentTarget:a}}function Yl(t,o){for(var a=o+"Capture",r=[];t!==null;){var m=t,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Zi(t,a),m!=null&&r.unshift(wa(t,m,p)),m=Zi(t,o),m!=null&&r.push(wa(t,m,p))),t.tag===3)return r;t=t.return}return[]}function LS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ep(t,o,a,r,m){for(var p=o._reactName,E=[];a!==null&&a!==r;){var x=a,I=x.alternate,P=x.stateNode;if(x=x.tag,I!==null&&I===r)break;x!==5&&x!==26&&x!==27||P===null||(I=P,m?(P=Zi(a,p),P!=null&&E.unshift(wa(a,P,I))):m||(P=Zi(a,p),P!=null&&E.push(wa(a,P,I)))),a=a.return}E.length!==0&&t.push({event:o,listeners:E})}var PS=/\r\n?/g,GS=/\u0000|\uFFFD/g;function xp(t){return(typeof t=="string"?t:""+t).replace(PS,`
`).replace(GS,"")}function _p(t,o){return o=xp(o),xp(t)===o}function Ke(t,o,a,r,m,p){switch(a){case"children":typeof r=="string"?o==="body"||o==="textarea"&&r===""||ai(t,r):(typeof r=="number"||typeof r=="bigint")&&o!=="body"&&ai(t,""+r);break;case"className":Qa(t,"class",r);break;case"tabIndex":Qa(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Qa(t,a,r);break;case"style":xd(t,r,p);break;case"data":if(o!=="object"){Qa(t,"data",r);break}case"src":case"href":if(r===""&&(o!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=ja(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(o!=="input"&&Ke(t,o,"name",m.name,m,null),Ke(t,o,"formEncType",m.formEncType,m,null),Ke(t,o,"formMethod",m.formMethod,m,null),Ke(t,o,"formTarget",m.formTarget,m,null)):(Ke(t,o,"encType",m.encType,m,null),Ke(t,o,"method",m.method,m,null),Ke(t,o,"target",m.target,m,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=ja(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=Nn);break;case"onScroll":r!=null&&De("scroll",t);break;case"onScrollEnd":r!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(m.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=ja(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":De("beforetoggle",t),De("toggle",t),Xa(t,"popover",r);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Xa(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cv.get(a)||a,Xa(t,a,r))}}function Uu(t,o,a,r,m,p){switch(a){case"style":xd(t,r,p);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(m.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"children":typeof r=="string"?ai(t,r):(typeof r=="number"||typeof r=="bigint")&&ai(t,""+r);break;case"onScroll":r!=null&&De("scroll",t);break;case"onScrollEnd":r!=null&&De("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),o=a.slice(2,m?a.length-7:void 0),p=t[Pt]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(o,p,m),typeof r=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(o,r,m);break e}a in t?t[a]=r:r===!0?t.setAttribute(a,""):Xa(t,a,r)}}}function _t(t,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var r=!1,m=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":r=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,o));default:Ke(t,o,p,E,a,null)}}m&&Ke(t,o,"srcSet",a.srcSet,a,null),r&&Ke(t,o,"src",a.src,a,null);return;case"input":De("invalid",t);var x=p=E=m=null,I=null,P=null;for(r in a)if(a.hasOwnProperty(r)){var F=a[r];if(F!=null)switch(r){case"name":m=F;break;case"type":E=F;break;case"checked":I=F;break;case"defaultChecked":P=F;break;case"value":p=F;break;case"defaultValue":x=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(l(137,o));break;default:Ke(t,o,r,F,a,null)}}Sd(t,p,x,I,P,E,m,!1);return;case"select":De("invalid",t),r=E=p=null;for(m in a)if(a.hasOwnProperty(m)&&(x=a[m],x!=null))switch(m){case"value":p=x;break;case"defaultValue":E=x;break;case"multiple":r=x;default:Ke(t,o,m,x,a,null)}o=p,a=E,t.multiple=!!r,o!=null?ii(t,!!r,o,!1):a!=null&&ii(t,!!r,a,!0);return;case"textarea":De("invalid",t),p=m=r=null;for(E in a)if(a.hasOwnProperty(E)&&(x=a[E],x!=null))switch(E){case"value":r=x;break;case"defaultValue":m=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:Ke(t,o,E,x,a,null)}Cd(t,r,m,p);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(r=a[I],r!=null))switch(I){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ke(t,o,I,r,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(r=0;r<Ma.length;r++)De(Ma[r],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(r=a[P],r!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,o));default:Ke(t,o,P,r,a,null)}return;default:if($s(o)){for(F in a)a.hasOwnProperty(F)&&(r=a[F],r!==void 0&&Uu(t,o,F,r,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(r=a[x],r!=null&&Ke(t,o,x,r,a,null))}function BS(t,o,a,r){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,E=null,x=null,I=null,P=null,F=null;for(V in a){var X=a[V];if(a.hasOwnProperty(V)&&X!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":I=X;default:r.hasOwnProperty(V)||Ke(t,o,V,null,r,X)}}for(var G in r){var V=r[G];if(X=a[G],r.hasOwnProperty(G)&&(V!=null||X!=null))switch(G){case"type":p=V;break;case"name":m=V;break;case"checked":P=V;break;case"defaultChecked":F=V;break;case"value":E=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,o));break;default:V!==X&&Ke(t,o,G,V,r,X)}}Js(t,E,x,I,P,F,p,m);return;case"select":V=E=x=G=null;for(p in a)if(I=a[p],a.hasOwnProperty(p)&&I!=null)switch(p){case"value":break;case"multiple":V=I;default:r.hasOwnProperty(p)||Ke(t,o,p,null,r,I)}for(m in r)if(p=r[m],I=a[m],r.hasOwnProperty(m)&&(p!=null||I!=null))switch(m){case"value":G=p;break;case"defaultValue":x=p;break;case"multiple":E=p;default:p!==I&&Ke(t,o,m,p,r,I)}o=x,a=E,r=V,G!=null?ii(t,!!a,G,!1):!!r!=!!a&&(o!=null?ii(t,!!a,o,!0):ii(t,!!a,a?[]:"",!1));return;case"textarea":V=G=null;for(x in a)if(m=a[x],a.hasOwnProperty(x)&&m!=null&&!r.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ke(t,o,x,null,r,m)}for(E in r)if(m=r[E],p=a[E],r.hasOwnProperty(E)&&(m!=null||p!=null))switch(E){case"value":G=m;break;case"defaultValue":V=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(l(91));break;default:m!==p&&Ke(t,o,E,m,r,p)}Td(t,G,V);return;case"option":for(var re in a)if(G=a[re],a.hasOwnProperty(re)&&G!=null&&!r.hasOwnProperty(re))switch(re){case"selected":t.selected=!1;break;default:Ke(t,o,re,null,r,G)}for(I in r)if(G=r[I],V=a[I],r.hasOwnProperty(I)&&G!==V&&(G!=null||V!=null))switch(I){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ke(t,o,I,G,r,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)G=a[pe],a.hasOwnProperty(pe)&&G!=null&&!r.hasOwnProperty(pe)&&Ke(t,o,pe,null,r,G);for(P in r)if(G=r[P],V=a[P],r.hasOwnProperty(P)&&G!==V&&(G!=null||V!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,o));break;default:Ke(t,o,P,G,r,V)}return;default:if($s(o)){for(var Xe in a)G=a[Xe],a.hasOwnProperty(Xe)&&G!==void 0&&!r.hasOwnProperty(Xe)&&Uu(t,o,Xe,void 0,r,G);for(F in r)G=r[F],V=a[F],!r.hasOwnProperty(F)||G===V||G===void 0&&V===void 0||Uu(t,o,F,G,r,V);return}}for(var D in a)G=a[D],a.hasOwnProperty(D)&&G!=null&&!r.hasOwnProperty(D)&&Ke(t,o,D,null,r,G);for(X in r)G=r[X],V=a[X],!r.hasOwnProperty(X)||G===V||G==null&&V==null||Ke(t,o,X,G,r,V)}function Ap(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,o=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var m=a[r],p=m.transferSize,E=m.initiatorType,x=m.duration;if(p&&x&&Ap(E)){for(E=0,x=m.responseEnd,r+=1;r<a.length;r++){var I=a[r],P=I.startTime;if(P>x)break;var F=I.transferSize,X=I.initiatorType;F&&Ap(X)&&(I=I.responseEnd,E+=F*(I<x?1:(x-P)/(I-P)))}if(--r,o+=8*(p+E)/(m.duration/1e3),t++,10<t)break}}if(0<t)return o/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Lu=null,Pu=null;function $l(t){return t.nodeType===9?t:t.ownerDocument}function bp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Np(t,o){if(t===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&o==="foreignObject"?0:t}function Gu(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Bu=null;function VS(){var t=window.event;return t&&t.type==="popstate"?t===Bu?!1:(Bu=t,!0):(Bu=null,!1)}var Ip=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,qS=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(t){return Mp.resolve(null).then(t).catch(OS)}:Ip;function OS(t){setTimeout(function(){throw t})}function po(t){return t==="head"}function wp(t,o){var a=o,r=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(r===0){t.removeChild(m),Gi(o);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")Ra(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ra(a);for(var p=a.firstChild;p;){var E=p.nextSibling,x=p.nodeName;p[Xi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=E}}else a==="body"&&Ra(t.ownerDocument.body);a=m}while(a);Gi(o)}function Rp(t,o){var a=t;t=0;do{var r=a.nextSibling;if(a.nodeType===1?o?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(o?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=r}while(a)}function Hu(t){var o=t.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hu(a),ks(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kS(t,o,a,r){for(;t.nodeType===1;){var m=a;if(t.nodeName.toLowerCase()!==o.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Xi])switch(o){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(o==="input"&&t.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=un(t.nextSibling),t===null)break}return null}function FS(t,o,a){if(o==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=un(t.nextSibling),t===null))return null;return t}function Dp(t,o){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=un(t.nextSibling),t===null))return null;return t}function Vu(t){return t.data==="$?"||t.data==="$~"}function zu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function JS(t,o){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=o;else if(t.data!=="$?"||a.readyState!=="loading")o();else{var r=function(){o(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function un(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return t}var qu=null;function Up(t){t=t.nextSibling;for(var o=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(o===0)return un(t.nextSibling);o--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||o++}t=t.nextSibling}return null}function Lp(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(o===0)return t;o--}else a!=="/$"&&a!=="/&"||o++}t=t.previousSibling}return null}function Pp(t,o,a){switch(o=$l(a),t){case"html":if(t=o.documentElement,!t)throw Error(l(452));return t;case"head":if(t=o.head,!t)throw Error(l(453));return t;case"body":if(t=o.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Ra(t){for(var o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ks(t)}var cn=new Map,Gp=new Set;function Kl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var kn=k.d;k.d={f:YS,r:$S,D:KS,C:XS,L:QS,m:ZS,X:WS,S:jS,M:eT};function YS(){var t=kn.f(),o=Vl();return t||o}function $S(t){var o=ti(t);o!==null&&o.tag===5&&o.type==="form"?Wf(o):kn.r(t)}var Ui=typeof document>"u"?null:document;function Bp(t,o,a){var r=Ui;if(r&&typeof o=="string"&&o){var m=tn(o);m='link[rel="'+t+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),Gp.has(m)||(Gp.add(m),t={rel:t,crossOrigin:a,href:o},r.querySelector(m)===null&&(o=r.createElement("link"),_t(o,"link",t),yt(o),r.head.appendChild(o)))}}function KS(t){kn.D(t),Bp("dns-prefetch",t,null)}function XS(t,o){kn.C(t,o),Bp("preconnect",t,o)}function QS(t,o,a){kn.L(t,o,a);var r=Ui;if(r&&t&&o){var m='link[rel="preload"][as="'+tn(o)+'"]';o==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+tn(a.imageSizes)+'"]')):m+='[href="'+tn(t)+'"]';var p=m;switch(o){case"style":p=Li(t);break;case"script":p=Pi(t)}cn.has(p)||(t=C({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:t,as:o},a),cn.set(p,t),r.querySelector(m)!==null||o==="style"&&r.querySelector(Da(p))||o==="script"&&r.querySelector(Ua(p))||(o=r.createElement("link"),_t(o,"link",t),yt(o),r.head.appendChild(o)))}}function ZS(t,o){kn.m(t,o);var a=Ui;if(a&&t){var r=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+tn(r)+'"][href="'+tn(t)+'"]',p=m;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Pi(t)}if(!cn.has(p)&&(t=C({rel:"modulepreload",href:t},o),cn.set(p,t),a.querySelector(m)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ua(p)))return}r=a.createElement("link"),_t(r,"link",t),yt(r),a.head.appendChild(r)}}}function jS(t,o,a){kn.S(t,o,a);var r=Ui;if(r&&t){var m=ni(r).hoistableStyles,p=Li(t);o=o||"default";var E=m.get(p);if(!E){var x={loading:0,preload:null};if(E=r.querySelector(Da(p)))x.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":o},a),(a=cn.get(p))&&Ou(t,a);var I=E=r.createElement("link");yt(I),_t(I,"link",t),I._p=new Promise(function(P,F){I.onload=P,I.onerror=F}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Xl(E,o,r)}E={type:"stylesheet",instance:E,count:1,state:x},m.set(p,E)}}}function WS(t,o){kn.X(t,o);var a=Ui;if(a&&t){var r=ni(a).hoistableScripts,m=Pi(t),p=r.get(m);p||(p=a.querySelector(Ua(m)),p||(t=C({src:t,async:!0},o),(o=cn.get(m))&&ku(t,o),p=a.createElement("script"),yt(p),_t(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(m,p))}}function eT(t,o){kn.M(t,o);var a=Ui;if(a&&t){var r=ni(a).hoistableScripts,m=Pi(t),p=r.get(m);p||(p=a.querySelector(Ua(m)),p||(t=C({src:t,async:!0,type:"module"},o),(o=cn.get(m))&&ku(t,o),p=a.createElement("script"),yt(p),_t(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(m,p))}}function Hp(t,o,a,r){var m=(m=_e.current)?Kl(m):null;if(!m)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=Li(a.href),a=ni(m).hoistableStyles,r=a.get(o),r||(r={type:"style",instance:null,count:0,state:null},a.set(o,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Li(a.href);var p=ni(m).hoistableStyles,E=p.get(t);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,E),(p=m.querySelector(Da(t)))&&!p._p&&(E.instance=p,E.state.loading=5),cn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},cn.set(t,a),p||tT(m,t,a,E.state))),o&&r===null)throw Error(l(528,""));return E}if(o&&r!==null)throw Error(l(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Pi(a),a=ni(m).hoistableScripts,r=a.get(o),r||(r={type:"script",instance:null,count:0,state:null},a.set(o,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Li(t){return'href="'+tn(t)+'"'}function Da(t){return'link[rel="stylesheet"]['+t+"]"}function Vp(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function tT(t,o,a,r){t.querySelector('link[rel="preload"][as="style"]['+o+"]")?r.loading=1:(o=t.createElement("link"),r.preload=o,o.addEventListener("load",function(){return r.loading|=1}),o.addEventListener("error",function(){return r.loading|=2}),_t(o,"link",a),yt(o),t.head.appendChild(o))}function Pi(t){return'[src="'+tn(t)+'"]'}function Ua(t){return"script[async]"+t}function zp(t,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var r=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(r)return o.instance=r,yt(r),r;var m=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),yt(r),_t(r,"style",m),Xl(r,a.precedence,t),o.instance=r;case"stylesheet":m=Li(a.href);var p=t.querySelector(Da(m));if(p)return o.state.loading|=4,o.instance=p,yt(p),p;r=Vp(a),(m=cn.get(m))&&Ou(r,m),p=(t.ownerDocument||t).createElement("link"),yt(p);var E=p;return E._p=new Promise(function(x,I){E.onload=x,E.onerror=I}),_t(p,"link",r),o.state.loading|=4,Xl(p,a.precedence,t),o.instance=p;case"script":return p=Pi(a.src),(m=t.querySelector(Ua(p)))?(o.instance=m,yt(m),m):(r=a,(m=cn.get(p))&&(r=C({},a),ku(r,m)),t=t.ownerDocument||t,m=t.createElement("script"),yt(m),_t(m,"link",r),t.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(l(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(r=o.instance,o.state.loading|=4,Xl(r,a.precedence,t));return o.instance}function Xl(t,o,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=r.length?r[r.length-1]:null,p=m,E=0;E<r.length;E++){var x=r[E];if(x.dataset.precedence===o)p=x;else if(p!==m)break}p?p.parentNode.insertBefore(t,p.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(t,o.firstChild))}function Ou(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.title==null&&(t.title=o.title)}function ku(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.integrity==null&&(t.integrity=o.integrity)}var Ql=null;function qp(t,o,a){if(Ql===null){var r=new Map,m=Ql=new Map;m.set(a,r)}else m=Ql,r=m.get(a),r||(r=new Map,m.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),m=0;m<a.length;m++){var p=a[m];if(!(p[Xi]||p[Tt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(o)||"";E=t+E;var x=r.get(E);x?x.push(p):r.set(E,[p])}}return r}function Op(t,o,a){t=t.ownerDocument||t,t.head.insertBefore(a,o==="title"?t.querySelector("head > title"):null)}function nT(t,o,a){if(a===1||o.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return t=o.disabled,typeof o.precedence=="string"&&t==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function oT(t,o,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Li(r.href),p=o.querySelector(Da(m));if(p){o=p._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(t.count++,t=Zl.bind(t),o.then(t,t)),a.state.loading|=4,a.instance=p,yt(p);return}p=o.ownerDocument||o,r=Vp(r),(m=cn.get(m))&&Ou(r,m),p=p.createElement("link"),yt(p);var E=p;E._p=new Promise(function(x,I){E.onload=x,E.onerror=I}),_t(p,"link",r),a.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,o),(o=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Zl.bind(t),o.addEventListener("load",a),o.addEventListener("error",a))}}var Fu=0;function iT(t,o){return t.stylesheets&&t.count===0&&Wl(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var r=setTimeout(function(){if(t.stylesheets&&Wl(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+o);0<t.imgBytes&&Fu===0&&(Fu=62500*HS());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wl(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>Fu?50:800)+o);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(m)}}:null}function Zl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var jl=null;function Wl(t,o){t.stylesheets=null,t.unsuspend!==null&&(t.count++,jl=new Map,o.forEach(aT,t),jl=null,Zl.call(t))}function aT(t,o){if(!(o.state.loading&4)){var a=jl.get(t);if(a)var r=a.get(null);else{a=new Map,jl.set(t,a);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var E=m[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),r=E)}r&&a.set(null,r)}m=o.instance,E=m.getAttribute("data-precedence"),p=a.get(E)||r,p===r&&a.set(null,m),a.set(E,m),this.count++,r=Zl.bind(this),m.addEventListener("load",r),m.addEventListener("error",r),p?p.parentNode.insertBefore(m,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),o.state.loading|=4}}var La={$$typeof:q,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function lT(t,o,a,r,m,p,E,x,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vs(0),this.hiddenUpdates=Vs(null),this.identifierPrefix=r,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Fp(t,o,a,r,m,p,E,x,I,P,F,X){return t=new lT(t,o,a,E,I,P,F,X,x),o=1,p===!0&&(o|=24),p=Jt(3,null,null,o),t.current=p,p.stateNode=t,o=xr(),o.refCount++,t.pooledCache=o,o.refCount++,p.memoizedState={element:r,isDehydrated:a,cache:o},Nr(p),t}function Jp(t){return t?(t=fi,t):fi}function Yp(t,o,a,r,m,p){m=Jp(m),r.context===null?r.context=m:r.pendingContext=m,r=no(o),r.payload={element:a},p=p===void 0?null:p,p!==null&&(r.callback=p),a=oo(t,r,o),a!==null&&(qt(a,t,o),fa(a,t,o))}function $p(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<o?a:o}}function Ju(t,o){$p(t,o),(t=t.alternate)&&$p(t,o)}function Kp(t){if(t.tag===13||t.tag===31){var o=wo(t,67108864);o!==null&&qt(o,t,67108864),Ju(t,67108864)}}function Xp(t){if(t.tag===13||t.tag===31){var o=Qt();o=zs(o);var a=wo(t,o);a!==null&&qt(a,t,o),Ju(t,o)}}var es=!0;function sT(t,o,a,r){var m=U.T;U.T=null;var p=k.p;try{k.p=2,Yu(t,o,a,r)}finally{k.p=p,U.T=m}}function rT(t,o,a,r){var m=U.T;U.T=null;var p=k.p;try{k.p=8,Yu(t,o,a,r)}finally{k.p=p,U.T=m}}function Yu(t,o,a,r){if(es){var m=$u(r);if(m===null)Du(t,o,r,ts,a),Zp(t,r);else if(cT(m,t,o,a,r))r.stopPropagation();else if(Zp(t,r),o&4&&-1<uT.indexOf(t)){for(;m!==null;){var p=ti(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Ao(p.pendingLanes);if(E!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;E;){var I=1<<31-tt(E);x.entanglements[1]|=I,E&=~I}xn(p),(qe&6)===0&&(Bl=ve()+500,Ia(0))}}break;case 31:case 13:x=wo(p,2),x!==null&&qt(x,p,2),Vl(),Ju(p,2)}if(p=$u(r),p===null&&Du(t,o,r,ts,a),p===m)break;m=p}m!==null&&r.stopPropagation()}else Du(t,o,r,null,a)}}function $u(t){return t=Xs(t),Ku(t)}var ts=null;function Ku(t){if(ts=null,t=ei(t),t!==null){var o=c(t);if(o===null)t=null;else{var a=o.tag;if(a===13){if(t=f(o),t!==null)return t;t=null}else if(a===31){if(t=g(o),t!==null)return t;t=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null)}}return ts=t,null}function Qp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case Mt:return 2;case jt:return 8;case Se:case ht:return 32;case Ot:return 268435456;default:return 32}default:return 32}}var Xu=!1,ho=null,go=null,yo=null,Pa=new Map,Ga=new Map,vo=[],uT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zp(t,o){switch(t){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":Pa.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(o.pointerId)}}function Ba(t,o,a,r,m,p){return t===null||t.nativeEvent!==p?(t={blockedOn:o,domEventName:a,eventSystemFlags:r,nativeEvent:p,targetContainers:[m]},o!==null&&(o=ti(o),o!==null&&Kp(o)),t):(t.eventSystemFlags|=r,o=t.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),t)}function cT(t,o,a,r,m){switch(o){case"focusin":return ho=Ba(ho,t,o,a,r,m),!0;case"dragenter":return go=Ba(go,t,o,a,r,m),!0;case"mouseover":return yo=Ba(yo,t,o,a,r,m),!0;case"pointerover":var p=m.pointerId;return Pa.set(p,Ba(Pa.get(p)||null,t,o,a,r,m)),!0;case"gotpointercapture":return p=m.pointerId,Ga.set(p,Ba(Ga.get(p)||null,t,o,a,r,m)),!0}return!1}function jp(t){var o=ei(t.target);if(o!==null){var a=c(o);if(a!==null){if(o=a.tag,o===13){if(o=f(a),o!==null){t.blockedOn=o,dd(t.priority,function(){Xp(a)});return}}else if(o===31){if(o=g(a),o!==null){t.blockedOn=o,dd(t.priority,function(){Xp(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ns(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var a=$u(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);Ks=r,a.target.dispatchEvent(r),Ks=null}else return o=ti(a),o!==null&&Kp(o),t.blockedOn=a,!1;o.shift()}return!0}function Wp(t,o,a){ns(t)&&a.delete(o)}function dT(){Xu=!1,ho!==null&&ns(ho)&&(ho=null),go!==null&&ns(go)&&(go=null),yo!==null&&ns(yo)&&(yo=null),Pa.forEach(Wp),Ga.forEach(Wp)}function os(t,o){t.blockedOn===o&&(t.blockedOn=null,Xu||(Xu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,dT)))}var is=null;function eh(t){is!==t&&(is=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){is===t&&(is=null);for(var o=0;o<t.length;o+=3){var a=t[o],r=t[o+1],m=t[o+2];if(typeof r!="function"){if(Ku(r||a)===null)continue;break}var p=ti(a);p!==null&&(t.splice(o,3),o-=3,$r(p,{pending:!0,data:m,method:a.method,action:r},r,m))}}))}function Gi(t){function o(I){return os(I,t)}ho!==null&&os(ho,t),go!==null&&os(go,t),yo!==null&&os(yo,t),Pa.forEach(o),Ga.forEach(o);for(var a=0;a<vo.length;a++){var r=vo[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<vo.length&&(a=vo[0],a.blockedOn===null);)jp(a),a.blockedOn===null&&vo.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var m=a[r],p=a[r+1],E=m[Pt]||null;if(typeof p=="function")E||eh(a);else if(E){var x=null;if(p&&p.hasAttribute("formAction")){if(m=p,E=p[Pt]||null)x=E.formAction;else if(Ku(m)!==null)continue}else x=E.action;typeof x=="function"?a[r+1]=x:(a.splice(r,3),r-=3),eh(a)}}}function th(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function o(){m!==null&&(m(),m=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),m!==null&&(m(),m=null)}}}function Qu(t){this._internalRoot=t}as.prototype.render=Qu.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(l(409));var a=o.current,r=Qt();Yp(a,r,t,o,null,null)},as.prototype.unmount=Qu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;Yp(t.current,2,null,t,null,null),Vl(),o[Wo]=null}};function as(t){this._internalRoot=t}as.prototype.unstable_scheduleHydration=function(t){if(t){var o=cd();t={blockedOn:null,target:t,priority:o};for(var a=0;a<vo.length&&o!==0&&o<vo[a].priority;a++);vo.splice(a,0,t),a===0&&jp(t)}};var nh=e.version;if(nh!=="19.2.4")throw Error(l(527,nh,"19.2.4"));k.findDOMNode=function(t){var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=h(o),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var fT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ls.isDisabled&&ls.supportsFiber)try{Me=ls.inject(fT),Fe=ls}catch{}}return Va.createRoot=function(t,o){if(!s(t))throw Error(l(299));var a=!1,r="",m=um,p=cm,E=dm;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(r=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(p=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=Fp(t,1,!1,null,null,a,r,null,m,p,E,th),t[Wo]=o.current,Ru(t),new Qu(o)},Va.hydrateRoot=function(t,o,a){if(!s(t))throw Error(l(299));var r=!1,m="",p=um,E=cm,x=dm,I=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),o=Fp(t,1,!0,o,a??null,r,m,I,p,E,x,th),o.context=Jp(null),a=o.current,r=Qt(),r=zs(r),m=no(r),m.callback=null,oo(a,m,r),a=r,o.current.lanes=a,Ki(o,a),xn(o),t[Wo]=o.current,Ru(t),new as(o)},Va.version="19.2.4",Va}var fh;function ET(){if(fh)return Wu.exports;fh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wu.exports=CT(),Wu.exports}var xT=ET();const _T=Cy(xT);var Qe=(n=>(n[n.SETUP=0]="SETUP",n[n.MATCHMAKING=1]="MATCHMAKING",n[n.LIVE_FIGHT=2]="LIVE_FIGHT",n[n.RESULTS=3]="RESULTS",n[n.TOURNAMENT_RESULTS=4]="TOURNAMENT_RESULTS",n))(Qe||{}),Jo=(n=>(n.LISO="Liso",n.PAVA="pava",n))(Jo||{}),gn=(n=>(n.POLLO="Pollo",n.GALLO="Gallo",n))(gn||{});const zc=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),v.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),v.jsx("path",{d:"M4 22h16"}),v.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21A2.5 2.5 0 0 1 7.5 18c-1.93 0-3.5-1.57-3.5-3.5V9c0-2.65 2.15-5 5-5h3c2.85 0 5 2.35 5 5v5.5c0 1.93-1.57 3.5-3.5 3.5a2.5 2.5 0 0 1-1.53-.79c-.5-.23-.97-.66-.97-1.21v-2.34"})]}),pc=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M18.5 2.5c1.4 1.4 1.4 3.7 0 5.1l-6.5 6.5-4-4L14.5.5c1.4-1.4 3.7-1.4 5.1 0zM8 8l-6 6"}),v.jsx("path",{d:"M10 12l6 6"}),v.jsx("path",{d:"M22 22l-6-6"}),v.jsx("path",{d:"M2 12l6-6"})]}),Ey=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),v.jsx("circle",{cx:"9",cy:"7",r:"4"}),v.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),v.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),AT=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),v.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),mh=({className:n})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),bT=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M17 2l4 4-4 4"}),v.jsx("path",{d:"M3 11v-1a4 4 0 0 1 4-4h14"}),v.jsx("path",{d:"M7 22l-4-4 4-4"}),v.jsx("path",{d:"M21 13v1a4 4 0 0 1-4 4H3"})]}),xy=({className:n})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"20 6 9 17 4 12"})}),hs=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Is=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),hc=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polyline",{points:"3 6 5 6 21 6"}),v.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),v.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),v.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),gs=({className:n})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),_y=({className:n})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"6 9 12 15 18 9"})}),NT=({className:n})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})}),IT=({className:n,title:e})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e&&v.jsx("title",{children:e}),v.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),v.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),v.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),qc=({isOpen:n,onClose:e,title:i,children:l,size:s="default",headerContent:c})=>{if(!n)return null;const f=s==="wide"?"max-w-7xl":"max-w-lg";return v.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 transition-opacity",onClick:e}),v.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:v.jsxs("div",{className:`relative bg-gray-800 rounded-2xl shadow-2xl w-full ${f} border border-gray-700 transform transition-all text-left my-8`,children:[v.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-700 bg-gray-800/95 backdrop-blur rounded-t-2xl sticky top-0 z-10",children:[v.jsx("div",{className:"text-xl font-bold text-amber-400 flex items-center flex-grow min-w-0",children:i}),v.jsxs("div",{className:"flex items-center space-x-4 ml-4",children:[c,v.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:v.jsx(hs,{className:"w-6 h-6"})})]})]}),v.jsx("div",{className:"p-6",children:l})]})})]})},ph={1:[{ageMonths:9,displayText:"Ao 2025 - 9 meses"}],2:[{ageMonths:8,displayText:"Ao 2025 - 8 meses"}],3:[{ageMonths:7,displayText:"Ao 2025 - 7 meses"}],4:[{ageMonths:6,displayText:"Ao 2025 - 6 meses"},{ageMonths:18,displayText:"Ao 2024 - 18 meses"}],5:[{ageMonths:5,displayText:"Ao 2025 - 5 meses"},{ageMonths:17,displayText:"Ao 2024 - 17 meses"}],6:[{ageMonths:4,displayText:"Ao 2025 - 4 meses"},{ageMonths:16,displayText:"Ao 2024 - 16 meses"}],7:[{ageMonths:3,displayText:"Ao 2025 - 3 meses"},{ageMonths:15,displayText:"Ao 2024 - 15 meses"}],8:[{ageMonths:2,displayText:"Ao 2025 - 2 meses"},{ageMonths:14,displayText:"Ao 2024 - 14 meses"}],9:[{ageMonths:13,displayText:"Ao 2024 - 13 meses"}],10:[{ageMonths:12,displayText:"Ao 2024 - 12 meses"}],11:[{ageMonths:11,displayText:"Ao 2024 - 11 meses"}],12:[{ageMonths:10,displayText:"Ao 2024 - 10 meses"}]},MT={departamentos:[{departamento:"Amazonas",ciudades:["Leticia","Puerto Nario"]},{departamento:"Antioquia",ciudades:["Abejorral","Abriaqu","Alejandra","Amag","Amalfi","Andes","Angelpolis","Angostura","Anor","Anz","Apartad","Arboletes","Argelia","Armenia","Barbosa","Bello","Belmira","Betania","Betulia","Briceo","Buritic","Cceres","Caicedo","Caldas","Campamento","Caasgordas","Caracol","Caramanta","Carepa","Carolina del Prncipe","Caucasia","Chigorod","Cisneros","Ciudad Bolvar","Cocorn","Concepcin","Concordia","Copacabana","Dabeiba","Donmatas","Ebjico","El Bagre","El Carmen de Viboral","El Peol","El Retiro","El Santuario","Entrerros","Envigado","Fredonia","Frontino","Giraldo","Girardota","Gmez Plata","Granada","Guadalupe","Guarne","Guatap","Heliconia","Hispania","Itag","Ituango","Jardn","Jeric","La Ceja","La Estrella","La Pintada","La Unin","Liborina","Maceo","Marinilla","Medelln","Montebello","Murind","Mutat","Nario","Nech","Necocl","Olaya","Peque","Pueblorrico","Puerto Berro","Puerto Nare","Puerto Triunfo","Remedios","Rionegro","Sabanalarga","Sabaneta","Salgar","San Andrs de Cuerquia","San Carlos","San Francisco","San Jernimo","San Jos de la Montaa","San Juan de Urab","San Luis","San Pedro de los Milagros","San Pedro de Urab","San Rafael","San Roque","San Vicente","Santa Brbara","Santa Fe de Antioquia","Santa Rosa de Osos","Santo Domingo","Segovia","Sonsn","Sopetrn","Tmesis","Taraz","Tarso","Titirib","Toledo","Turbo","Uramita","Urrao","Valdivia","Valparaso","Vegach","Venecia","Viga del Fuerte","Yal","Yarumal","Yolomb","Yond","Zaragoza"]},{departamento:"Arauca",ciudades:["Arauca","Arauquita","Cravo Norte","Fortul","Puerto Rondn","Saravena","Tame"]},{departamento:"Atlntico",ciudades:["Baranoa","Barranquilla","Campo de la Cruz","Candelaria","Galapa","Juan de Acosta","Luruaco","Malambo","Manat","Palmar de Varela","Pioj","Polonuevo","Ponedera","Puerto Colombia","Repeln","Sabanagrande","Sabanalarga","Santa Luca","Santo Toms","Soledad","Sun","Tubar","Usiacur"]},{departamento:"Bogot D.C.",ciudades:["Bogot"]},{departamento:"Bolvar",ciudades:["Ach","Altos del Rosario","Arenal","Arjona","Arroyohondo","Barranco de Loba","Brazuelo de Papayal","Calamar","Cantagallo","Cartagena de Indias","Cicuco","Clemencia","Crdoba","El Carmen de Bolvar","El Guamo","El Pen","Hatillo de Loba","Magangu","Mahates","Margarita","Mara La Baja","Momps","Montecristo","Morales","Noros","Pinillos","Regidor","Ro Viejo","San Cristbal","San Estanislao","San Fernando","San Jacinto","San Jacinto del Cauca","San Juan Nepomuceno","San Martn de Loba","San Pablo","Santa Catalina","Santa Cruz de Mompox","Santa Rosa","Santa Rosa del Sur","Simit","Soplaviento","Talaigua Nuevo","Tiquisio","Turbaco","Turban","Villanueva","Zambrano"]},{departamento:"Boyac",ciudades:["Almeida","Aquitania","Arcabuco","Beln","Berbeo","Betitiva","Boavita","Boyac","Briceo","Buenavista","Busbanz","Caldas","Campohermoso","Cerinza","Chinavita","Chiquinquir","Chquiza","Chiscas","Chita","Chitaraque","Chivat","Chivor","Cinega","Cmbita","Coper","Corrales","Covaracha","Cubar","Cucaita","Cutiva","Duitama","El Cocuy","El Espino","Firavitoba","Floresta","Gachantiv","Gmeza","Garagoa","Guacamayas","Guateque","Guayat","Gicn","Iza","Jenesano","Jeric","La Capilla","La Uvita","La Victoria","Labranzagrande","Macanal","Marip","Miraflores","Mongua","Mongu","Moniquir","Motavita","Muzo","Nobsa","Nuevo Coln","Oicat","Otanche","Pachavita","Pez","Paipa","Pajarito","Panqueba","Pauna","Paya","Paz de Ro","Pesca","Pisba","Puerto Boyac","Qupama","Ramiriqu","Rquira","Rondn","Saboy","Schica","Samac","San Eduardo","San Jos de Pare","San Luis de Gaceno","San Mateo","San Miguel de Sema","San Pablo de Borbur","Santa Mara","Santa Rosa de Viterbo","Santa Sofa","Santana","Sativanorte","Sativasur","Siachoque","Soat","Socha","Socot","Sogamoso","Somondoco","Sora","Sorac","Sotaquir","Susacn","Sutamarchn","Sutatenza","Tasco","Tenza","Tiban","Tibasosa","Tinjac","Tipacoque","Toca","Tog","Tpaga","Tota","Tunja","Tunungu","Turmequ","Tuta","Tutaz","mbita","Ventaquemada","Villa de Leyva","Viracach","Zetaquira"]},{departamento:"Caldas",ciudades:["Aguadas","Anserma","Aranzazu","Belalczar","Chinchin","Filadelfia","La Dorada","La Merced","Manizales","Manzanares","Marmato","Marquetalia","Marulanda","Neira","Norcasia","Pcora","Palestina","Pensilvania","Riosucio","Risaralda","Salamina","Saman","San Jos","Supa","Victoria","Villamara","Viterbo"]},{departamento:"Caquet",ciudades:["Albania","Beln de los Andaques","Cartagena del Chair","Curillo","El Doncello","El Paujil","Florencia","La Montaita","Miln","Morelia","Puerto Rico","San Jos del Fragua","San Vicente del Cagun","Solano","Solita","Valparaso"]},{departamento:"Casanare",ciudades:["Aguazul","Chmeza","Hato Corozal","La Salina","Man","Monterrey","Nuncha","Orocu","Paz de Ariporo","Pore","Recetor","Sabanalarga","Scama","San Luis de Palenque","Tmara","Tauramena","Trinidad","Villanueva","Yopal"]},{departamento:"Cauca",ciudades:["Almaguer","Argelia","Balboa","Bolvar","Buenos Aires","Cajibo","Caldono","Caloto","Corinto","El Tambo","Florencia","Guachen","Guap","Inz","Jambal","La Sierra","La Vega","Lpez de Micay","Mercaderes","Miranda","Morales","Padilla","Pez","Pata","Piamonte","Piendam","Popayn","Puerto Tejada","Purac","Rosas","San Sebastin","Santa Rosa","Santander de Quilichao","Silvia","Sotar","Surez","Sucre","Timbo","Timbiqu","Toribo","Totor","Villa Rica"]},{departamento:"Cesar",ciudades:["Aguachica","Agustn Codazzi","Astrea","Becerril","Bosconia","Chimichagua","Chiriguan","Curuman","El Copey","El Paso","Gamarra","Gonzlez","La Gloria","La Jagua de Ibirico","La Paz","Manaure Balcn del Cesar","Pailitas","Pelaya","Pueblo Bello","Ro de Oro","San Alberto","San Diego","San Martn","Tamalameque","Valledupar"]},{departamento:"Choc",ciudades:["Acand","Alto Baud","Atrato","Bagad","Baha Solano","Bajo Baud","Bojay","Carmen del Darin","Crtegui","Condoto","El Cantn del San Pablo","El Carmen de Atrato","El Litoral del San Juan","Istmina","Jurad","Llor","Medio Atrato","Medio Baud","Medio San Juan","Nvita","Nuqu","Quibd","Riosucio","Ro Ir","Ro Quito","San Jos del Palmar","Sip","Tad","Ungua","Unin Panamericana"]},{departamento:"Crdoba",ciudades:["Ayapel","Buenavista","Canalete","Ceret","Chim","Chin","Cinaga de Oro","Cotorra","La Apartada","Lorica","Los Crdobas","Momil","Montelbano","Montera","Moitos","Planeta Rica","Pueblo Nuevo","Puerto Escondido","Puerto Libertador","Pursima","Sahagn","San Andrs de Sotavento","San Antero","San Bernardo del Viento","San Carlos","San Jos de Ur","San Pelayo","Santa Cruz de Lorica","Tierralta","Tuchn","Valencia"]},{departamento:"Cundinamarca",ciudades:["Agua de Dios","Albn","Anapoima","Anolaima","Apulo","Arbelez","Beltrn","Bituima","Bojac","Cabrera","Cachipay","Cajic","Caparrap","Cqueza","Carmen de Carupa","Chaguan","Cha","Chipaque","Choach","Chocont","Cogua","Cota","Cucunub","El Colegio","El Pen","El Rosal","Facatativ","Fmeque","Fosca","Funza","Fquene","Fusagasug","Gachal","Gachancip","Gachet","Gama","Girardot","Granada","Guachet","Guaduas","Guasca","Guataqu","Guatavita","Guayabal de Squima","Guayabetal","Gutirrez","Jerusaln","Junn","La Calera","La Mesa","La Palma","La Pea","La Vega","Lenguazaque","Machet","Madrid","Manta","Medina","Mosquera","Nario","Nemocn","Nilo","Nimaima","Nocaima","Pacho","Paime","Pandi","Paratebueno","Pasca","Puerto Salgar","Pul","Quebradanegra","Quetame","Quipile","Ricaurte","San Antonio del Tequendama","San Bernardo","San Cayetano","San Francisco","San Juan de Rioseco","Sasaima","Sesquil","Sibat","Silvania","Simijaca","Soacha","Sop","Subachoque","Suesca","Supat","Susa","Sutatausa","Tabio","Tausa","Tena","Tenjo","Tibacuy","Tibirita","Tocaima","Tocancip","Topaip","Ubal","Ubaque","Ubat","Une","tica","Venecia","Vergara","Vian","Villagmez","Villapinzn","Villeta","Viot","Yacop","Zipacn","Zipaquir"]},{departamento:"Guaina",ciudades:["Inrida"]},{departamento:"Guaviare",ciudades:["Calamar","El Retorno","Miraflores","San Jos del Guaviare"]},{departamento:"Huila",ciudades:["Acevedo","Agrado","Aipe","Algeciras","Altamira","Baraya","Campoalegre","Colombia","Elas","Garzn","Gigante","Guadalupe","Hobo","quira","Isnos","La Argentina","La Plata","Ntaga","Neiva","Oporapa","Paicol","Palermo","Palestina","Pital","Pitalito","Rivera","Saladoblanco","San Agustn","Santa Mara","Suaza","Tarqui","Tello","Teruel","Tesalia","Timan","Villavieja","Yaguar"]},{departamento:"La Guajira",ciudades:["Albania","Barrancas","Dibulla","Distraccin","El Molino","Fonseca","Hatonuevo","La Jagua del Pilar","Maicao","Manaure","Riohacha","San Juan del Cesar","Uribia","Urumita","Villanueva"]},{departamento:"Magdalena",ciudades:["Algarrobo","Aracataca","Ariguan","Cerro de San Antonio","Chivolo","Cinaga","Concordia","El Banco","El Pin","El Retn","Fundacin","Guamal","Nueva Granada","Pedraza","Pijio del Carmen","Pivijay","Plato","Puebloviejo","Remolino","Sabanas de San ngel","Salamina","San Sebastin de Buenavista","San Zenn","Santa Ana","Santa Brbara de Pinto","Santa Marta","Sitionuevo","Tenerife","Zapayn","Zona Bananera"]},{departamento:"Meta",ciudades:["Acacas","Barranca de Upa","Cabuyaro","Castilla la Nueva","Cubarral","Cumaral","El Calvario","El Castillo","El Dorado","Fuente de Oro","Granada","Guamal","La Macarena","Lejanas","Mapiripn","Mesetas","Puerto Concordia","Puerto Gaitn","Puerto Lleras","Puerto Lpez","Puerto Rico","Restrepo","San Carlos de Guaroa","San Juan de Arama","San Juanito","San Martn","Uribe","Villavicencio","Vista Hermosa"]},{departamento:"Nario",ciudades:["Aldana","Ancuy","Arboleda","Barbacoas","Beln","Buesaco","Chachag","Coln","Consac","Contadero","Crdoba","Cuaspud","Cumbal","Cumbitara","El Charco","El Peol","El Rosario","El Tabln de Gmez","El Tambo","Francisco Pizarro","Funes","Guachucal","Guaitarilla","Gualmatn","Iles","Imus","Ipiales","La Cruz","La Florida","La Llanada","La Tola","La Unin","Leiva","Linares","Los Andes","Mag Payn","Mallama","Mosquera","Nario","Olaya Herrera","Ospina","Pasto","Policarpa","Potos","Providencia","Puerres","Pupiales","Ricaurte","Roberto Payn","Samaniego","San Bernardo","San Lorenzo","San Pablo","San Pedro de Cartago","Sandon","Santa Brbara","Santacruz","Sapuyes","Taminango","Tangua","Tumaco","Tquerres","Yacuanquer"]},{departamento:"Norte de Santander",ciudades:["brego","Arboledas","Bochalema","Bucarasica","Cchira","Ccota","Chincota","Chitag","Convencin","Ccuta","Cucutilla","Durana","El Carmen","El Tarra","El Zulia","Gramalote","Hacar","Herrn","La Esperanza","La Playa de Beln","Labateca","Los Patios","Lourdes","Mutiscua","Ocaa","Pamplona","Pamplonita","Puerto Santander","Ragonvalia","Salazar de Las Palmas","San Calixto","San Cayetano","Santiago","Sardinata","Silos","Teorama","Tib","Toledo","Villa Caro","Villa del Rosario"]},{departamento:"Putumayo",ciudades:["Coln","Mocoa","Orito","Puerto Ass","Puerto Caicedo","Puerto Guzmn","Puerto Leguzamo","San Francisco","San Miguel","Santiago","Sibundoy","Valle del Guamuez","Villagarzn"]},{departamento:"Quindo",ciudades:["Armenia","Buenavista","Calarc","Circasia","Crdoba","Filandia","Gnova","La Tebaida","Montenegro","Pijao","Quimbaya","Salento"]},{departamento:"Risaralda",ciudades:["Apa","Balboa","Beln de Umbra","Dosquebradas","Gutica","La Celia","La Virginia","Marsella","Mistrat","Pereira","Pueblo Rico","Quincha","Santa Rosa de Cabal","Santuario"]},{departamento:"San Andrs y Providencia",ciudades:["Providencia y Santa Catalina Islas","San Andrs"]},{departamento:"Santander",ciudades:["Aguada","Albania","Aratoca","Barbosa","Barichara","Barrancabermeja","Betulia","Bolvar","Bucaramanga","Cabrera","California","Capitanejo","Carcas","Cepit","Cerrito","Charal","Charta","Chima","Chipat","Cimitarra","Concepcin","Confines","Contratacin","Coromoro","Curit","El Carmen de Chucur","El Guacamayo","El Pen","El Playn","Encino","Enciso","Florin","Floridablanca","Galn","Gmbita","Girn","Guaca","Guadalupe","Guapot","Guavat","Gepsa","Hato","Jess Mara","Jordn","La Belleza","La Paz","Landzuri","Lebrija","Los Santos","Macaravita","Mlaga","Matanza","Mogotes","Molagavita","Ocamonte","Oiba","Onzaga","Palmar","Palmas del Socorro","Pramo","Piedecuesta","Pinchote","Puente Nacional","Puerto Parra","Puerto Wilches","Rionegro","Sabana de Torres","San Andrs","San Benito","San Gil","San Joaqun","San Jos de Miranda","San Miguel","San Vicente de Chucur","Santa Brbara","Santa Helena del Opn","Simacota","Socorro","Suaita","Sucre","Surat","Tona","Valle de San Jos","Vlez","Vetas","Villanueva","Zapatoca"]},{departamento:"Sucre",ciudades:["Buenavista","Caimito","Chaln","Colos","Corozal","Coveas","El Roble","Galeras","Guaranda","La Unin","Los Palmitos","Majagual","Morroa","Ovejas","Palmito","Sampus","San Benito Abad","San Juan de Betulia","San Marcos","San Onofre","San Pedro","Sinc","Sincelejo","Sucre","Tol","Tol Viejo"]},{departamento:"Tolima",ciudades:["Alpujarra","Alvarado","Ambalema","Anzotegui","Armero","Ataco","Cajamarca","Carmen de Apical","Casabianca","Chaparral","Coello","Coyaima","Cunday","Dolores","Espinal","Falan","Flandes","Fresno","Guamo","Herveo","Honda","Ibagu","Icononzo","Lrida","Lbano","Mariquita","Melgar","Murillo","Natagaima","Ortega","Palocabildo","Piedras","Planadas","Prado","Purificacin","Rioblanco","Roncesvalles","Rovira","Saldaa","San Antonio","San Luis","Santa Isabel","Surez","Valle de San Juan","Venadillo","Villahermosa","Villarrica"]},{departamento:"Valle del Cauca",ciudades:["Alcal","Andaluca","Ansermanuevo","Argelia","Bolvar","Buenaventura","Buga","Bugalagrande","Caicedonia","Cali","Candelaria","Cartago","Dagua","El guila","El Cairo","El Cerrito","El Dovio","Florida","Ginebra","Guacar","Jamund","La Cumbre","La Unin","La Victoria","Obando","Palmira","Pradera","Restrepo","Riofro","Roldanillo","San Pedro","Sevilla","Toro","Trujillo","Tulu","Ulloa","Versalles","Vijes","Yotoco","Yumbo","Zarzal"]},{departamento:"Vaups",ciudades:["Carur","Mit","Pacoa","Papunahua","Taraira","Yavarat"]},{departamento:"Vichada",ciudades:["Cumaribo","La Primavera","Puerto Carreo","Santa Rosala"]}]},hh=MT.departamentos.flatMap(n=>n.ciudades).sort(),zi=16,wT=n=>{if(isNaN(n)||n<0)return{lbs:0,oz:0};const e=Math.round(n),i=Math.floor(e/zi),l=e%zi;return{lbs:i,oz:l}},gc=(n,e)=>Math.round(n*zi+e),oc=(n,e=!1)=>{const{lbs:i,oz:l}=wT(n),s=e?" Lb.Oz":"";return`${i}.${String(l).padStart(2,"0")}${s}`},RT=n=>{let e=n.replace(/[^0-9.]/g,"");!e.includes(".")&&e.length===3&&(e=`${e.substring(0,1)}.${e.substring(1)}`);const i=e.split(".");let l=parseInt(i[0],10)||0,s=i[1]||"0",c=parseInt(s,10)||0;return c>=zi&&(l+=Math.floor(c/zi),c=c%zi),gc(l,c)},fs=({label:n,value:e,onChange:i,disabled:l,validator:s})=>{const[c,f]=Q.useState(oc(e)),[g,y]=Q.useState(!0),[h,S]=Q.useState(!1),C=Q.useRef(null);Q.useEffect(()=>{f(oc(e)),y(s?s(e):!0)},[e,s]),Q.useEffect(()=>{const b=N=>{C.current&&!C.current.contains(N.target)&&S(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const T=Q.useMemo(()=>{const b=[],N=gc(2,10),_=gc(5,4);for(let A=N;A<=_;A++)b.push(A);return b},[]);return v.jsxs("div",{ref:C,className:"relative",children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:n}),v.jsxs("div",{className:"relative flex items-center",children:[v.jsx("input",{type:"text",value:c,onChange:b=>f(b.target.value),onFocus:()=>S(!0),onBlur:()=>i(RT(c)),disabled:l,className:`w-full bg-[#2a2f3e] border ${g?"border-gray-700":"border-red-500"} text-gray-200 rounded-md px-3 py-2 outline-none text-center font-mono font-bold shadow-inner`}),v.jsx("button",{type:"button",onClick:()=>S(!h),className:"absolute right-2 text-gray-500",children:v.jsx(_y,{className:"w-4 h-4"})})]}),h&&!l&&v.jsx("div",{className:"absolute top-full mt-1 w-full bg-[#1e2230] border border-gray-700 rounded shadow-xl z-50 max-h-40 overflow-y-auto grid grid-cols-4 p-1 gap-1",children:T.map(b=>v.jsx("button",{onClick:()=>{i(b),S(!1)},className:"p-1 text-[10px] hover:bg-amber-500 hover:text-black rounded text-gray-300 font-mono",children:oc(b)},b))})]})},bt=({label:n,value:e,onChange:i,placeholder:l,disabled:s,type:c="text",required:f,min:g,inputClassName:y})=>v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:n}),v.jsx("input",{type:c,value:e,onChange:i,placeholder:l,disabled:s,required:f,min:g,className:`w-full bg-[#2a2f3e] border border-gray-700 rounded-md px-3 py-2 outline-none focus:border-amber-500 transition-colors disabled:opacity-50 ${y||"text-gray-200"}`})]}),DT=({isOpen:n,onClose:e,onSaveSingle:i,onAddSingleGallo:l,gallo:s,cuerdas:c,gallos:f,torneo:g})=>{const[y,h]=Q.useState(""),[S,C]=Q.useState(0),[T,b]=Q.useState(null),N={ringId:"",color:"",cuerdaId:"",weight:0,ageMonths:"",markingId:"",breederPlateId:"",tipoGallo:Jo.LISO,marca:""},[_,A]=Q.useState(N),R=Q.useMemo(()=>{if(!y)return[];const Y=c.find(W=>W.id===y);if(!Y)return[];Y.baseCuerdaId||Y.id;const j=Y.name.replace(/\s\(F\d+\)$/,"");return c.filter(W=>W.name.startsWith(j)).sort((W,me)=>W.name.localeCompare(me.name,void 0,{numeric:!0}))},[y,c]),B=Q.useMemo(()=>{if(!y||R.length===0)return[];const Y=new Set(R.map(j=>j.id));return f.filter(j=>Y.has(j.cuerdaId))},[f,R,y]),q=Q.useMemo(()=>{const Y=R.length;if(Y===0)return[];const j=[];for(let W=0;W<g.roostersPerTeam;W++){const me=W%Y,U=R[me],k=Math.floor(W/Y),ye=B.filter(Ee=>Ee.cuerdaId===U.id)[k];j.push({slotIndex:W+1,front:U,gallo:ye})}return j},[R,B,g.roostersPerTeam]),O=Y=>{b(Y),A({...Y,ageMonths:String(Y.ageMonths),marca:String(Y.marca),breederPlateId:Y.breederPlateId==="N/A"?"":Y.breederPlateId})},H=Y=>{const j=q[Y];if(!j)return;const W=c.find(me=>me.id===y);A({...N,cuerdaId:j.front.id,breederPlateId:(W==null?void 0:W.breederPlateId)==="N/A"?"":(W==null?void 0:W.breederPlateId)||""}),b(null)},z=Q.useMemo(()=>{if(T){const Y=T.breederPlateId==="N/A"?"":T.breederPlateId;return _.ringId!==T.ringId||_.color!==T.color||_.weight!==T.weight||_.ageMonths!==String(T.ageMonths)||_.markingId!==T.markingId||_.breederPlateId!==Y||_.tipoGallo!==T.tipoGallo||_.marca!==String(T.marca)}return _.ringId!==""||_.color!==""||_.weight!==0||_.ageMonths!==""||_.markingId!==""||_.marca!==""},[_,T]);Q.useEffect(()=>{var Y;if(n){if(s){const j=((Y=c.find(W=>W.id===s.cuerdaId))==null?void 0:Y.baseCuerdaId)||s.cuerdaId;h(j)}else if(c.length>0&&y===""){const j=c.find(W=>!W.baseCuerdaId)||c[0];h(j.id)}}},[n,s,c]),Q.useEffect(()=>{if(n&&q.length>0){let Y=0;if(s){const W=q.findIndex(me=>{var U;return((U=me.gallo)==null?void 0:U.id)===s.id});W!==-1&&(Y=W)}C(Y);const j=q[Y];j.gallo?O(j.gallo):H(Y)}},[n,y,q.length,s==null?void 0:s.id]);const Z=Y=>{C(Y);const j=q[Y];j.gallo?O(j.gallo):H(Y)},oe=Y=>{h(Y)},J=()=>{if(!_.ringId||!_.color||_.weight===0||!_.marca||!_.ageMonths){alert("Por favor completa los campos obligatorios.");return}const Y={..._,ageMonths:Number(_.ageMonths),marca:Number(_.marca),breederPlateId:_.breederPlateId.trim()||"N/A"};T?(i(Y,T.id),b({...T,...Y,id:T.id,tipoEdad:Y.ageMonths>=12?gn.GALLO:gn.POLLO})):l(Y)},ie=Q.useMemo(()=>c.filter(j=>!j.baseCuerdaId).map(j=>{const me=c.filter(U=>U.baseCuerdaId===j.id||U.id===j.id).map((U,k)=>`(F${k+1})`).join(" ");return{id:j.id,label:`${j.name.replace(/\s\(F\d+\)$/,"")} ${me}`}}),[c]);if(!n)return null;const he=_.marca?ph[_.marca]||[]:[];return v.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:v.jsxs("div",{className:"bg-[#1a1d29] w-full max-w-4xl rounded-xl border border-gray-800 shadow-2xl overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"p-5 flex flex-col md:flex-row items-center justify-between border-b border-gray-800 gap-4",children:[v.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 overflow-x-auto w-full custom-scrollbar pb-2 md:pb-0",children:[v.jsx("h2",{className:"text-2xl font-bold text-[#facc15] whitespace-nowrap",children:T?"Editar Gallo":"Aadir Gallos"}),v.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-1",children:q.map((Y,j)=>{const W=S===j,me=!!Y.gallo;return v.jsxs("button",{onClick:()=>Z(j),className:`px-3 py-1.5 text-xs font-bold rounded-md transition-all whitespace-nowrap border ${W?"bg-amber-500 text-black border-amber-500":me?"bg-[#2a2f3e] text-amber-400 border-amber-500/50 hover:bg-[#363b4e]":"text-gray-500 border-gray-700 hover:text-gray-300"}`,children:["F",j%R.length+1," (",j+1,"/",g.roostersPerTeam,")"]},j)})})]}),v.jsxs("div",{className:"flex items-center space-x-4 shrink-0",children:[v.jsx("select",{value:y,onChange:Y=>oe(Y.target.value),className:"bg-[#1a1d29] border-2 border-[#facc15] text-white rounded-md px-3 py-1.5 text-sm outline-none min-w-[180px]",children:ie.map(Y=>v.jsx("option",{value:Y.id,children:Y.label},Y.id))}),v.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white transition-colors",children:v.jsx(hs,{className:"w-6 h-6"})})]})]}),v.jsx("div",{className:"p-8 space-y-6 flex-grow overflow-y-auto custom-scrollbar",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-6 bg-[#1f2330] p-8 rounded-xl border border-gray-800 shadow-inner",children:[v.jsx(bt,{label:"ID del Anillo (A)",value:_.ringId,onChange:Y=>A({..._,ringId:Y.target.value})}),v.jsx(bt,{label:"Nmero de Placa Marcaje (Pm)",value:_.markingId,onChange:Y=>A({..._,markingId:Y.target.value})}),v.jsx(bt,{label:"Placa del Criadero (Pc)",value:_.breederPlateId,onChange:Y=>A({..._,breederPlateId:Y.target.value}),placeholder:"N/A"}),v.jsx(bt,{label:"Color del Gallo",value:_.color,onChange:Y=>A({..._,color:Y.target.value})}),v.jsx(fs,{label:"Peso (Lb.Oz)",value:_.weight,onChange:Y=>A({..._,weight:Y})}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Marca"}),v.jsxs("select",{value:_.marca,onChange:Y=>A({..._,marca:Y.target.value,ageMonths:""}),className:"w-full bg-[#2a2f3e] border border-gray-700 text-gray-200 rounded-md px-3 py-2 outline-none focus:border-amber-500 transition-colors",children:[v.jsx("option",{value:"",children:"Seleccionar..."}),Object.keys(ph).map(Y=>v.jsxs("option",{value:Y,children:["Marca ",Y]},Y))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Edad"}),v.jsxs("select",{value:_.ageMonths,onChange:Y=>A({..._,ageMonths:Y.target.value}),className:"w-full bg-[#2a2f3e] border border-gray-700 text-gray-200 rounded-md px-3 py-2 outline-none focus:border-amber-500 transition-colors",children:[v.jsx("option",{value:"",children:"Seleccionar..."}),he.map(Y=>v.jsx("option",{value:Y.ageMonths,children:Y.displayText},Y.ageMonths))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Tipo (Pollo/Gallo)"}),v.jsx("input",{type:"text",value:Number(_.ageMonths)>=12?"Gallo":"Pollo",disabled:!0,className:"w-full bg-[#2a2f3e] border border-gray-700 text-gray-400 rounded-md px-3 py-2 outline-none opacity-60 font-medium"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Fenotipo"}),v.jsx("select",{value:_.tipoGallo,onChange:Y=>A({..._,tipoGallo:Y.target.value}),className:"w-full bg-[#2a2f3e] border border-gray-700 text-gray-200 rounded-md px-3 py-2 outline-none focus:border-amber-500 transition-colors",children:Object.values(Jo).map(Y=>v.jsx("option",{value:Y,children:Y},Y))})]}),v.jsx("div",{className:"md:col-span-3 pt-6",children:v.jsx("button",{onClick:J,className:`w-full ${z?"bg-green-600 hover:bg-green-700":"bg-[#5c637a] hover:bg-[#6c7491]"} text-white font-bold py-4 rounded-lg transition-all shadow-lg text-lg flex items-center justify-center space-x-2 active:scale-[0.99]`,children:T?v.jsxs(v.Fragment,{children:[v.jsx(gs,{className:"w-5 h-5"})," ",v.jsx("span",{children:"Guardar Cambios del Gallo"})]}):v.jsxs(v.Fragment,{children:[v.jsx(Is,{className:"w-5 h-5"})," ",v.jsx("span",{children:"Aadir Gallo a este Frente"})]})})})]})}),v.jsx("div",{className:"p-4 flex justify-end bg-[#1a1d29] border-t border-gray-800",children:v.jsx("button",{onClick:e,className:"bg-[#facc15] hover:bg-[#eab308] text-black font-bold py-2.5 px-10 rounded-lg transition-colors shadow-md",children:"Cerrar"})})]})})},gh=({options:n,selectedValue:e,onSelect:i,disabledValue:l,placeholder:s,disabled:c=!1})=>{const[f,g]=Q.useState(!1),[y,h]=Q.useState(""),S=Q.useRef(null);Q.useEffect(()=>{const N=_=>{S.current&&!S.current.contains(_.target)&&(g(!1),h(""))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const{filteredCities:C,filteredCuerdas:T}=Q.useMemo(()=>{const N=y.toLowerCase(),_=n.filter(A=>(l==null?void 0:l.type)==="cuerda"&&A.id===l.id?!1:A.name.toLowerCase().includes(N)||A.city&&A.city.toLowerCase().includes(N));return{filteredCities:_.filter(A=>A.type==="city"),filteredCuerdas:_.filter(A=>A.type==="cuerda")}},[n,y,l]),b=()=>e?e.type==="city"?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"font-semibold text-blue-300",children:"CIUDAD:"})," ",e.name]}):v.jsxs(v.Fragment,{children:[e.name," ",v.jsxs("span",{className:"text-gray-400",children:["(",e.city,")"]})]}):v.jsx("span",{className:"text-gray-400",children:s});return v.jsxs("div",{ref:S,className:"relative w-full",children:[v.jsxs("button",{type:"button",onClick:()=>!c&&g(!f),disabled:c,className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg px-3 py-2 text-left flex justify-between items-center text-sm disabled:bg-gray-800 disabled:opacity-70",children:[v.jsx("span",{children:b()}),v.jsx(_y,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-180":""}`})]}),f&&v.jsxs("div",{className:"absolute top-full mt-1 w-full bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-20 p-2",children:[v.jsx("input",{type:"text",placeholder:"Buscar por nombre o ciudad...",value:y,onChange:N=>h(N.target.value),className:"w-full bg-gray-900 text-white rounded-md px-3 py-2 mb-2 focus:ring-2 focus:ring-amber-500 outline-none text-sm",autoFocus:!0}),v.jsxs("ul",{className:"max-h-48 overflow-y-auto custom-scrollbar",children:[C.length>0&&v.jsxs(v.Fragment,{children:[v.jsx("li",{className:"px-2 py-1 text-xs font-bold text-blue-300 uppercase",children:"Ciudades"}),C.map(N=>v.jsx("li",{onClick:()=>{i(N),g(!1),h("")},className:"p-2 rounded-md hover:bg-gray-700 cursor-pointer text-sm",children:v.jsx("div",{className:"font-semibold",children:N.name})},N.id))]}),T.length>0&&v.jsxs(v.Fragment,{children:[v.jsx("li",{className:"px-2 py-1 text-xs font-bold text-amber-300 uppercase mt-1",children:"Cuerdas"}),T.map(N=>v.jsxs("li",{onClick:()=>{i(N),g(!1),h("")},className:"p-2 rounded-md hover:bg-gray-700 cursor-pointer text-sm",children:[v.jsx("div",{className:"font-semibold",children:N.name}),v.jsx("div",{className:"text-xs text-gray-400",children:N.city})]},N.id))]}),C.length===0&&T.length===0&&v.jsx("li",{className:"p-2 text-gray-500 text-sm",children:"No se encontraron resultados."})]})]})]})},UT=({isOpen:n,onClose:e,torneo:i,cuerdas:l,onUpdateTorneo:s,isReadOnly:c})=>{const[f,g]=Q.useState(null),[y,h]=Q.useState(null),S=Q.useMemo(()=>l.filter(_=>!_.baseCuerdaId).map(_=>({id:_.id,name:_.name.replace(/\s\(F\d+\)$/,""),city:_.city||"N/A"})).sort((_,A)=>_.name.localeCompare(A.name)),[l]),C=Q.useMemo(()=>{const A=Array.from(new Set(S.map(B=>B.city).filter(B=>B!=="N/A"))).sort().map(B=>({id:`city_${B}`,type:"city",name:B,city:"CIUDAD"})),R=S.map(B=>({id:B.id,type:"cuerda",name:B.name,city:B.city}));return[...A,...R]},[S]),T=()=>{if(!f||!y)return;const _=H=>H.type==="city"?S.filter(z=>z.city===H.name).map(z=>z.id):[H.id],A=_(f),R=_(y),B=[];for(const H of A)for(const z of R)H!==z&&B.push({cuerda1Id:H,cuerda2Id:z});const q=new Set(i.exceptions.map(H=>{const z=[H.cuerda1Id,H.cuerda2Id].sort();return`${z[0]}-${z[1]}`})),O=B.filter(H=>{const z=[H.cuerda1Id,H.cuerda2Id].sort(),Z=`${z[0]}-${z[1]}`;return q.has(Z)?!1:(q.add(Z),!0)});O.length>0&&s({...i,exceptions:[...i.exceptions,...O]}),g(null),h(null)},b=_=>{const A=i.exceptions.filter((R,B)=>B!==_);s({...i,exceptions:A})},N=_=>{var A;return((A=S.find(R=>R.id===_))==null?void 0:A.name)||"Desconocido"};return v.jsx(qc,{isOpen:n,onClose:e,title:"Gestionar Excepciones de Cotejo",children:v.jsxs("div",{className:"space-y-4",children:[!c&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Aadir Nueva Excepcin"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(gh,{options:C,selectedValue:f,onSelect:g,disabledValue:y,placeholder:"Seleccionar Cuerda/Ciudad 1..."}),v.jsx(gh,{options:C,selectedValue:y,onSelect:h,disabledValue:f,placeholder:"Seleccionar Cuerda/Ciudad 2..."}),v.jsx("button",{onClick:T,type:"button",className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg flex-shrink-0 disabled:bg-gray-600",disabled:!f||!y,children:v.jsx(Is,{className:"w-5 h-5"})})]})]}),v.jsx("hr",{className:"border-gray-600 my-4"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Excepciones Actuales"}),v.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-2",children:i.exceptions.length===0?v.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay excepciones configuradas."}):i.exceptions.map((_,A)=>v.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 p-2 rounded-lg text-sm",children:[v.jsxs("span",{children:[N(_.cuerda1Id)," ",v.jsx("span",{className:"text-red-400 font-bold",children:"vs"})," ",N(_.cuerda2Id)]}),!c&&v.jsx("button",{onClick:()=>b(A),className:"p-1 text-gray-400 hover:text-red-500",children:v.jsx(hc,{className:"w-4 h-4"})})]},A))})]}),v.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-700 mt-4",children:v.jsx("button",{type:"button",onClick:e,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg",children:"Cerrar"})})]})})};var LT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PT,GT;function BT(){return{geminiUrl:PT,vertexUrl:GT}}function HT(n,e,i,l){var s,c;if(!(n!=null&&n.baseUrl)){const f=BT();return e?(s=f.vertexUrl)!==null&&s!==void 0?s:i:(c=f.geminiUrl)!==null&&c!==void 0?c:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yn{}function ne(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(l,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const c=e[s];return c!=null?String(c):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function d(n,e,i){for(let c=0;c<e.length-1;c++){const f=e[c];if(f.endsWith("[]")){const g=f.slice(0,-2);if(!(g in n))if(Array.isArray(i))n[g]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(i))for(let h=0;h<y.length;h++){const S=y[h];d(S,e.slice(c+1),i[h])}else for(const h of y)d(h,e.slice(c+1),i)}return}else if(f.endsWith("[0]")){const g=f.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];d(y[0],e.slice(c+1),i);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const l=e[e.length-1],s=n[l];if(s!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===s)return;if(typeof s=="object"&&typeof i=="object"&&s!==null&&i!==null)Object.assign(s,i);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[l]=i}function u(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return i;const s=e[l];if(s.endsWith("[]")){const c=s.slice(0,-2);if(c in n){const f=n[c];return Array.isArray(f)?f.map(g=>u(g,e.slice(l+1),i)):i}else return i}else n=n[s]}return n}catch(l){if(l instanceof TypeError)return i;throw l}}function VT(n,e){for(const[i,l]of Object.entries(e)){const s=i.split("."),c=l.split("."),f=new Set;let g=-1;for(let y=0;y<s.length;y++)if(s[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const h=c[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&f.add(h)}yc(n,s,c,0,f)}}function yc(n,e,i,l,s){if(l>=e.length||typeof n!="object"||n===null)return;const c=e[l];if(c.endsWith("[]")){const f=c.slice(0,-2),g=n;if(f in g&&Array.isArray(g[f]))for(const y of g[f])yc(y,e,i,l+1,s)}else if(c==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,g=Object.keys(f).filter(h=>!h.startsWith("_")&&!s.has(h)),y={};for(const h of g)y[h]=f[h];for(const[h,S]of Object.entries(y)){const C=[];for(const T of i.slice(l))T==="*"?C.push(h):C.push(T);d(f,C,S)}for(const h of g)delete f[h]}}else{const f=n;c in f&&yc(f[c],e,i,l+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zT(n){const e={},i=u(n,["operationName"]);i!=null&&d(e,["operationName"],i);const l=u(n,["resourceName"]);return l!=null&&d(e,["_url","resourceName"],l),e}function qT(n){const e={},i=u(n,["name"]);i!=null&&d(e,["name"],i);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],kT(f)),e}function OT(n){const e={},i=u(n,["name"]);i!=null&&d(e,["name"],i);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],FT(f)),e}function kT(n){const e={},i=u(n,["generatedSamples"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>JT(f))),d(e,["generatedVideos"],c)}const l=u(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const s=u(n,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function FT(n){const e={},i=u(n,["videos"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>YT(f))),d(e,["generatedVideos"],c)}const l=u(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const s=u(n,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function JT(n){const e={},i=u(n,["video"]);return i!=null&&d(e,["video"],jT(i)),e}function YT(n){const e={},i=u(n,["_self"]);return i!=null&&d(e,["video"],WT(i)),e}function $T(n){const e={},i=u(n,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function KT(n){const e={},i=u(n,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function XT(n){const e={},i=u(n,["name"]);i!=null&&d(e,["name"],i);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],QT(f)),e}function QT(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["parent"]);l!=null&&d(e,["parent"],l);const s=u(n,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function Ay(n){const e={},i=u(n,["name"]);i!=null&&d(e,["name"],i);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],ZT(f)),e}function ZT(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["parent"]);l!=null&&d(e,["parent"],l);const s=u(n,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function jT(n){const e={},i=u(n,["uri"]);i!=null&&d(e,["uri"],i);const l=u(n,["encodedVideo"]);l!=null&&d(e,["videoBytes"],Oc(l));const s=u(n,["encoding"]);return s!=null&&d(e,["mimeType"],s),e}function WT(n){const e={},i=u(n,["gcsUri"]);i!=null&&d(e,["uri"],i);const l=u(n,["bytesBase64Encoded"]);l!=null&&d(e,["videoBytes"],Oc(l));const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yh;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yh||(yh={}));var vh;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(vh||(vh={}));var Sh;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Sh||(Sh={}));var ke;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(ke||(ke={}));var Th;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Th||(Th={}));var Ch;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Ch||(Ch={}));var Eh;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Eh||(Eh={}));var xh;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(xh||(xh={}));var _h;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(_h||(_h={}));var Ah;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Ah||(Ah={}));var bh;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(bh||(bh={}));var Nh;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Nh||(Nh={}));var Ih;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ih||(Ih={}));var Mh;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Mh||(Mh={}));var wh;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(wh||(wh={}));var Rh;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(Rh||(Rh={}));var Dh;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Dh||(Dh={}));var Uh;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Uh||(Uh={}));var Lh;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Lh||(Lh={}));var Ph;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Ph||(Ph={}));var Gh;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Gh||(Gh={}));var ys;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ys||(ys={}));var Bh;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Bh||(Bh={}));var Hh;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Hh||(Hh={}));var Vh;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Vh||(Vh={}));var vc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vc||(vc={}));var zh;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(zh||(zh={}));var qh;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(qh||(qh={}));var Sc;(function(n){n.COLLECTION="COLLECTION"})(Sc||(Sc={}));var Oh;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Oh||(Oh={}));var kh;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(kh||(kh={}));var Fh;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Fh||(Fh={}));var Jh;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Jh||(Jh={}));var Yh;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Yh||(Yh={}));var $h;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($h||($h={}));var Kh;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Kh||(Kh={}));var Xh;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Xh||(Xh={}));var Qh;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Qh||(Qh={}));var Zh;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Zh||(Zh={}));var jh;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(jh||(jh={}));var Wh;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Wh||(Wh={}));var eg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(eg||(eg={}));var tg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(tg||(tg={}));var ng;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(ng||(ng={}));var og;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(og||(og={}));var ig;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(ig||(ig={}));var ag;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ag||(ag={}));var lg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(lg||(lg={}));var sg;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(sg||(sg={}));var rg;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(rg||(rg={}));var ug;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ug||(ug={}));var cg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(cg||(cg={}));var dg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(dg||(dg={}));var fg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(fg||(fg={}));var mg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mg||(mg={}));var pg;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(pg||(pg={}));var Hi;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Hi||(Hi={}));class Tc{constructor(e){const i={};for(const l of e.headers.entries())i[l[0]]=l[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class za{get text(){var e,i,l,s,c,f,g,y;if(((s=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",S=!1;const C=[];for(const T of(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[b,N]of Object.entries(T))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(N!==null||N!==void 0)&&C.push(b);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;S=!0,h+=T.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),S?h:void 0}get data(){var e,i,l,s,c,f,g,y;if(((s=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const S=[];for(const C of(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[T,b]of Object.entries(C))T!=="inlineData"&&(b!==null||b!==void 0)&&S.push(T);C.inlineData&&typeof C.inlineData.data=="string"&&(h+=atob(C.inlineData.data))}return S.length>0&&console.warn(`there are non-data parts ${S} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,i,l,s,c,f,g,y;if(((s=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.functionCall).map(S=>S.functionCall).filter(S=>S!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,i,l,s,c,f,g,y,h;if(((s=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const S=(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((S==null?void 0:S.length)!==0)return(h=S==null?void 0:S[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,i,l,s,c,f,g,y,h;if(((s=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const S=(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((S==null?void 0:S.length)!==0)return(h=S==null?void 0:S[0])===null||h===void 0?void 0:h.output}}class hg{}class gg{}class eC{}class tC{}class nC{}class oC{}class yg{}class vg{}class Sg{}class iC{}class vs{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new vs;let s;const c=e;return i?s=OT(c):s=qT(c),Object.assign(l,s),l}}class Tg{}class Cg{}class Eg{}class xg{}class aC{}class lC{}class sC{}class kc{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new kc,c=XT(e);return Object.assign(l,c),l}}class rC{}class uC{}class cC{}class _g{}class dC{get text(){var e,i,l;let s="",c=!1;const f=[];for(const g of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&f.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,s+=g.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?s:void 0}get data(){var e,i,l;let s="";const c=[];for(const f of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(f))g!=="inlineData"&&y!==null&&c.push(g);f.inlineData&&typeof f.inlineData.data=="string"&&(s+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class fC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Fc{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new Fc,c=Ay(e);return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ve(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function by(n,e){const i=Ve(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function Ny(n){return Array.isArray(n)?n.map(e=>Ss(e)):[Ss(n)]}function Ss(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Iy(n){const e=Ss(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function My(n){const e=Ss(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ag(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function wy(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Ag(e)):[Ag(n)]}function Cc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function bg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Ng(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Nt(n){if(n==null)throw new Error("ContentUnion is required");return Cc(n)?n:{role:"user",parts:wy(n)}}function Jc(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const l=Nt(i);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const i=Nt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Nt(i)):[Nt(e)]}function dn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(bg(n)||Ng(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nt(n)]}const e=[],i=[],l=Cc(n[0]);for(const s of n){const c=Cc(s);if(c!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(s);else{if(bg(s)||Ng(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(s)}}return l||e.push({role:"user",parts:wy(i)}),e}function mC(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(l=>l!=="null");if(i.length===1)e.type=Object.values(ke).includes(i[0].toUpperCase())?i[0].toUpperCase():ke.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of i)e.anyOf.push({type:Object.values(ke).includes(l.toUpperCase())?l.toUpperCase():ke.TYPE_UNSPECIFIED})}}function qi(n){const e={},i=["items"],l=["anyOf"],s=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=n.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,n=c[1]):c[1].type==="null"&&(e.nullable=!0,n=c[0])),n.type instanceof Array&&mC(n.type,e);for(const[f,g]of Object.entries(n))if(g!=null)if(f=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(ke).includes(g.toUpperCase())?g.toUpperCase():ke.TYPE_UNSPECIFIED}else if(i.includes(f))e[f]=qi(g);else if(l.includes(f)){const y=[];for(const h of g){if(h.type=="null"){e.nullable=!0;continue}y.push(qi(h))}e[f]=y}else if(s.includes(f)){const y={};for(const[h,S]of Object.entries(g))y[h]=qi(S);e[f]=y}else{if(f==="additionalProperties")continue;e[f]=g}return e}function Yc(n){return qi(n)}function $c(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Kc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Fi(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=qi(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=qi(e.response));return n}function Ji(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function pC(n,e,i,l=1){const s=!e.startsWith(`${i}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:s?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:s?`${i}/${e}`:e}function $n(n,e){if(typeof e!="string")throw new Error("name must be a string");return pC(n,e,"cachedContents")}function Ry(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function _o(n){return Oc(n)}function hC(n){return n!=null&&typeof n=="object"&&"name"in n}function gC(n){return n!=null&&typeof n=="object"&&"video"in n}function yC(n){return n!=null&&typeof n=="object"&&"uri"in n}function Dy(n){var e;let i;if(hC(n)&&(i=n.name),!(yC(n)&&(i=n.uri,i===void 0))&&!(gC(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const s=i.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${i}`);i=s[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function Uy(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function Ly(n){for(const e of["models","tunedModels","publisherModels"])if(vC(n,e))return n[e];return[]}function vC(n,e){return n!==null&&typeof n=="object"&&e in n}function SC(n,e={}){const i=n,l={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(l.responseJsonSchema=i.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function TC(n,e={}){const i=[],l=new Set;for(const s of n){const c=s.name;if(l.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);l.add(c);const f=SC(s,e);f.functionDeclarations&&i.push(...f.functionDeclarations)}return{functionDeclarations:i}}function Py(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const l=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,s=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(s>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function CC(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Gy(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const s=i.inlinedResponses;if(!Array.isArray(s)||s.length===0)return n;let c=!1;for(const f of s){if(typeof f!="object"||f===null)continue;const y=f.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Yi(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function By(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EC(n){const e={},i=u(n,["responsesFile"]);i!=null&&d(e,["fileName"],i);const l=u(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>nE(f))),d(e,["inlinedResponses"],c)}const s=u(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["inlinedEmbedContentResponses"],c)}return e}function xC(n){const e={},i=u(n,["predictionsFormat"]);i!=null&&d(e,["format"],i);const l=u(n,["gcsDestination","outputUriPrefix"]);l!=null&&d(e,["gcsUri"],l);const s=u(n,["bigqueryDestination","outputUri"]);return s!=null&&d(e,["bigqueryUri"],s),e}function _C(n){const e={},i=u(n,["format"]);i!=null&&d(e,["predictionsFormat"],i);const l=u(n,["gcsUri"]);l!=null&&d(e,["gcsDestination","outputUriPrefix"],l);const s=u(n,["bigqueryUri"]);if(s!=null&&d(e,["bigqueryDestination","outputUri"],s),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ms(n){const e={},i=u(n,["name"]);i!=null&&d(e,["name"],i);const l=u(n,["metadata","displayName"]);l!=null&&d(e,["displayName"],l);const s=u(n,["metadata","state"]);s!=null&&d(e,["state"],By(s));const c=u(n,["metadata","createTime"]);c!=null&&d(e,["createTime"],c);const f=u(n,["metadata","endTime"]);f!=null&&d(e,["endTime"],f);const g=u(n,["metadata","updateTime"]);g!=null&&d(e,["updateTime"],g);const y=u(n,["metadata","model"]);y!=null&&d(e,["model"],y);const h=u(n,["metadata","output"]);return h!=null&&d(e,["dest"],EC(Gy(h))),e}function Ec(n){const e={},i=u(n,["name"]);i!=null&&d(e,["name"],i);const l=u(n,["displayName"]);l!=null&&d(e,["displayName"],l);const s=u(n,["state"]);s!=null&&d(e,["state"],By(s));const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["createTime"]);f!=null&&d(e,["createTime"],f);const g=u(n,["startTime"]);g!=null&&d(e,["startTime"],g);const y=u(n,["endTime"]);y!=null&&d(e,["endTime"],y);const h=u(n,["updateTime"]);h!=null&&d(e,["updateTime"],h);const S=u(n,["model"]);S!=null&&d(e,["model"],S);const C=u(n,["inputConfig"]);C!=null&&d(e,["src"],AC(C));const T=u(n,["outputConfig"]);T!=null&&d(e,["dest"],xC(Gy(T)));const b=u(n,["completionStats"]);return b!=null&&d(e,["completionStats"],b),e}function AC(n){const e={},i=u(n,["instancesFormat"]);i!=null&&d(e,["format"],i);const l=u(n,["gcsSource","uris"]);l!=null&&d(e,["gcsUri"],l);const s=u(n,["bigquerySource","inputUri"]);return s!=null&&d(e,["bigqueryUri"],s),e}function bC(n,e){const i={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=u(e,["fileName"]);l!=null&&d(i,["fileName"],l);const s=u(e,["inlinedRequests"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>tE(n,f))),d(i,["requests","requests"],c)}return i}function NC(n){const e={},i=u(n,["format"]);i!=null&&d(e,["instancesFormat"],i);const l=u(n,["gcsUri"]);l!=null&&d(e,["gcsSource","uris"],l);const s=u(n,["bigqueryUri"]);if(s!=null&&d(e,["bigquerySource","inputUri"],s),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function IC(n){const e={},i=u(n,["data"]);if(i!=null&&d(e,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function MC(n,e){const i={},l=u(e,["name"]);return l!=null&&d(i,["_url","name"],Yi(n,l)),i}function wC(n,e){const i={},l=u(e,["name"]);return l!=null&&d(i,["_url","name"],Yi(n,l)),i}function RC(n){const e={},i=u(n,["content"]);i!=null&&d(e,["content"],i);const l=u(n,["citationMetadata"]);l!=null&&d(e,["citationMetadata"],DC(l));const s=u(n,["tokenCount"]);s!=null&&d(e,["tokenCount"],s);const c=u(n,["finishReason"]);c!=null&&d(e,["finishReason"],c);const f=u(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const g=u(n,["groundingMetadata"]);g!=null&&d(e,["groundingMetadata"],g);const y=u(n,["index"]);y!=null&&d(e,["index"],y);const h=u(n,["logprobsResult"]);h!=null&&d(e,["logprobsResult"],h);const S=u(n,["safetyRatings"]);if(S!=null){let T=S;Array.isArray(T)&&(T=T.map(b=>b)),d(e,["safetyRatings"],T)}const C=u(n,["urlContextMetadata"]);return C!=null&&d(e,["urlContextMetadata"],C),e}function DC(n){const e={},i=u(n,["citationSources"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),d(e,["citations"],l)}return e}function Hy(n){const e={},i=u(n,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>uE(c))),d(e,["parts"],s)}const l=u(n,["role"]);return l!=null&&d(e,["role"],l),e}function UC(n,e){const i={},l=u(n,["displayName"]);if(e!==void 0&&l!=null&&d(e,["batch","displayName"],l),u(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function LC(n,e){const i={},l=u(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const s=u(n,["dest"]);return e!==void 0&&s!=null&&d(e,["outputConfig"],_C(CC(s))),i}function Ig(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["src"]);s!=null&&d(i,["batch","inputConfig"],bC(n,Py(n,s)));const c=u(e,["config"]);return c!=null&&UC(c,i),i}function PC(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["model"],Ve(n,l));const s=u(e,["src"]);s!=null&&d(i,["inputConfig"],NC(Py(n,s)));const c=u(e,["config"]);return c!=null&&LC(c,i),i}function GC(n,e){const i={},l=u(n,["displayName"]);return e!==void 0&&l!=null&&d(e,["batch","displayName"],l),i}function BC(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["src"]);s!=null&&d(i,["batch","inputConfig"],FC(n,s));const c=u(e,["config"]);return c!=null&&GC(c,i),i}function HC(n,e){const i={},l=u(e,["name"]);return l!=null&&d(i,["_url","name"],Yi(n,l)),i}function VC(n,e){const i={},l=u(e,["name"]);return l!=null&&d(i,["_url","name"],Yi(n,l)),i}function zC(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["name"]);l!=null&&d(e,["name"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);return c!=null&&d(e,["error"],c),e}function qC(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["name"]);l!=null&&d(e,["name"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);return c!=null&&d(e,["error"],c),e}function OC(n,e){const i={},l=u(e,["contents"]);if(l!=null){let c=Jc(n,l);Array.isArray(c)&&(c=c.map(f=>f)),d(i,["requests[]","request","content"],c)}const s=u(e,["config"]);return s!=null&&(d(i,["_self"],kC(s,i)),VT(i,{"requests[].*":"requests[].request.*"})),i}function kC(n,e){const i={},l=u(n,["taskType"]);e!==void 0&&l!=null&&d(e,["requests[]","taskType"],l);const s=u(n,["title"]);e!==void 0&&s!=null&&d(e,["requests[]","title"],s);const c=u(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&d(e,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function FC(n,e){const i={},l=u(e,["fileName"]);l!=null&&d(i,["file_name"],l);const s=u(e,["inlinedRequests"]);return s!=null&&d(i,["requests"],OC(n,s)),i}function JC(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function YC(n){const e={},i=u(n,["id"]);i!=null&&d(e,["id"],i);const l=u(n,["args"]);l!=null&&d(e,["args"],l);const s=u(n,["name"]);if(s!=null&&d(e,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $C(n){const e={},i=u(n,["allowedFunctionNames"]);i!=null&&d(e,["allowedFunctionNames"],i);const l=u(n,["mode"]);if(l!=null&&d(e,["mode"],l),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function KC(n,e,i){const l={},s=u(e,["systemInstruction"]);i!==void 0&&s!=null&&d(i,["systemInstruction"],Hy(Nt(s)));const c=u(e,["temperature"]);c!=null&&d(l,["temperature"],c);const f=u(e,["topP"]);f!=null&&d(l,["topP"],f);const g=u(e,["topK"]);g!=null&&d(l,["topK"],g);const y=u(e,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const h=u(e,["maxOutputTokens"]);h!=null&&d(l,["maxOutputTokens"],h);const S=u(e,["stopSequences"]);S!=null&&d(l,["stopSequences"],S);const C=u(e,["responseLogprobs"]);C!=null&&d(l,["responseLogprobs"],C);const T=u(e,["logprobs"]);T!=null&&d(l,["logprobs"],T);const b=u(e,["presencePenalty"]);b!=null&&d(l,["presencePenalty"],b);const N=u(e,["frequencyPenalty"]);N!=null&&d(l,["frequencyPenalty"],N);const _=u(e,["seed"]);_!=null&&d(l,["seed"],_);const A=u(e,["responseMimeType"]);A!=null&&d(l,["responseMimeType"],A);const R=u(e,["responseSchema"]);R!=null&&d(l,["responseSchema"],Yc(R));const B=u(e,["responseJsonSchema"]);if(B!=null&&d(l,["responseJsonSchema"],B),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=u(e,["safetySettings"]);if(i!==void 0&&q!=null){let j=q;Array.isArray(j)&&(j=j.map(W=>cE(W))),d(i,["safetySettings"],j)}const O=u(e,["tools"]);if(i!==void 0&&O!=null){let j=Ji(O);Array.isArray(j)&&(j=j.map(W=>fE(Fi(W)))),d(i,["tools"],j)}const H=u(e,["toolConfig"]);if(i!==void 0&&H!=null&&d(i,["toolConfig"],dE(H)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=u(e,["cachedContent"]);i!==void 0&&z!=null&&d(i,["cachedContent"],$n(n,z));const Z=u(e,["responseModalities"]);Z!=null&&d(l,["responseModalities"],Z);const oe=u(e,["mediaResolution"]);oe!=null&&d(l,["mediaResolution"],oe);const J=u(e,["speechConfig"]);if(J!=null&&d(l,["speechConfig"],$c(J)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=u(e,["thinkingConfig"]);ie!=null&&d(l,["thinkingConfig"],ie);const he=u(e,["imageConfig"]);he!=null&&d(l,["imageConfig"],eE(he));const Y=u(e,["enableEnhancedCivicAnswers"]);if(Y!=null&&d(l,["enableEnhancedCivicAnswers"],Y),u(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return l}function XC(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(h=>RC(h))),d(e,["candidates"],y)}const s=u(n,["modelVersion"]);s!=null&&d(e,["modelVersion"],s);const c=u(n,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const f=u(n,["responseId"]);f!=null&&d(e,["responseId"],f);const g=u(n,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function QC(n,e){const i={},l=u(e,["name"]);return l!=null&&d(i,["_url","name"],Yi(n,l)),i}function ZC(n,e){const i={},l=u(e,["name"]);return l!=null&&d(i,["_url","name"],Yi(n,l)),i}function jC(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function WC(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function eE(n){const e={},i=u(n,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const l=u(n,["imageSize"]);if(l!=null&&d(e,["imageSize"],l),u(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function tE(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["request","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let g=dn(s);Array.isArray(g)&&(g=g.map(y=>Hy(y))),d(i,["request","contents"],g)}const c=u(e,["metadata"]);c!=null&&d(i,["metadata"],c);const f=u(e,["config"]);return f!=null&&d(i,["request","generationConfig"],KC(n,f,u(i,["request"],{}))),i}function nE(n){const e={},i=u(n,["response"]);i!=null&&d(e,["response"],XC(i));const l=u(n,["error"]);return l!=null&&d(e,["error"],l),e}function oE(n,e){const i={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);if(e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),u(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function iE(n,e){const i={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);e!==void 0&&s!=null&&d(e,["_query","pageToken"],s);const c=u(n,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),i}function aE(n){const e={},i=u(n,["config"]);return i!=null&&oE(i,e),e}function lE(n){const e={},i=u(n,["config"]);return i!=null&&iE(i,e),e}function sE(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["operations"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>ms(f))),d(e,["batchJobs"],c)}return e}function rE(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["batchPredictionJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>Ec(f))),d(e,["batchJobs"],c)}return e}function uE(n){const e={},i=u(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const l=u(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const s=u(n,["executableCode"]);s!=null&&d(e,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],JC(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],YC(f));const g=u(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&d(e,["inlineData"],IC(y));const h=u(n,["text"]);h!=null&&d(e,["text"],h);const S=u(n,["thought"]);S!=null&&d(e,["thought"],S);const C=u(n,["thoughtSignature"]);C!=null&&d(e,["thoughtSignature"],C);const T=u(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function cE(n){const e={},i=u(n,["category"]);if(i!=null&&d(e,["category"],i),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=u(n,["threshold"]);return l!=null&&d(e,["threshold"],l),e}function dE(n){const e={},i=u(n,["retrievalConfig"]);i!=null&&d(e,["retrievalConfig"],i);const l=u(n,["functionCallingConfig"]);return l!=null&&d(e,["functionCallingConfig"],$C(l)),e}function fE(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const l=u(n,["fileSearch"]);l!=null&&d(e,["fileSearch"],l);const s=u(n,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(C=>C)),d(e,["functionDeclarations"],S)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],jC(f));const g=u(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],WC(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const h=u(n,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Fn||(Fn={}));class Qo{constructor(e,i,l,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,l,s)}init(e,i,l){var s,c;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!l||Object.keys(l).length===0?f={config:{}}:typeof l=="object"?f=Object.assign({},l):f=l,f.config&&(f.config.pageToken=i.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(c=(s=f.config)===null||s===void 0?void 0:s.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mE extends Yn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Qo(Fn.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=Ig(this.apiClient,e),l=i._url,s=ne("{model}:batchGenerateContent",l),g=i.batch.inputConfig.requests,y=g.requests,h=[];for(const S of y){const C=Object.assign({},S);if(C.systemInstruction){const T=C.systemInstruction;delete C.systemInstruction;const b=C.request;b.systemInstruction=T,C.request=b}h.push(C)}return g.requests=h,delete i.config,delete i._url,delete i._query,{path:s,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const l=i?Object.assign({},i):{},s=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${s}`),l.dest===void 0){const c=this.getGcsUri(e),f=this.getBigqueryUri(e);if(c)c.endsWith(".jsonl")?l.dest=`${c.slice(0,-6)}/dest`:l.dest=`${c}_dest_${s}`;else if(f)l.dest=`${f}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=PC(this.apiClient,e);return g=ne("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>Ec(S))}else{const h=Ig(this.apiClient,e);return g=ne("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>ms(S))}}async createEmbeddingsInternal(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=BC(this.apiClient,e);return c=ne("{model}:asyncBatchEmbedContent",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>ms(y))}}async get(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=ZC(this.apiClient,e);return g=ne("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>Ec(S))}else{const h=QC(this.apiClient,e);return g=ne("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>ms(S))}}async cancel(e){var i,l,s,c;let f="",g={};if(this.apiClient.isVertexAI()){const y=wC(this.apiClient,e);f=ne("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=MC(this.apiClient,e);f=ne("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=lE(e);return g=ne("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=rE(S),T=new _g;return Object.assign(T,C),T})}else{const h=aE(e);return g=ne("batches",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=sE(S),T=new _g;return Object.assign(T,C),T})}}async delete(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=VC(this.apiClient,e);return g=ne("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>qC(S))}else{const h=HC(this.apiClient,e);return g=ne("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>zC(S))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pE(n){const e={},i=u(n,["data"]);if(i!=null&&d(e,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function Mg(n){const e={},i=u(n,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>BE(c))),d(e,["parts"],s)}const l=u(n,["role"]);return l!=null&&d(e,["role"],l),e}function hE(n,e){const i={},l=u(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const s=u(n,["expireTime"]);e!==void 0&&s!=null&&d(e,["expireTime"],s);const c=u(n,["displayName"]);e!==void 0&&c!=null&&d(e,["displayName"],c);const f=u(n,["contents"]);if(e!==void 0&&f!=null){let S=dn(f);Array.isArray(S)&&(S=S.map(C=>Mg(C))),d(e,["contents"],S)}const g=u(n,["systemInstruction"]);e!==void 0&&g!=null&&d(e,["systemInstruction"],Mg(Nt(g)));const y=u(n,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>VE(C))),d(e,["tools"],S)}const h=u(n,["toolConfig"]);if(e!==void 0&&h!=null&&d(e,["toolConfig"],HE(h)),u(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function gE(n,e){const i={},l=u(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const s=u(n,["expireTime"]);e!==void 0&&s!=null&&d(e,["expireTime"],s);const c=u(n,["displayName"]);e!==void 0&&c!=null&&d(e,["displayName"],c);const f=u(n,["contents"]);if(e!==void 0&&f!=null){let C=dn(f);Array.isArray(C)&&(C=C.map(T=>T)),d(e,["contents"],C)}const g=u(n,["systemInstruction"]);e!==void 0&&g!=null&&d(e,["systemInstruction"],Nt(g));const y=u(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(T=>zE(T))),d(e,["tools"],C)}const h=u(n,["toolConfig"]);e!==void 0&&h!=null&&d(e,["toolConfig"],h);const S=u(n,["kmsKeyName"]);return e!==void 0&&S!=null&&d(e,["encryption_spec","kmsKeyName"],S),i}function yE(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["model"],by(n,l));const s=u(e,["config"]);return s!=null&&hE(s,i),i}function vE(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["model"],by(n,l));const s=u(e,["config"]);return s!=null&&gE(s,i),i}function SE(n,e){const i={},l=u(e,["name"]);return l!=null&&d(i,["_url","name"],$n(n,l)),i}function TE(n,e){const i={},l=u(e,["name"]);return l!=null&&d(i,["_url","name"],$n(n,l)),i}function CE(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function EE(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function xE(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function _E(n){const e={},i=u(n,["id"]);i!=null&&d(e,["id"],i);const l=u(n,["args"]);l!=null&&d(e,["args"],l);const s=u(n,["name"]);if(s!=null&&d(e,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function AE(n){const e={},i=u(n,["allowedFunctionNames"]);i!=null&&d(e,["allowedFunctionNames"],i);const l=u(n,["mode"]);if(l!=null&&d(e,["mode"],l),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bE(n){const e={},i=u(n,["description"]);i!=null&&d(e,["description"],i);const l=u(n,["name"]);l!=null&&d(e,["name"],l);const s=u(n,["parameters"]);s!=null&&d(e,["parameters"],s);const c=u(n,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const f=u(n,["response"]);f!=null&&d(e,["response"],f);const g=u(n,["responseJsonSchema"]);if(g!=null&&d(e,["responseJsonSchema"],g),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function NE(n,e){const i={},l=u(e,["name"]);return l!=null&&d(i,["_url","name"],$n(n,l)),i}function IE(n,e){const i={},l=u(e,["name"]);return l!=null&&d(i,["_url","name"],$n(n,l)),i}function ME(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function wE(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function RE(n,e){const i={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),i}function DE(n,e){const i={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),i}function UE(n){const e={},i=u(n,["config"]);return i!=null&&RE(i,e),e}function LE(n){const e={},i=u(n,["config"]);return i!=null&&DE(i,e),e}function PE(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["cachedContents"],c)}return e}function GE(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["cachedContents"],c)}return e}function BE(n){const e={},i=u(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const l=u(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const s=u(n,["executableCode"]);s!=null&&d(e,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],xE(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],_E(f));const g=u(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&d(e,["inlineData"],pE(y));const h=u(n,["text"]);h!=null&&d(e,["text"],h);const S=u(n,["thought"]);S!=null&&d(e,["thought"],S);const C=u(n,["thoughtSignature"]);C!=null&&d(e,["thoughtSignature"],C);const T=u(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function HE(n){const e={},i=u(n,["retrievalConfig"]);i!=null&&d(e,["retrievalConfig"],i);const l=u(n,["functionCallingConfig"]);return l!=null&&d(e,["functionCallingConfig"],AE(l)),e}function VE(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const l=u(n,["fileSearch"]);l!=null&&d(e,["fileSearch"],l);const s=u(n,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(C=>C)),d(e,["functionDeclarations"],S)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],ME(f));const g=u(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],wE(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const h=u(n,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function zE(n){const e={},i=u(n,["retrieval"]);i!=null&&d(e,["retrieval"],i);const l=u(n,["computerUse"]);if(l!=null&&d(e,["computerUse"],l),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=u(n,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const c=u(n,["enterpriseWebSearch"]);c!=null&&d(e,["enterpriseWebSearch"],c);const f=u(n,["functionDeclarations"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(T=>bE(T))),d(e,["functionDeclarations"],C)}const g=u(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const y=u(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const h=u(n,["googleSearchRetrieval"]);h!=null&&d(e,["googleSearchRetrieval"],h);const S=u(n,["urlContext"]);return S!=null&&d(e,["urlContext"],S),e}function qE(n,e){const i={},l=u(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const s=u(n,["expireTime"]);return e!==void 0&&s!=null&&d(e,["expireTime"],s),i}function OE(n,e){const i={},l=u(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const s=u(n,["expireTime"]);return e!==void 0&&s!=null&&d(e,["expireTime"],s),i}function kE(n,e){const i={},l=u(e,["name"]);l!=null&&d(i,["_url","name"],$n(n,l));const s=u(e,["config"]);return s!=null&&qE(s,i),i}function FE(n,e){const i={},l=u(e,["name"]);l!=null&&d(i,["_url","name"],$n(n,l));const s=u(e,["config"]);return s!=null&&OE(s,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JE extends Yn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Qo(Fn.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(i),i)}async create(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=vE(this.apiClient,e);return g=ne("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>S)}else{const h=yE(this.apiClient,e);return g=ne("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>S)}}async get(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=IE(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>S)}else{const h=NE(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>S)}}async delete(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=TE(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=EE(S),T=new Eg;return Object.assign(T,C),T})}else{const h=SE(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=CE(S),T=new Eg;return Object.assign(T,C),T})}}async update(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=FE(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>S)}else{const h=kE(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>S)}}async listInternal(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=LE(e);return g=ne("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=GE(S),T=new xg;return Object.assign(T,C),T})}else{const h=UE(e);return g=ne("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=PE(S),T=new xg;return Object.assign(T,C),T})}}}function Ts(n,e){var i={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.indexOf(l)<0&&(i[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(n);s<l.length;s++)e.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(n,l[s])&&(i[l[s]]=n[l[s]]);return i}function wg(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],l=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(n){return this instanceof Te?(this.v=n,this):new Te(n)}function yn(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(n,e||[]),s,c=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",f),s[Symbol.asyncIterator]=function(){return this},s;function f(b){return function(N){return Promise.resolve(N).then(b,C)}}function g(b,N){l[b]&&(s[b]=function(_){return new Promise(function(A,R){c.push([b,_,A,R])>1||y(b,_)})},N&&(s[b]=N(s[b])))}function y(b,N){try{h(l[b](N))}catch(_){T(c[0][3],_)}}function h(b){b.value instanceof Te?Promise.resolve(b.value.v).then(S,C):T(c[0][2],b)}function S(b){y("next",b)}function C(b){y("throw",b)}function T(b,N){b(N),c.shift(),c.length&&y(c[0][0],c[0][1])}}function vn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof wg=="function"?wg(n):n[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(c){i[c]=n[c]&&function(f){return new Promise(function(g,y){f=n[c](f),s(g,y,f.done,f.value)})}}function s(c,f,g,y){Promise.resolve(y).then(function(h){c({value:h,done:g})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YE(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:Vy(i)}function Vy(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function $E(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Rg(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let l=0;for(;l<i;)if(n[l].role==="user")e.push(n[l]),l++;else{const s=[];let c=!0;for(;l<i&&n[l].role==="model";)s.push(n[l]),c&&!Vy(n[l])&&(c=!1),l++;c?e.push(...s):e.pop()}return e}class KE{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new XE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class XE{constructor(e,i,l,s={},c=[]){this.apiClient=e,this.modelsModule=i,this.model=l,this.config=s,this.history=c,this.sendPromise=Promise.resolve(),$E(c)}async sendMessage(e){var i;await this.sendPromise;const l=Nt(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var c,f,g;const y=await s,h=(f=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content,S=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let T=[];S!=null&&(T=(g=S.slice(C))!==null&&g!==void 0?g:[]);const b=h?[h]:[];this.recordHistory(l,b,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var i;await this.sendPromise;const l=Nt(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const c=await s;return this.processStreamResponse(c,l)}getHistory(e=!1){const i=e?Rg(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return yn(this,arguments,function*(){var s,c,f,g,y,h;const S=[];try{for(var C=!0,T=vn(e),b;b=yield Te(T.next()),s=b.done,!s;C=!0){g=b.value,C=!1;const N=g;if(YE(N)){const _=(h=(y=N.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;_!==void 0&&S.push(_)}yield yield Te(N)}}catch(N){c={error:N}}finally{try{!C&&!s&&(f=T.return)&&(yield Te(f.call(T)))}finally{if(c)throw c.error}}this.recordHistory(i,S)})}recordHistory(e,i,l){let s=[];i.length>0&&i.every(c=>c.role!==void 0)?s=i:s.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Rg(l)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ka extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ka.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QE(n){const e={},i=u(n,["file"]);return i!=null&&d(e,["file"],i),e}function ZE(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function jE(n){const e={},i=u(n,["name"]);return i!=null&&d(e,["_url","file"],Dy(i)),e}function WE(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function ex(n){const e={},i=u(n,["name"]);return i!=null&&d(e,["_url","file"],Dy(i)),e}function tx(n,e){const i={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),i}function nx(n){const e={},i=u(n,["config"]);return i!=null&&tx(i,e),e}function ox(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["files"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["files"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ix extends Yn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Qo(Fn.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=nx(e);return c=ne("files",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>{const h=ox(y),S=new rC;return Object.assign(S,h),S})}}async createInternal(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=QE(e);return c=ne("upload/v1beta/files",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=ZE(y),S=new uC;return Object.assign(S,h),S})}}async get(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ex(e);return c=ne("files/{file}",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async delete(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jE(e);return c=ne("files/{file}",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>{const h=WE(y),S=new cC;return Object.assign(S,h),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ps(n){const e={},i=u(n,["data"]);if(i!=null&&d(e,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function ax(n){const e={},i=u(n,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>Cx(c))),d(e,["parts"],s)}const l=u(n,["role"]);return l!=null&&d(e,["role"],l),e}function lx(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function sx(n){const e={},i=u(n,["id"]);i!=null&&d(e,["id"],i);const l=u(n,["args"]);l!=null&&d(e,["args"],l);const s=u(n,["name"]);if(s!=null&&d(e,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rx(n){const e={},i=u(n,["description"]);i!=null&&d(e,["description"],i);const l=u(n,["name"]);l!=null&&d(e,["name"],l);const s=u(n,["parameters"]);s!=null&&d(e,["parameters"],s);const c=u(n,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const f=u(n,["response"]);f!=null&&d(e,["response"],f);const g=u(n,["responseJsonSchema"]);if(g!=null&&d(e,["responseJsonSchema"],g),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function ux(n){const e={},i=u(n,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const l=u(n,["responseJsonSchema"]);l!=null&&d(e,["responseJsonSchema"],l);const s=u(n,["audioTimestamp"]);s!=null&&d(e,["audioTimestamp"],s);const c=u(n,["candidateCount"]);c!=null&&d(e,["candidateCount"],c);const f=u(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const g=u(n,["frequencyPenalty"]);g!=null&&d(e,["frequencyPenalty"],g);const y=u(n,["logprobs"]);y!=null&&d(e,["logprobs"],y);const h=u(n,["maxOutputTokens"]);h!=null&&d(e,["maxOutputTokens"],h);const S=u(n,["mediaResolution"]);S!=null&&d(e,["mediaResolution"],S);const C=u(n,["presencePenalty"]);C!=null&&d(e,["presencePenalty"],C);const T=u(n,["responseLogprobs"]);T!=null&&d(e,["responseLogprobs"],T);const b=u(n,["responseMimeType"]);b!=null&&d(e,["responseMimeType"],b);const N=u(n,["responseModalities"]);N!=null&&d(e,["responseModalities"],N);const _=u(n,["responseSchema"]);_!=null&&d(e,["responseSchema"],_);const A=u(n,["routingConfig"]);A!=null&&d(e,["routingConfig"],A);const R=u(n,["seed"]);R!=null&&d(e,["seed"],R);const B=u(n,["speechConfig"]);B!=null&&d(e,["speechConfig"],B);const q=u(n,["stopSequences"]);q!=null&&d(e,["stopSequences"],q);const O=u(n,["temperature"]);O!=null&&d(e,["temperature"],O);const H=u(n,["thinkingConfig"]);H!=null&&d(e,["thinkingConfig"],H);const z=u(n,["topK"]);z!=null&&d(e,["topK"],z);const Z=u(n,["topP"]);if(Z!=null&&d(e,["topP"],Z),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function cx(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function dx(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function fx(n,e){const i={},l=u(n,["generationConfig"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig"],l);const s=u(n,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const c=u(n,["temperature"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","temperature"],c);const f=u(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const g=u(n,["topK"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const h=u(n,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const S=u(n,["seed"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","seed"],S);const C=u(n,["speechConfig"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","speechConfig"],Kc(C));const T=u(n,["thinkingConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","thinkingConfig"],T);const b=u(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const N=u(n,["systemInstruction"]);e!==void 0&&N!=null&&d(e,["setup","systemInstruction"],ax(Nt(N)));const _=u(n,["tools"]);if(e!==void 0&&_!=null){let z=Ji(_);Array.isArray(z)&&(z=z.map(Z=>xx(Fi(Z)))),d(e,["setup","tools"],z)}const A=u(n,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],Ex(A));const R=u(n,["inputAudioTranscription"]);e!==void 0&&R!=null&&d(e,["setup","inputAudioTranscription"],R);const B=u(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],B);const q=u(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&d(e,["setup","realtimeInputConfig"],q);const O=u(n,["contextWindowCompression"]);e!==void 0&&O!=null&&d(e,["setup","contextWindowCompression"],O);const H=u(n,["proactivity"]);if(e!==void 0&&H!=null&&d(e,["setup","proactivity"],H),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function mx(n,e){const i={},l=u(n,["generationConfig"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig"],ux(l));const s=u(n,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const c=u(n,["temperature"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","temperature"],c);const f=u(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const g=u(n,["topK"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const h=u(n,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const S=u(n,["seed"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","seed"],S);const C=u(n,["speechConfig"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","speechConfig"],Kc(C));const T=u(n,["thinkingConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","thinkingConfig"],T);const b=u(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const N=u(n,["systemInstruction"]);e!==void 0&&N!=null&&d(e,["setup","systemInstruction"],Nt(N));const _=u(n,["tools"]);if(e!==void 0&&_!=null){let Z=Ji(_);Array.isArray(Z)&&(Z=Z.map(oe=>_x(Fi(oe)))),d(e,["setup","tools"],Z)}const A=u(n,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],A);const R=u(n,["inputAudioTranscription"]);e!==void 0&&R!=null&&d(e,["setup","inputAudioTranscription"],R);const B=u(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],B);const q=u(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&d(e,["setup","realtimeInputConfig"],q);const O=u(n,["contextWindowCompression"]);e!==void 0&&O!=null&&d(e,["setup","contextWindowCompression"],O);const H=u(n,["proactivity"]);e!==void 0&&H!=null&&d(e,["setup","proactivity"],H);const z=u(n,["explicitVadSignal"]);return e!==void 0&&z!=null&&d(e,["setup","explicitVadSignal"],z),i}function px(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["setup","model"],Ve(n,l));const s=u(e,["config"]);return s!=null&&d(i,["config"],fx(s,i)),i}function hx(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["setup","model"],Ve(n,l));const s=u(e,["config"]);return s!=null&&d(i,["config"],mx(s,i)),i}function gx(n){const e={},i=u(n,["musicGenerationConfig"]);return i!=null&&d(e,["musicGenerationConfig"],i),e}function yx(n){const e={},i=u(n,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),d(e,["weightedPrompts"],l)}return e}function vx(n){const e={},i=u(n,["media"]);if(i!=null){let h=Ny(i);Array.isArray(h)&&(h=h.map(S=>ps(S))),d(e,["mediaChunks"],h)}const l=u(n,["audio"]);l!=null&&d(e,["audio"],ps(My(l)));const s=u(n,["audioStreamEnd"]);s!=null&&d(e,["audioStreamEnd"],s);const c=u(n,["video"]);c!=null&&d(e,["video"],ps(Iy(c)));const f=u(n,["text"]);f!=null&&d(e,["text"],f);const g=u(n,["activityStart"]);g!=null&&d(e,["activityStart"],g);const y=u(n,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function Sx(n){const e={},i=u(n,["media"]);if(i!=null){let h=Ny(i);Array.isArray(h)&&(h=h.map(S=>S)),d(e,["mediaChunks"],h)}const l=u(n,["audio"]);l!=null&&d(e,["audio"],My(l));const s=u(n,["audioStreamEnd"]);s!=null&&d(e,["audioStreamEnd"],s);const c=u(n,["video"]);c!=null&&d(e,["video"],Iy(c));const f=u(n,["text"]);f!=null&&d(e,["text"],f);const g=u(n,["activityStart"]);g!=null&&d(e,["activityStart"],g);const y=u(n,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function Tx(n){const e={},i=u(n,["setupComplete"]);i!=null&&d(e,["setupComplete"],i);const l=u(n,["serverContent"]);l!=null&&d(e,["serverContent"],l);const s=u(n,["toolCall"]);s!=null&&d(e,["toolCall"],s);const c=u(n,["toolCallCancellation"]);c!=null&&d(e,["toolCallCancellation"],c);const f=u(n,["usageMetadata"]);f!=null&&d(e,["usageMetadata"],Ax(f));const g=u(n,["goAway"]);g!=null&&d(e,["goAway"],g);const y=u(n,["sessionResumptionUpdate"]);y!=null&&d(e,["sessionResumptionUpdate"],y);const h=u(n,["voiceActivityDetectionSignal"]);h!=null&&d(e,["voiceActivityDetectionSignal"],h);const S=u(n,["voiceActivity"]);return S!=null&&d(e,["voiceActivity"],bx(S)),e}function Cx(n){const e={},i=u(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const l=u(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const s=u(n,["executableCode"]);s!=null&&d(e,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],lx(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],sx(f));const g=u(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&d(e,["inlineData"],ps(y));const h=u(n,["text"]);h!=null&&d(e,["text"],h);const S=u(n,["thought"]);S!=null&&d(e,["thought"],S);const C=u(n,["thoughtSignature"]);C!=null&&d(e,["thoughtSignature"],C);const T=u(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function Ex(n){const e={},i=u(n,["handle"]);if(i!=null&&d(e,["handle"],i),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function xx(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const l=u(n,["fileSearch"]);l!=null&&d(e,["fileSearch"],l);const s=u(n,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(C=>C)),d(e,["functionDeclarations"],S)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],cx(f));const g=u(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],dx(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const h=u(n,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function _x(n){const e={},i=u(n,["retrieval"]);i!=null&&d(e,["retrieval"],i);const l=u(n,["computerUse"]);if(l!=null&&d(e,["computerUse"],l),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=u(n,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const c=u(n,["enterpriseWebSearch"]);c!=null&&d(e,["enterpriseWebSearch"],c);const f=u(n,["functionDeclarations"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(T=>rx(T))),d(e,["functionDeclarations"],C)}const g=u(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const y=u(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const h=u(n,["googleSearchRetrieval"]);h!=null&&d(e,["googleSearchRetrieval"],h);const S=u(n,["urlContext"]);return S!=null&&d(e,["urlContext"],S),e}function Ax(n){const e={},i=u(n,["promptTokenCount"]);i!=null&&d(e,["promptTokenCount"],i);const l=u(n,["cachedContentTokenCount"]);l!=null&&d(e,["cachedContentTokenCount"],l);const s=u(n,["candidatesTokenCount"]);s!=null&&d(e,["responseTokenCount"],s);const c=u(n,["toolUsePromptTokenCount"]);c!=null&&d(e,["toolUsePromptTokenCount"],c);const f=u(n,["thoughtsTokenCount"]);f!=null&&d(e,["thoughtsTokenCount"],f);const g=u(n,["totalTokenCount"]);g!=null&&d(e,["totalTokenCount"],g);const y=u(n,["promptTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(N=>N)),d(e,["promptTokensDetails"],b)}const h=u(n,["cacheTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(N=>N)),d(e,["cacheTokensDetails"],b)}const S=u(n,["candidatesTokensDetails"]);if(S!=null){let b=S;Array.isArray(b)&&(b=b.map(N=>N)),d(e,["responseTokensDetails"],b)}const C=u(n,["toolUsePromptTokensDetails"]);if(C!=null){let b=C;Array.isArray(b)&&(b=b.map(N=>N)),d(e,["toolUsePromptTokensDetails"],b)}const T=u(n,["trafficType"]);return T!=null&&d(e,["trafficType"],T),e}function bx(n){const e={},i=u(n,["type"]);return i!=null&&d(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nx(n){const e={},i=u(n,["data"]);if(i!=null&&d(e,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function Ix(n){const e={},i=u(n,["content"]);i!=null&&d(e,["content"],i);const l=u(n,["citationMetadata"]);l!=null&&d(e,["citationMetadata"],Mx(l));const s=u(n,["tokenCount"]);s!=null&&d(e,["tokenCount"],s);const c=u(n,["finishReason"]);c!=null&&d(e,["finishReason"],c);const f=u(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const g=u(n,["groundingMetadata"]);g!=null&&d(e,["groundingMetadata"],g);const y=u(n,["index"]);y!=null&&d(e,["index"],y);const h=u(n,["logprobsResult"]);h!=null&&d(e,["logprobsResult"],h);const S=u(n,["safetyRatings"]);if(S!=null){let T=S;Array.isArray(T)&&(T=T.map(b=>b)),d(e,["safetyRatings"],T)}const C=u(n,["urlContextMetadata"]);return C!=null&&d(e,["urlContextMetadata"],C),e}function Mx(n){const e={},i=u(n,["citationSources"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),d(e,["citations"],l)}return e}function wx(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let c=dn(s);Array.isArray(c)&&(c=c.map(f=>f)),d(i,["contents"],c)}return i}function Rx(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["tokensInfo"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>c)),d(e,["tokensInfo"],s)}return e}function Dx(n){const e={},i=u(n,["values"]);i!=null&&d(e,["values"],i);const l=u(n,["statistics"]);return l!=null&&d(e,["statistics"],Ux(l)),e}function Ux(n){const e={},i=u(n,["truncated"]);i!=null&&d(e,["truncated"],i);const l=u(n,["token_count"]);return l!=null&&d(e,["tokenCount"],l),e}function Ms(n){const e={},i=u(n,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>O_(c))),d(e,["parts"],s)}const l=u(n,["role"]);return l!=null&&d(e,["role"],l),e}function Lx(n){const e={},i=u(n,["controlType"]);i!=null&&d(e,["controlType"],i);const l=u(n,["enableControlImageComputation"]);return l!=null&&d(e,["computeControl"],l),e}function Px(n){const e={};if(u(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Gx(n,e){const i={},l=u(n,["systemInstruction"]);e!==void 0&&l!=null&&d(e,["systemInstruction"],Nt(l));const s=u(n,["tools"]);if(e!==void 0&&s!=null){let f=s;Array.isArray(f)&&(f=f.map(g=>ky(g))),d(e,["tools"],f)}const c=u(n,["generationConfig"]);return e!==void 0&&c!=null&&d(e,["generationConfig"],N_(c)),i}function Bx(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let f=dn(s);Array.isArray(f)&&(f=f.map(g=>Ms(g))),d(i,["contents"],f)}const c=u(e,["config"]);return c!=null&&Px(c),i}function Hx(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let f=dn(s);Array.isArray(f)&&(f=f.map(g=>g)),d(i,["contents"],f)}const c=u(e,["config"]);return c!=null&&Gx(c,i),i}function Vx(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["totalTokens"]);l!=null&&d(e,["totalTokens"],l);const s=u(n,["cachedContentTokenCount"]);return s!=null&&d(e,["cachedContentTokenCount"],s),e}function zx(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["totalTokens"]);return l!=null&&d(e,["totalTokens"],l),e}function qx(n,e){const i={},l=u(e,["model"]);return l!=null&&d(i,["_url","name"],Ve(n,l)),i}function Ox(n,e){const i={},l=u(e,["model"]);return l!=null&&d(i,["_url","name"],Ve(n,l)),i}function kx(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function Fx(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function Jx(n,e){const i={},l=u(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const s=u(n,["negativePrompt"]);e!==void 0&&s!=null&&d(e,["parameters","negativePrompt"],s);const c=u(n,["numberOfImages"]);e!==void 0&&c!=null&&d(e,["parameters","sampleCount"],c);const f=u(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const g=u(n,["guidanceScale"]);e!==void 0&&g!=null&&d(e,["parameters","guidanceScale"],g);const y=u(n,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const h=u(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const S=u(n,["personGeneration"]);e!==void 0&&S!=null&&d(e,["parameters","personGeneration"],S);const C=u(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&d(e,["parameters","includeSafetyAttributes"],C);const T=u(n,["includeRaiReason"]);e!==void 0&&T!=null&&d(e,["parameters","includeRaiReason"],T);const b=u(n,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const N=u(n,["outputMimeType"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","mimeType"],N);const _=u(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_);const A=u(n,["addWatermark"]);e!==void 0&&A!=null&&d(e,["parameters","addWatermark"],A);const R=u(n,["labels"]);e!==void 0&&R!=null&&d(e,["labels"],R);const B=u(n,["editMode"]);e!==void 0&&B!=null&&d(e,["parameters","editMode"],B);const q=u(n,["baseSteps"]);return e!==void 0&&q!=null&&d(e,["parameters","editConfig","baseSteps"],q),i}function Yx(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["prompt"]);s!=null&&d(i,["instances[0]","prompt"],s);const c=u(e,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>K_(y))),d(i,["instances[0]","referenceImages"],g)}const f=u(e,["config"]);return f!=null&&Jx(f,i),i}function $x(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>ws(c))),d(e,["generatedImages"],s)}return e}function Kx(n,e){const i={},l=u(n,["taskType"]);e!==void 0&&l!=null&&d(e,["requests[]","taskType"],l);const s=u(n,["title"]);e!==void 0&&s!=null&&d(e,["requests[]","title"],s);const c=u(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&d(e,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Xx(n,e){const i={},l=u(n,["taskType"]);e!==void 0&&l!=null&&d(e,["instances[]","task_type"],l);const s=u(n,["title"]);e!==void 0&&s!=null&&d(e,["instances[]","title"],s);const c=u(n,["outputDimensionality"]);e!==void 0&&c!=null&&d(e,["parameters","outputDimensionality"],c);const f=u(n,["mimeType"]);e!==void 0&&f!=null&&d(e,["instances[]","mimeType"],f);const g=u(n,["autoTruncate"]);return e!==void 0&&g!=null&&d(e,["parameters","autoTruncate"],g),i}function Qx(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let g=Jc(n,s);Array.isArray(g)&&(g=g.map(y=>y)),d(i,["requests[]","content"],g)}const c=u(e,["config"]);c!=null&&Kx(c,i);const f=u(e,["model"]);return f!==void 0&&d(i,["requests[]","model"],Ve(n,f)),i}function Zx(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let f=Jc(n,s);Array.isArray(f)&&(f=f.map(g=>g)),d(i,["instances[]","content"],f)}const c=u(e,["config"]);return c!=null&&Xx(c,i),i}function jx(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["embeddings"],c)}const s=u(n,["metadata"]);return s!=null&&d(e,["metadata"],s),e}function Wx(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["predictions[]","embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Dx(f))),d(e,["embeddings"],c)}const s=u(n,["metadata"]);return s!=null&&d(e,["metadata"],s),e}function e_(n){const e={},i=u(n,["endpoint"]);i!=null&&d(e,["name"],i);const l=u(n,["deployedModelId"]);return l!=null&&d(e,["deployedModelId"],l),e}function t_(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function n_(n){const e={},i=u(n,["id"]);i!=null&&d(e,["id"],i);const l=u(n,["args"]);l!=null&&d(e,["args"],l);const s=u(n,["name"]);if(s!=null&&d(e,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function o_(n){const e={},i=u(n,["allowedFunctionNames"]);i!=null&&d(e,["allowedFunctionNames"],i);const l=u(n,["mode"]);if(l!=null&&d(e,["mode"],l),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function i_(n){const e={},i=u(n,["description"]);i!=null&&d(e,["description"],i);const l=u(n,["name"]);l!=null&&d(e,["name"],l);const s=u(n,["parameters"]);s!=null&&d(e,["parameters"],s);const c=u(n,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const f=u(n,["response"]);f!=null&&d(e,["response"],f);const g=u(n,["responseJsonSchema"]);if(g!=null&&d(e,["responseJsonSchema"],g),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function a_(n,e,i){const l={},s=u(e,["systemInstruction"]);i!==void 0&&s!=null&&d(i,["systemInstruction"],Ms(Nt(s)));const c=u(e,["temperature"]);c!=null&&d(l,["temperature"],c);const f=u(e,["topP"]);f!=null&&d(l,["topP"],f);const g=u(e,["topK"]);g!=null&&d(l,["topK"],g);const y=u(e,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const h=u(e,["maxOutputTokens"]);h!=null&&d(l,["maxOutputTokens"],h);const S=u(e,["stopSequences"]);S!=null&&d(l,["stopSequences"],S);const C=u(e,["responseLogprobs"]);C!=null&&d(l,["responseLogprobs"],C);const T=u(e,["logprobs"]);T!=null&&d(l,["logprobs"],T);const b=u(e,["presencePenalty"]);b!=null&&d(l,["presencePenalty"],b);const N=u(e,["frequencyPenalty"]);N!=null&&d(l,["frequencyPenalty"],N);const _=u(e,["seed"]);_!=null&&d(l,["seed"],_);const A=u(e,["responseMimeType"]);A!=null&&d(l,["responseMimeType"],A);const R=u(e,["responseSchema"]);R!=null&&d(l,["responseSchema"],Yc(R));const B=u(e,["responseJsonSchema"]);if(B!=null&&d(l,["responseJsonSchema"],B),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=u(e,["safetySettings"]);if(i!==void 0&&q!=null){let j=q;Array.isArray(j)&&(j=j.map(W=>X_(W))),d(i,["safetySettings"],j)}const O=u(e,["tools"]);if(i!==void 0&&O!=null){let j=Ji(O);Array.isArray(j)&&(j=j.map(W=>nA(Fi(W)))),d(i,["tools"],j)}const H=u(e,["toolConfig"]);if(i!==void 0&&H!=null&&d(i,["toolConfig"],tA(H)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=u(e,["cachedContent"]);i!==void 0&&z!=null&&d(i,["cachedContent"],$n(n,z));const Z=u(e,["responseModalities"]);Z!=null&&d(l,["responseModalities"],Z);const oe=u(e,["mediaResolution"]);oe!=null&&d(l,["mediaResolution"],oe);const J=u(e,["speechConfig"]);if(J!=null&&d(l,["speechConfig"],$c(J)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=u(e,["thinkingConfig"]);ie!=null&&d(l,["thinkingConfig"],ie);const he=u(e,["imageConfig"]);he!=null&&d(l,["imageConfig"],D_(he));const Y=u(e,["enableEnhancedCivicAnswers"]);if(Y!=null&&d(l,["enableEnhancedCivicAnswers"],Y),u(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return l}function l_(n,e,i){const l={},s=u(e,["systemInstruction"]);i!==void 0&&s!=null&&d(i,["systemInstruction"],Nt(s));const c=u(e,["temperature"]);c!=null&&d(l,["temperature"],c);const f=u(e,["topP"]);f!=null&&d(l,["topP"],f);const g=u(e,["topK"]);g!=null&&d(l,["topK"],g);const y=u(e,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const h=u(e,["maxOutputTokens"]);h!=null&&d(l,["maxOutputTokens"],h);const S=u(e,["stopSequences"]);S!=null&&d(l,["stopSequences"],S);const C=u(e,["responseLogprobs"]);C!=null&&d(l,["responseLogprobs"],C);const T=u(e,["logprobs"]);T!=null&&d(l,["logprobs"],T);const b=u(e,["presencePenalty"]);b!=null&&d(l,["presencePenalty"],b);const N=u(e,["frequencyPenalty"]);N!=null&&d(l,["frequencyPenalty"],N);const _=u(e,["seed"]);_!=null&&d(l,["seed"],_);const A=u(e,["responseMimeType"]);A!=null&&d(l,["responseMimeType"],A);const R=u(e,["responseSchema"]);R!=null&&d(l,["responseSchema"],Yc(R));const B=u(e,["responseJsonSchema"]);B!=null&&d(l,["responseJsonSchema"],B);const q=u(e,["routingConfig"]);q!=null&&d(l,["routingConfig"],q);const O=u(e,["modelSelectionConfig"]);O!=null&&d(l,["modelConfig"],O);const H=u(e,["safetySettings"]);if(i!==void 0&&H!=null){let k=H;Array.isArray(k)&&(k=k.map(te=>te)),d(i,["safetySettings"],k)}const z=u(e,["tools"]);if(i!==void 0&&z!=null){let k=Ji(z);Array.isArray(k)&&(k=k.map(te=>ky(Fi(te)))),d(i,["tools"],k)}const Z=u(e,["toolConfig"]);i!==void 0&&Z!=null&&d(i,["toolConfig"],Z);const oe=u(e,["labels"]);i!==void 0&&oe!=null&&d(i,["labels"],oe);const J=u(e,["cachedContent"]);i!==void 0&&J!=null&&d(i,["cachedContent"],$n(n,J));const ie=u(e,["responseModalities"]);ie!=null&&d(l,["responseModalities"],ie);const he=u(e,["mediaResolution"]);he!=null&&d(l,["mediaResolution"],he);const Y=u(e,["speechConfig"]);Y!=null&&d(l,["speechConfig"],$c(Y));const j=u(e,["audioTimestamp"]);j!=null&&d(l,["audioTimestamp"],j);const W=u(e,["thinkingConfig"]);W!=null&&d(l,["thinkingConfig"],W);const me=u(e,["imageConfig"]);if(me!=null&&d(l,["imageConfig"],U_(me)),u(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const U=u(e,["modelArmorConfig"]);return i!==void 0&&U!=null&&d(i,["modelArmorConfig"],U),l}function Dg(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let f=dn(s);Array.isArray(f)&&(f=f.map(g=>Ms(g))),d(i,["contents"],f)}const c=u(e,["config"]);return c!=null&&d(i,["generationConfig"],a_(n,c,i)),i}function Ug(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["contents"]);if(s!=null){let f=dn(s);Array.isArray(f)&&(f=f.map(g=>g)),d(i,["contents"],f)}const c=u(e,["config"]);return c!=null&&d(i,["generationConfig"],l_(n,c,i)),i}function Lg(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(h=>Ix(h))),d(e,["candidates"],y)}const s=u(n,["modelVersion"]);s!=null&&d(e,["modelVersion"],s);const c=u(n,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const f=u(n,["responseId"]);f!=null&&d(e,["responseId"],f);const g=u(n,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function Pg(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["candidates"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(S=>S)),d(e,["candidates"],h)}const s=u(n,["createTime"]);s!=null&&d(e,["createTime"],s);const c=u(n,["modelVersion"]);c!=null&&d(e,["modelVersion"],c);const f=u(n,["promptFeedback"]);f!=null&&d(e,["promptFeedback"],f);const g=u(n,["responseId"]);g!=null&&d(e,["responseId"],g);const y=u(n,["usageMetadata"]);return y!=null&&d(e,["usageMetadata"],y),e}function s_(n,e){const i={};if(u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=u(n,["numberOfImages"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const s=u(n,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const c=u(n,["guidanceScale"]);if(e!==void 0&&c!=null&&d(e,["parameters","guidanceScale"],c),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&d(e,["parameters","safetySetting"],f);const g=u(n,["personGeneration"]);e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g);const y=u(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&d(e,["parameters","includeSafetyAttributes"],y);const h=u(n,["includeRaiReason"]);e!==void 0&&h!=null&&d(e,["parameters","includeRaiReason"],h);const S=u(n,["language"]);e!==void 0&&S!=null&&d(e,["parameters","language"],S);const C=u(n,["outputMimeType"]);e!==void 0&&C!=null&&d(e,["parameters","outputOptions","mimeType"],C);const T=u(n,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T),u(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=u(n,["imageSize"]);if(e!==void 0&&b!=null&&d(e,["parameters","sampleImageSize"],b),u(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function r_(n,e){const i={},l=u(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const s=u(n,["negativePrompt"]);e!==void 0&&s!=null&&d(e,["parameters","negativePrompt"],s);const c=u(n,["numberOfImages"]);e!==void 0&&c!=null&&d(e,["parameters","sampleCount"],c);const f=u(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const g=u(n,["guidanceScale"]);e!==void 0&&g!=null&&d(e,["parameters","guidanceScale"],g);const y=u(n,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const h=u(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const S=u(n,["personGeneration"]);e!==void 0&&S!=null&&d(e,["parameters","personGeneration"],S);const C=u(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&d(e,["parameters","includeSafetyAttributes"],C);const T=u(n,["includeRaiReason"]);e!==void 0&&T!=null&&d(e,["parameters","includeRaiReason"],T);const b=u(n,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const N=u(n,["outputMimeType"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","mimeType"],N);const _=u(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_);const A=u(n,["addWatermark"]);e!==void 0&&A!=null&&d(e,["parameters","addWatermark"],A);const R=u(n,["labels"]);e!==void 0&&R!=null&&d(e,["labels"],R);const B=u(n,["imageSize"]);e!==void 0&&B!=null&&d(e,["parameters","sampleImageSize"],B);const q=u(n,["enhancePrompt"]);return e!==void 0&&q!=null&&d(e,["parameters","enhancePrompt"],q),i}function u_(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["prompt"]);s!=null&&d(i,["instances[0]","prompt"],s);const c=u(e,["config"]);return c!=null&&s_(c,i),i}function c_(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["prompt"]);s!=null&&d(i,["instances[0]","prompt"],s);const c=u(e,["config"]);return c!=null&&r_(c,i),i}function d_(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>x_(f))),d(e,["generatedImages"],c)}const s=u(n,["positivePromptSafetyAttributes"]);return s!=null&&d(e,["positivePromptSafetyAttributes"],qy(s)),e}function f_(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>ws(f))),d(e,["generatedImages"],c)}const s=u(n,["positivePromptSafetyAttributes"]);return s!=null&&d(e,["positivePromptSafetyAttributes"],Oy(s)),e}function m_(n,e){const i={},l=u(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l),u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=u(n,["durationSeconds"]);if(e!==void 0&&s!=null&&d(e,["parameters","durationSeconds"],s),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(n,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const f=u(n,["resolution"]);e!==void 0&&f!=null&&d(e,["parameters","resolution"],f);const g=u(n,["personGeneration"]);if(e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g),u(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(n,["negativePrompt"]);e!==void 0&&y!=null&&d(e,["parameters","negativePrompt"],y);const h=u(n,["enhancePrompt"]);if(e!==void 0&&h!=null&&d(e,["parameters","enhancePrompt"],h),u(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const S=u(n,["lastFrame"]);e!==void 0&&S!=null&&d(e,["instances[0]","lastFrame"],Rs(S));const C=u(n,["referenceImages"]);if(e!==void 0&&C!=null){let T=C;Array.isArray(T)&&(T=T.map(b=>hA(b))),d(e,["instances[0]","referenceImages"],T)}if(u(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function p_(n,e){const i={},l=u(n,["numberOfVideos"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const s=u(n,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const c=u(n,["fps"]);e!==void 0&&c!=null&&d(e,["parameters","fps"],c);const f=u(n,["durationSeconds"]);e!==void 0&&f!=null&&d(e,["parameters","durationSeconds"],f);const g=u(n,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const y=u(n,["aspectRatio"]);e!==void 0&&y!=null&&d(e,["parameters","aspectRatio"],y);const h=u(n,["resolution"]);e!==void 0&&h!=null&&d(e,["parameters","resolution"],h);const S=u(n,["personGeneration"]);e!==void 0&&S!=null&&d(e,["parameters","personGeneration"],S);const C=u(n,["pubsubTopic"]);e!==void 0&&C!=null&&d(e,["parameters","pubsubTopic"],C);const T=u(n,["negativePrompt"]);e!==void 0&&T!=null&&d(e,["parameters","negativePrompt"],T);const b=u(n,["enhancePrompt"]);e!==void 0&&b!=null&&d(e,["parameters","enhancePrompt"],b);const N=u(n,["generateAudio"]);e!==void 0&&N!=null&&d(e,["parameters","generateAudio"],N);const _=u(n,["lastFrame"]);e!==void 0&&_!=null&&d(e,["instances[0]","lastFrame"],Sn(_));const A=u(n,["referenceImages"]);if(e!==void 0&&A!=null){let q=A;Array.isArray(q)&&(q=q.map(O=>gA(O))),d(e,["instances[0]","referenceImages"],q)}const R=u(n,["mask"]);e!==void 0&&R!=null&&d(e,["instances[0]","mask"],pA(R));const B=u(n,["compressionQuality"]);return e!==void 0&&B!=null&&d(e,["parameters","compressionQuality"],B),i}function h_(n){const e={},i=u(n,["name"]);i!=null&&d(e,["name"],i);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],S_(f)),e}function g_(n){const e={},i=u(n,["name"]);i!=null&&d(e,["name"],i);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],T_(f)),e}function y_(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["prompt"]);s!=null&&d(i,["instances[0]","prompt"],s);const c=u(e,["image"]);c!=null&&d(i,["instances[0]","image"],Rs(c));const f=u(e,["video"]);f!=null&&d(i,["instances[0]","video"],Fy(f));const g=u(e,["source"]);g!=null&&C_(g,i);const y=u(e,["config"]);return y!=null&&m_(y,i),i}function v_(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["prompt"]);s!=null&&d(i,["instances[0]","prompt"],s);const c=u(e,["image"]);c!=null&&d(i,["instances[0]","image"],Sn(c));const f=u(e,["video"]);f!=null&&d(i,["instances[0]","video"],Jy(f));const g=u(e,["source"]);g!=null&&E_(g,i);const y=u(e,["config"]);return y!=null&&p_(y,i),i}function S_(n){const e={},i=u(n,["generatedSamples"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>A_(f))),d(e,["generatedVideos"],c)}const l=u(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const s=u(n,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function T_(n){const e={},i=u(n,["videos"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>b_(f))),d(e,["generatedVideos"],c)}const l=u(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const s=u(n,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function C_(n,e){const i={},l=u(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const s=u(n,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],Rs(s));const c=u(n,["video"]);return e!==void 0&&c!=null&&d(e,["instances[0]","video"],Fy(c)),i}function E_(n,e){const i={},l=u(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const s=u(n,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],Sn(s));const c=u(n,["video"]);return e!==void 0&&c!=null&&d(e,["instances[0]","video"],Jy(c)),i}function x_(n){const e={},i=u(n,["_self"]);i!=null&&d(e,["image"],L_(i));const l=u(n,["raiFilteredReason"]);l!=null&&d(e,["raiFilteredReason"],l);const s=u(n,["_self"]);return s!=null&&d(e,["safetyAttributes"],qy(s)),e}function ws(n){const e={},i=u(n,["_self"]);i!=null&&d(e,["image"],zy(i));const l=u(n,["raiFilteredReason"]);l!=null&&d(e,["raiFilteredReason"],l);const s=u(n,["_self"]);s!=null&&d(e,["safetyAttributes"],Oy(s));const c=u(n,["prompt"]);return c!=null&&d(e,["enhancedPrompt"],c),e}function __(n){const e={},i=u(n,["_self"]);i!=null&&d(e,["mask"],zy(i));const l=u(n,["labels"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>c)),d(e,["labels"],s)}return e}function A_(n){const e={},i=u(n,["video"]);return i!=null&&d(e,["video"],fA(i)),e}function b_(n){const e={},i=u(n,["_self"]);return i!=null&&d(e,["video"],mA(i)),e}function N_(n){const e={},i=u(n,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const l=u(n,["responseJsonSchema"]);l!=null&&d(e,["responseJsonSchema"],l);const s=u(n,["audioTimestamp"]);s!=null&&d(e,["audioTimestamp"],s);const c=u(n,["candidateCount"]);c!=null&&d(e,["candidateCount"],c);const f=u(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const g=u(n,["frequencyPenalty"]);g!=null&&d(e,["frequencyPenalty"],g);const y=u(n,["logprobs"]);y!=null&&d(e,["logprobs"],y);const h=u(n,["maxOutputTokens"]);h!=null&&d(e,["maxOutputTokens"],h);const S=u(n,["mediaResolution"]);S!=null&&d(e,["mediaResolution"],S);const C=u(n,["presencePenalty"]);C!=null&&d(e,["presencePenalty"],C);const T=u(n,["responseLogprobs"]);T!=null&&d(e,["responseLogprobs"],T);const b=u(n,["responseMimeType"]);b!=null&&d(e,["responseMimeType"],b);const N=u(n,["responseModalities"]);N!=null&&d(e,["responseModalities"],N);const _=u(n,["responseSchema"]);_!=null&&d(e,["responseSchema"],_);const A=u(n,["routingConfig"]);A!=null&&d(e,["routingConfig"],A);const R=u(n,["seed"]);R!=null&&d(e,["seed"],R);const B=u(n,["speechConfig"]);B!=null&&d(e,["speechConfig"],B);const q=u(n,["stopSequences"]);q!=null&&d(e,["stopSequences"],q);const O=u(n,["temperature"]);O!=null&&d(e,["temperature"],O);const H=u(n,["thinkingConfig"]);H!=null&&d(e,["thinkingConfig"],H);const z=u(n,["topK"]);z!=null&&d(e,["topK"],z);const Z=u(n,["topP"]);if(Z!=null&&d(e,["topP"],Z),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function I_(n,e){const i={},l=u(e,["model"]);return l!=null&&d(i,["_url","name"],Ve(n,l)),i}function M_(n,e){const i={},l=u(e,["model"]);return l!=null&&d(i,["_url","name"],Ve(n,l)),i}function w_(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function R_(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function D_(n){const e={},i=u(n,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const l=u(n,["imageSize"]);if(l!=null&&d(e,["imageSize"],l),u(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function U_(n){const e={},i=u(n,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const l=u(n,["imageSize"]);l!=null&&d(e,["imageSize"],l);const s=u(n,["personGeneration"]);s!=null&&d(e,["personGeneration"],s);const c=u(n,["outputMimeType"]);c!=null&&d(e,["imageOutputOptions","mimeType"],c);const f=u(n,["outputCompressionQuality"]);return f!=null&&d(e,["imageOutputOptions","compressionQuality"],f),e}function L_(n){const e={},i=u(n,["bytesBase64Encoded"]);i!=null&&d(e,["imageBytes"],_o(i));const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function zy(n){const e={},i=u(n,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const l=u(n,["bytesBase64Encoded"]);l!=null&&d(e,["imageBytes"],_o(l));const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Rs(n){const e={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=u(n,["imageBytes"]);i!=null&&d(e,["bytesBase64Encoded"],_o(i));const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function Sn(n){const e={},i=u(n,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const l=u(n,["imageBytes"]);l!=null&&d(e,["bytesBase64Encoded"],_o(l));const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function P_(n,e,i){const l={},s=u(e,["pageSize"]);i!==void 0&&s!=null&&d(i,["_query","pageSize"],s);const c=u(e,["pageToken"]);i!==void 0&&c!=null&&d(i,["_query","pageToken"],c);const f=u(e,["filter"]);i!==void 0&&f!=null&&d(i,["_query","filter"],f);const g=u(e,["queryBase"]);return i!==void 0&&g!=null&&d(i,["_url","models_url"],Uy(n,g)),l}function G_(n,e,i){const l={},s=u(e,["pageSize"]);i!==void 0&&s!=null&&d(i,["_query","pageSize"],s);const c=u(e,["pageToken"]);i!==void 0&&c!=null&&d(i,["_query","pageToken"],c);const f=u(e,["filter"]);i!==void 0&&f!=null&&d(i,["_query","filter"],f);const g=u(e,["queryBase"]);return i!==void 0&&g!=null&&d(i,["_url","models_url"],Uy(n,g)),l}function B_(n,e){const i={},l=u(e,["config"]);return l!=null&&P_(n,l,i),i}function H_(n,e){const i={},l=u(e,["config"]);return l!=null&&G_(n,l,i),i}function V_(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["_self"]);if(s!=null){let c=Ly(s);Array.isArray(c)&&(c=c.map(f=>xc(f))),d(e,["models"],c)}return e}function z_(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["_self"]);if(s!=null){let c=Ly(s);Array.isArray(c)&&(c=c.map(f=>_c(f))),d(e,["models"],c)}return e}function q_(n){const e={},i=u(n,["maskMode"]);i!=null&&d(e,["maskMode"],i);const l=u(n,["segmentationClasses"]);l!=null&&d(e,["maskClasses"],l);const s=u(n,["maskDilation"]);return s!=null&&d(e,["dilation"],s),e}function xc(n){const e={},i=u(n,["name"]);i!=null&&d(e,["name"],i);const l=u(n,["displayName"]);l!=null&&d(e,["displayName"],l);const s=u(n,["description"]);s!=null&&d(e,["description"],s);const c=u(n,["version"]);c!=null&&d(e,["version"],c);const f=u(n,["_self"]);f!=null&&d(e,["tunedModelInfo"],oA(f));const g=u(n,["inputTokenLimit"]);g!=null&&d(e,["inputTokenLimit"],g);const y=u(n,["outputTokenLimit"]);y!=null&&d(e,["outputTokenLimit"],y);const h=u(n,["supportedGenerationMethods"]);h!=null&&d(e,["supportedActions"],h);const S=u(n,["temperature"]);S!=null&&d(e,["temperature"],S);const C=u(n,["maxTemperature"]);C!=null&&d(e,["maxTemperature"],C);const T=u(n,["topP"]);T!=null&&d(e,["topP"],T);const b=u(n,["topK"]);b!=null&&d(e,["topK"],b);const N=u(n,["thinking"]);return N!=null&&d(e,["thinking"],N),e}function _c(n){const e={},i=u(n,["name"]);i!=null&&d(e,["name"],i);const l=u(n,["displayName"]);l!=null&&d(e,["displayName"],l);const s=u(n,["description"]);s!=null&&d(e,["description"],s);const c=u(n,["versionId"]);c!=null&&d(e,["version"],c);const f=u(n,["deployedModels"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(T=>e_(T))),d(e,["endpoints"],C)}const g=u(n,["labels"]);g!=null&&d(e,["labels"],g);const y=u(n,["_self"]);y!=null&&d(e,["tunedModelInfo"],iA(y));const h=u(n,["defaultCheckpointId"]);h!=null&&d(e,["defaultCheckpointId"],h);const S=u(n,["checkpoints"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(T=>T)),d(e,["checkpoints"],C)}return e}function O_(n){const e={},i=u(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const l=u(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const s=u(n,["executableCode"]);s!=null&&d(e,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],t_(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],n_(f));const g=u(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&d(e,["inlineData"],Nx(y));const h=u(n,["text"]);h!=null&&d(e,["text"],h);const S=u(n,["thought"]);S!=null&&d(e,["thought"],S);const C=u(n,["thoughtSignature"]);C!=null&&d(e,["thoughtSignature"],C);const T=u(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function k_(n){const e={},i=u(n,["productImage"]);return i!=null&&d(e,["image"],Sn(i)),e}function F_(n,e){const i={},l=u(n,["numberOfImages"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const s=u(n,["baseSteps"]);e!==void 0&&s!=null&&d(e,["parameters","baseSteps"],s);const c=u(n,["outputGcsUri"]);e!==void 0&&c!=null&&d(e,["parameters","storageUri"],c);const f=u(n,["seed"]);e!==void 0&&f!=null&&d(e,["parameters","seed"],f);const g=u(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&d(e,["parameters","safetySetting"],g);const y=u(n,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const h=u(n,["addWatermark"]);e!==void 0&&h!=null&&d(e,["parameters","addWatermark"],h);const S=u(n,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const C=u(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&d(e,["parameters","outputOptions","compressionQuality"],C);const T=u(n,["enhancePrompt"]);e!==void 0&&T!=null&&d(e,["parameters","enhancePrompt"],T);const b=u(n,["labels"]);return e!==void 0&&b!=null&&d(e,["labels"],b),i}function J_(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["source"]);s!=null&&$_(s,i);const c=u(e,["config"]);return c!=null&&F_(c,i),i}function Y_(n){const e={},i=u(n,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>ws(s))),d(e,["generatedImages"],l)}return e}function $_(n,e){const i={},l=u(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const s=u(n,["personImage"]);e!==void 0&&s!=null&&d(e,["instances[0]","personImage","image"],Sn(s));const c=u(n,["productImages"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(g=>k_(g))),d(e,["instances[0]","productImages"],f)}return i}function K_(n){const e={},i=u(n,["referenceImage"]);i!=null&&d(e,["referenceImage"],Sn(i));const l=u(n,["referenceId"]);l!=null&&d(e,["referenceId"],l);const s=u(n,["referenceType"]);s!=null&&d(e,["referenceType"],s);const c=u(n,["maskImageConfig"]);c!=null&&d(e,["maskImageConfig"],q_(c));const f=u(n,["controlImageConfig"]);f!=null&&d(e,["controlImageConfig"],Lx(f));const g=u(n,["styleImageConfig"]);g!=null&&d(e,["styleImageConfig"],g);const y=u(n,["subjectImageConfig"]);return y!=null&&d(e,["subjectImageConfig"],y),e}function qy(n){const e={},i=u(n,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const l=u(n,["safetyAttributes","scores"]);l!=null&&d(e,["scores"],l);const s=u(n,["contentType"]);return s!=null&&d(e,["contentType"],s),e}function Oy(n){const e={},i=u(n,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const l=u(n,["safetyAttributes","scores"]);l!=null&&d(e,["scores"],l);const s=u(n,["contentType"]);return s!=null&&d(e,["contentType"],s),e}function X_(n){const e={},i=u(n,["category"]);if(i!=null&&d(e,["category"],i),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=u(n,["threshold"]);return l!=null&&d(e,["threshold"],l),e}function Q_(n){const e={},i=u(n,["image"]);return i!=null&&d(e,["image"],Sn(i)),e}function Z_(n,e){const i={},l=u(n,["mode"]);e!==void 0&&l!=null&&d(e,["parameters","mode"],l);const s=u(n,["maxPredictions"]);e!==void 0&&s!=null&&d(e,["parameters","maxPredictions"],s);const c=u(n,["confidenceThreshold"]);e!==void 0&&c!=null&&d(e,["parameters","confidenceThreshold"],c);const f=u(n,["maskDilation"]);e!==void 0&&f!=null&&d(e,["parameters","maskDilation"],f);const g=u(n,["binaryColorThreshold"]);e!==void 0&&g!=null&&d(e,["parameters","binaryColorThreshold"],g);const y=u(n,["labels"]);return e!==void 0&&y!=null&&d(e,["labels"],y),i}function j_(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["source"]);s!=null&&eA(s,i);const c=u(e,["config"]);return c!=null&&Z_(c,i),i}function W_(n){const e={},i=u(n,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>__(s))),d(e,["generatedMasks"],l)}return e}function eA(n,e){const i={},l=u(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const s=u(n,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],Sn(s));const c=u(n,["scribbleImage"]);return e!==void 0&&c!=null&&d(e,["instances[0]","scribble"],Q_(c)),i}function tA(n){const e={},i=u(n,["retrievalConfig"]);i!=null&&d(e,["retrievalConfig"],i);const l=u(n,["functionCallingConfig"]);return l!=null&&d(e,["functionCallingConfig"],o_(l)),e}function nA(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const l=u(n,["fileSearch"]);l!=null&&d(e,["fileSearch"],l);const s=u(n,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(C=>C)),d(e,["functionDeclarations"],S)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],w_(f));const g=u(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],R_(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const h=u(n,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function ky(n){const e={},i=u(n,["retrieval"]);i!=null&&d(e,["retrieval"],i);const l=u(n,["computerUse"]);if(l!=null&&d(e,["computerUse"],l),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=u(n,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const c=u(n,["enterpriseWebSearch"]);c!=null&&d(e,["enterpriseWebSearch"],c);const f=u(n,["functionDeclarations"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(T=>i_(T))),d(e,["functionDeclarations"],C)}const g=u(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const y=u(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const h=u(n,["googleSearchRetrieval"]);h!=null&&d(e,["googleSearchRetrieval"],h);const S=u(n,["urlContext"]);return S!=null&&d(e,["urlContext"],S),e}function oA(n){const e={},i=u(n,["baseModel"]);i!=null&&d(e,["baseModel"],i);const l=u(n,["createTime"]);l!=null&&d(e,["createTime"],l);const s=u(n,["updateTime"]);return s!=null&&d(e,["updateTime"],s),e}function iA(n){const e={},i=u(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&d(e,["baseModel"],i);const l=u(n,["createTime"]);l!=null&&d(e,["createTime"],l);const s=u(n,["updateTime"]);return s!=null&&d(e,["updateTime"],s),e}function aA(n,e){const i={},l=u(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const s=u(n,["description"]);e!==void 0&&s!=null&&d(e,["description"],s);const c=u(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&d(e,["defaultCheckpointId"],c),i}function lA(n,e){const i={},l=u(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const s=u(n,["description"]);e!==void 0&&s!=null&&d(e,["description"],s);const c=u(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&d(e,["defaultCheckpointId"],c),i}function sA(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","name"],Ve(n,l));const s=u(e,["config"]);return s!=null&&aA(s,i),i}function rA(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["config"]);return s!=null&&lA(s,i),i}function uA(n,e){const i={},l=u(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const s=u(n,["safetyFilterLevel"]);e!==void 0&&s!=null&&d(e,["parameters","safetySetting"],s);const c=u(n,["personGeneration"]);e!==void 0&&c!=null&&d(e,["parameters","personGeneration"],c);const f=u(n,["includeRaiReason"]);e!==void 0&&f!=null&&d(e,["parameters","includeRaiReason"],f);const g=u(n,["outputMimeType"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","mimeType"],g);const y=u(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&d(e,["parameters","outputOptions","compressionQuality"],y);const h=u(n,["enhanceInputImage"]);e!==void 0&&h!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],h);const S=u(n,["imagePreservationFactor"]);e!==void 0&&S!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],S);const C=u(n,["labels"]);e!==void 0&&C!=null&&d(e,["labels"],C);const T=u(n,["numberOfImages"]);e!==void 0&&T!=null&&d(e,["parameters","sampleCount"],T);const b=u(n,["mode"]);return e!==void 0&&b!=null&&d(e,["parameters","mode"],b),i}function cA(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["_url","model"],Ve(n,l));const s=u(e,["image"]);s!=null&&d(i,["instances[0]","image"],Sn(s));const c=u(e,["upscaleFactor"]);c!=null&&d(i,["parameters","upscaleConfig","upscaleFactor"],c);const f=u(e,["config"]);return f!=null&&uA(f,i),i}function dA(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>ws(c))),d(e,["generatedImages"],s)}return e}function fA(n){const e={},i=u(n,["uri"]);i!=null&&d(e,["uri"],i);const l=u(n,["encodedVideo"]);l!=null&&d(e,["videoBytes"],_o(l));const s=u(n,["encoding"]);return s!=null&&d(e,["mimeType"],s),e}function mA(n){const e={},i=u(n,["gcsUri"]);i!=null&&d(e,["uri"],i);const l=u(n,["bytesBase64Encoded"]);l!=null&&d(e,["videoBytes"],_o(l));const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function pA(n){const e={},i=u(n,["image"]);i!=null&&d(e,["_self"],Sn(i));const l=u(n,["maskMode"]);return l!=null&&d(e,["maskMode"],l),e}function hA(n){const e={},i=u(n,["image"]);i!=null&&d(e,["image"],Rs(i));const l=u(n,["referenceType"]);return l!=null&&d(e,["referenceType"],l),e}function gA(n){const e={},i=u(n,["image"]);i!=null&&d(e,["image"],Sn(i));const l=u(n,["referenceType"]);return l!=null&&d(e,["referenceType"],l),e}function Fy(n){const e={},i=u(n,["uri"]);i!=null&&d(e,["uri"],i);const l=u(n,["videoBytes"]);l!=null&&d(e,["encodedVideo"],_o(l));const s=u(n,["mimeType"]);return s!=null&&d(e,["encoding"],s),e}function Jy(n){const e={},i=u(n,["uri"]);i!=null&&d(e,["gcsUri"],i);const l=u(n,["videoBytes"]);l!=null&&d(e,["bytesBase64Encoded"],_o(l));const s=u(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yA(n,e){const i={},l=u(n,["displayName"]);return e!==void 0&&l!=null&&d(e,["displayName"],l),i}function vA(n){const e={},i=u(n,["config"]);return i!=null&&yA(i,e),e}function SA(n,e){const i={},l=u(n,["force"]);return e!==void 0&&l!=null&&d(e,["_query","force"],l),i}function TA(n){const e={},i=u(n,["name"]);i!=null&&d(e,["_url","name"],i);const l=u(n,["config"]);return l!=null&&SA(l,e),e}function CA(n){const e={},i=u(n,["name"]);return i!=null&&d(e,["_url","name"],i),e}function EA(n,e){const i={},l=u(n,["customMetadata"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["customMetadata"],c)}const s=u(n,["chunkingConfig"]);return e!==void 0&&s!=null&&d(e,["chunkingConfig"],s),i}function xA(n){const e={},i=u(n,["name"]);i!=null&&d(e,["name"],i);const l=u(n,["metadata"]);l!=null&&d(e,["metadata"],l);const s=u(n,["done"]);s!=null&&d(e,["done"],s);const c=u(n,["error"]);c!=null&&d(e,["error"],c);const f=u(n,["response"]);return f!=null&&d(e,["response"],AA(f)),e}function _A(n){const e={},i=u(n,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const l=u(n,["fileName"]);l!=null&&d(e,["fileName"],l);const s=u(n,["config"]);return s!=null&&EA(s,e),e}function AA(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["parent"]);l!=null&&d(e,["parent"],l);const s=u(n,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function bA(n,e){const i={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),i}function NA(n){const e={},i=u(n,["config"]);return i!=null&&bA(i,e),e}function IA(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["fileSearchStores"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["fileSearchStores"],c)}return e}function Yy(n,e){const i={},l=u(n,["mimeType"]);e!==void 0&&l!=null&&d(e,["mimeType"],l);const s=u(n,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const c=u(n,["customMetadata"]);if(e!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),d(e,["customMetadata"],g)}const f=u(n,["chunkingConfig"]);return e!==void 0&&f!=null&&d(e,["chunkingConfig"],f),i}function MA(n){const e={},i=u(n,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const l=u(n,["config"]);return l!=null&&Yy(l,e),e}function wA(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RA="Content-Type",DA="X-Server-Timeout",UA="User-Agent",Ac="x-goog-api-client",LA="1.38.0",PA=`google-genai-sdk/${LA}`,GA="v1beta1",BA="v1beta";class HA{constructor(e){var i,l,s;this.clientOptions=Object.assign({},e),this.customBaseUrl=(i=e.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!g?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:GA}else{if(!this.clientOptions.apiKey)throw new ka({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:BA,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,l){const s=[this.getRequestUrlInternal(i)];return l&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e,i){return!(i.baseUrl&&i.baseUrlResourceScope===Sc.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e,i),s=this.constructUrl(e.path,i,l);if(e.queryParams)for(const[f,g]of Object.entries(e.queryParams))s.searchParams.append(f,String(g));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,i,s.toString(),e.abortSignal),this.unaryApiCall(s,c,e.httpMethod)}patchHttpOptions(e,i){const l=JSON.parse(JSON.stringify(e));for(const[s,c]of Object.entries(i))typeof c=="object"?l[s]=Object.assign(Object.assign({},l[s]),c):c!==void 0&&(l[s]=c);return l}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e,i),s=this.constructUrl(e.path,i,l);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,i,s.toString(),e.abortSignal),this.streamApiCall(s,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,l,s){if(i&&i.timeout||s){const c=new AbortController,f=c.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const g=setTimeout(()=>c.abort(),i.timeout);g&&typeof g.unref=="function"&&g.unref()}s&&s.addEventListener("abort",()=>{c.abort()}),e.signal=f}return i&&i.extraBody!==null&&VA(e,i.extraBody),e.headers=await this.getHeadersInternal(i,l),e}async unaryApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async s=>(await Gg(s),new Tc(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async s=>(await Gg(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return yn(this,arguments,function*(){var l;const s=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),c=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let f="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:S}=yield Te(s.read());if(h){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const C=c.decode(S,{stream:!0});try{const N=JSON.parse(C);if("error"in N){const _=JSON.parse(JSON.stringify(N.error)),A=_.status,R=_.code,B=`got status: ${A}. ${JSON.stringify(N)}`;if(R>=400&&R<600)throw new ka({message:B,status:R})}}catch(N){if(N.name==="ApiError")throw N}f+=C;let T=-1,b=0;for(;;){T=-1,b=0;for(const A of y){const R=f.indexOf(A);R!==-1&&(T===-1||R<T)&&(T=R,b=A.length)}if(T===-1)break;const N=f.substring(0,T);f=f.substring(T+b);const _=N.trim();if(_.startsWith(g)){const A=_.substring(g.length).trim();try{const R=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Te(new Tc(R))}catch(R){throw new Error(`exception parsing stream chunk ${A}. ${R}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},i=PA+" "+this.clientOptions.userAgentExtra;return e[UA]=i,e[Ac]=i,e[RA]="application/json",e}async getHeadersInternal(e,i){const l=new Headers;if(e&&e.headers){for(const[s,c]of Object.entries(e.headers))l.append(s,c);e.timeout&&e.timeout>0&&l.append(DA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,i),l}getFileName(e){var i;let l="";return typeof e=="string"&&(l=e.replace(/[/\\]+$/,""),l=(i=l.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),l}async uploadFile(e,i){var l;const s={};i!=null&&(s.mimeType=i.mimeType,s.name=i.name,s.displayName=i.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const c=this.clientOptions.uploader,f=await c.stat(e);s.sizeBytes=String(f.size);const g=(l=i==null?void 0:i.mimeType)!==null&&l!==void 0?l:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=g;const y={file:s},h=this.getFileName(e),S=ne("upload/v1beta/files",y._url),C=await this.fetchUploadUrl(S,s.sizeBytes,s.mimeType,h,y,i==null?void 0:i.httpOptions);return c.upload(e,C,this)}async uploadFileToFileSearchStore(e,i,l){var s;const c=this.clientOptions.uploader,f=await c.stat(i),g=String(f.size),y=(s=l==null?void 0:l.mimeType)!==null&&s!==void 0?s:f.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,S=this.getFileName(i),C={};l!=null&&Yy(l,C);const T=await this.fetchUploadUrl(h,g,y,S,C,l==null?void 0:l.httpOptions);return c.uploadToFileSearchStore(i,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,l,s,c,f){var g;let y={};f?y=f:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${l}`},s?{"X-Goog-Upload-File-Name":s}:{})};const h=await this.request({path:e,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const S=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(S===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return S}}async function Gg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const s=JSON.stringify(l);throw i>=400&&i<600?new ka({message:s,status:i}):new Error(s)}}function VA(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const c=JSON.parse(n.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))i=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(c,f){const g=Object.assign({},c);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){const h=f[y],S=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&S&&typeof S=="object"&&!Array.isArray(S)?g[y]=l(S,h):(S&&h&&typeof S!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof S}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const s=l(i,e);n.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zA="mcp_used/unknown";let qA=!1;function $y(n){for(const e of n)if(OA(e)||typeof e=="object"&&"inputSchema"in e)return!0;return qA}function Ky(n){var e;const i=(e=n[Ac])!==null&&e!==void 0?e:"";n[Ac]=(i+` ${zA}`).trimStart()}function OA(n){return n!==null&&typeof n=="object"&&n instanceof Xc}function kA(n){return yn(this,arguments,function*(i,l=100){let s,c=0;for(;c<l;){const f=yield Te(i.listTools({cursor:s}));for(const g of f.tools)yield yield Te(g),c++;if(!f.nextCursor)break;s=f.nextCursor}})}class Xc{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Xc(e,i)}async initialize(){var e,i,l,s;if(this.mcpTools.length>0)return;const c={},f=[];for(const S of this.mcpClients)try{for(var g=!0,y=(i=void 0,vn(kA(S))),h;h=await y.next(),e=h.done,!e;g=!0){s=h.value,g=!1;const C=s;f.push(C);const T=C.name;if(c[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);c[T]=S}}catch(C){i={error:C}}finally{try{!g&&!e&&(l=y.return)&&await l.call(y)}finally{if(i)throw i.error}}this.mcpTools=f,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),TC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[l.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const f=await s.callTool({name:l.name,arguments:l.args},void 0,c);i.push({functionResponse:{name:l.name,response:f.isError?{error:f}:f}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function FA(n,e,i){const l=new fC;let s;i.data instanceof Blob?s=JSON.parse(await i.data.text()):s=JSON.parse(i.data),Object.assign(l,s),e(l)}class JA{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l}async connect(e){var i,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),f=KA(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${s}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const S=new Promise(q=>{h=q}),C=e.callbacks,T=function(){h({})},b=this.apiClient,N={onopen:T,onmessage:q=>{FA(b,C.onmessage,q)},onerror:(i=C==null?void 0:C.onerror)!==null&&i!==void 0?i:function(q){},onclose:(l=C==null?void 0:C.onclose)!==null&&l!==void 0?l:function(q){}},_=this.webSocketFactory.create(y,$A(f),N);_.connect(),await S;const B={setup:{model:Ve(this.apiClient,e.model)}};return _.send(JSON.stringify(B)),new YA(_,this.apiClient)}}class YA{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=yx(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=gx(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Hi.PLAY)}pause(){this.sendPlaybackControl(Hi.PAUSE)}stop(){this.sendPlaybackControl(Hi.STOP)}resetContext(){this.sendPlaybackControl(Hi.RESET_CONTEXT)}close(){this.conn.close()}}function $A(n){const e={};return n.forEach((i,l)=>{e[l]=i}),e}function KA(n){const e=new Headers;for(const[i,l]of Object.entries(n))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function QA(n,e,i){const l=new dC;let s;i.data instanceof Blob?s=await i.data.text():i.data instanceof ArrayBuffer?s=new TextDecoder().decode(i.data):s=i.data;const c=JSON.parse(s);if(n.isVertexAI()){const f=Tx(c);Object.assign(l,f)}else Object.assign(l,c);e(l)}class ZA{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l,this.music=new JA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,l,s,c,f,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let S;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&$y(e.config.tools)&&Ky(C);const T=tb(C);if(this.apiClient.isVertexAI()){const J=this.apiClient.getProject(),ie=this.apiClient.getLocation(),he=this.apiClient.getApiKey(),Y=!!J&&!!ie||!!he;this.apiClient.getCustomBaseUrl()&&!Y?S=y:(S=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,S))}else{const J=this.apiClient.getApiKey();let ie="BidiGenerateContent",he="key";J!=null&&J.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ie="BidiGenerateContentConstrained",he="access_token"),S=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ie}?${he}=${J}`}let b=()=>{};const N=new Promise(J=>{b=J}),_=e.callbacks,A=function(){var J;(J=_==null?void 0:_.onopen)===null||J===void 0||J.call(_),b({})},R=this.apiClient,B={onopen:A,onmessage:J=>{QA(R,_.onmessage,J)},onerror:(i=_==null?void 0:_.onerror)!==null&&i!==void 0?i:function(J){},onclose:(l=_==null?void 0:_.onclose)!==null&&l!==void 0?l:function(J){}},q=this.webSocketFactory.create(S,eb(T),B);q.connect(),await N;let O=Ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const J=this.apiClient.getProject(),ie=this.apiClient.getLocation();J&&ie&&(O=`projects/${J}/locations/${ie}/`+O)}let H={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ys.AUDIO]}:e.config.responseModalities=[ys.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const z=(g=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[],Z=[];for(const J of z)if(this.isCallableTool(J)){const ie=J;Z.push(await ie.tool())}else Z.push(J);Z.length>0&&(e.config.tools=Z);const oe={model:O,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?H=hx(this.apiClient,oe):H=px(this.apiClient,oe),delete H.config,q.send(JSON.stringify(H)),new WA(q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const jA={turnComplete:!0};class WA{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let l=[];try{l=dn(i.turns),e.isVertexAI()||(l=l.map(s=>Ms(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:l,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let l=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?l=i.functionResponses:l=[i.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const c of l){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(XA)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},jA),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:Sx(e)}:i={realtimeInput:vx(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function eb(n){const e={};return n.forEach((i,l)=>{e[l]=i}),e}function tb(n){const e=new Headers;for(const[i,l]of Object.entries(n))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bg=10;function Hg(n){var e,i,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const f of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(Oi(f)){s=!0;break}if(!s)return!0;const c=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Oi(n){return"callTool"in n&&typeof n.callTool=="function"}function nb(n){var e,i,l;return(l=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(s=>Oi(s)))!==null&&l!==void 0?l:!1}function Vg(n){var e;const i=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((l,s)=>{if(Oi(l))return;const c=l;c.functionDeclarations&&c.functionDeclarations.length>0&&i.push(s)}),i}function zg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ob extends Yn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var l,s,c,f,g;const y=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!nb(i)||Hg(i.config))return await this.generateContentInternal(y);const h=Vg(i);if(h.length>0){const _=h.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let S,C;const T=dn(y.contents),b=(c=(s=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&c!==void 0?c:Bg;let N=0;for(;N<b&&(S=await this.generateContentInternal(y),!(!S.functionCalls||S.functionCalls.length===0));){const _=S.candidates[0].content,A=[];for(const R of(g=(f=i.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[])if(Oi(R)){const q=await R.callTool(S.functionCalls);A.push(...q)}N++,C={role:"user",parts:A},y.contents=dn(y.contents),y.contents.push(_),y.contents.push(C),zg(y.config)&&(T.push(_),T.push(C))}return zg(y.config)&&(S.automaticFunctionCallingHistory=T),S},this.generateContentStream=async i=>{var l,s,c,f,g;if(this.maybeMoveToResponseJsonSchem(i),Hg(i.config)){const C=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(C)}const y=Vg(i);if(y.length>0){const C=y.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${C}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(c=(s=(l=i==null?void 0:i.config)===null||l===void 0?void 0:l.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,S=(g=(f=i==null?void 0:i.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!S)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(l=>{var s;let c;const f=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((s=y==null?void 0:y.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:f.push(y);let g;return c?g={generatedImages:f,positivePromptSafetyAttributes:c,sdkHttpResponse:l.sdkHttpResponse}:g={generatedImages:f,sdkHttpResponse:l.sdkHttpResponse},g}),this.list=async i=>{var l;const f={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((l=f.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Qo(Fn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(f),f)},this.editImage=async i=>{const l={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(l.referenceImages=i.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async i=>{let l={numberOfImages:1,mode:"upscale"};i.config&&(l=Object.assign(Object.assign({},l),i.config));const s={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:l};return await this.upscaleImageInternal(s)},this.generateVideos=async i=>{var l,s,c,f,g,y;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=i.video)===null||l===void 0)&&l.uri&&(!((s=i.video)===null||s===void 0)&&s.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((f=(c=i.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.uri&&(!((y=(g=i.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,l,s;const c=(i=e.config)===null||i===void 0?void 0:i.tools;if(!c)return e;const f=await Promise.all(c.map(async y=>Oi(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(g.config.tools=f,e.config&&e.config.tools&&$y(e.config.tools)){const y=(s=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&s!==void 0?s:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Ky(h),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(e){var i,l,s;const c=new Map;for(const f of(l=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&l!==void 0?l:[])if(Oi(f)){const g=f,y=await g.tool();for(const h of(s=y.functionDeclarations)!==null&&s!==void 0?s:[]){if(!h.name)throw new Error("Function declaration name is required.");if(c.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);c.set(h.name,g)}}return c}async processAfcStream(e){var i,l,s;const c=(s=(l=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&s!==void 0?s:Bg;let f=!1,g=0;const y=await this.initAfcToolsMap(e);return(function(h,S,C){return yn(this,arguments,function*(){for(var T,b,N,_,A,R;g<c;){f&&(g++,f=!1);const H=yield Te(h.processParamsMaybeAddMcpUsage(C)),z=yield Te(h.generateContentStreamInternal(H)),Z=[],oe=[];try{for(var B=!0,q=(b=void 0,vn(z)),O;O=yield Te(q.next()),T=O.done,!T;B=!0){_=O.value,B=!1;const J=_;if(yield yield Te(J),J.candidates&&(!((A=J.candidates[0])===null||A===void 0)&&A.content)){oe.push(J.candidates[0].content);for(const ie of(R=J.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(g<c&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(S.has(ie.functionCall.name)){const he=yield Te(S.get(ie.functionCall.name).callTool([ie.functionCall]));Z.push(...he)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${S.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(J){b={error:J}}finally{try{!B&&!T&&(N=q.return)&&(yield Te(N.call(q)))}finally{if(b)throw b.error}}if(Z.length>0){f=!0;const J=new za;J.candidates=[{content:{role:"user",parts:Z}}],yield yield Te(J);const ie=[];ie.push(...oe),ie.push({role:"user",parts:Z});const he=dn(C.contents).concat(ie);C.contents=he}else break}})})(this,y,e)}async generateContentInternal(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=Ug(this.apiClient,e);return g=ne("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=Pg(S),T=new za;return Object.assign(T,C),T})}else{const h=Dg(this.apiClient,e);return g=ne("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=Lg(S),T=new za;return Object.assign(T,C),T})}}async generateContentStreamInternal(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=Ug(this.apiClient,e);return g=ne("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),f.then(function(C){return yn(this,arguments,function*(){var T,b,N,_;try{for(var A=!0,R=vn(C),B;B=yield Te(R.next()),T=B.done,!T;A=!0){_=B.value,A=!1;const q=_,O=Pg(yield Te(q.json()));O.sdkHttpResponse={headers:q.headers};const H=new za;Object.assign(H,O),yield yield Te(H)}}catch(q){b={error:q}}finally{try{!A&&!T&&(N=R.return)&&(yield Te(N.call(R)))}finally{if(b)throw b.error}}})})}else{const h=Dg(this.apiClient,e);return g=ne("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),f.then(function(C){return yn(this,arguments,function*(){var T,b,N,_;try{for(var A=!0,R=vn(C),B;B=yield Te(R.next()),T=B.done,!T;A=!0){_=B.value,A=!1;const q=_,O=Lg(yield Te(q.json()));O.sdkHttpResponse={headers:q.headers};const H=new za;Object.assign(H,O),yield yield Te(H)}}catch(q){b={error:q}}finally{try{!A&&!T&&(N=R.return)&&(yield Te(N.call(R)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=Zx(this.apiClient,e);return g=ne("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=Wx(S),T=new hg;return Object.assign(T,C),T})}else{const h=Qx(this.apiClient,e);return g=ne("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=jx(S),T=new hg;return Object.assign(T,C),T})}}async generateImagesInternal(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=c_(this.apiClient,e);return g=ne("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=f_(S),T=new gg;return Object.assign(T,C),T})}else{const h=u_(this.apiClient,e);return g=ne("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=d_(S),T=new gg;return Object.assign(T,C),T})}}async editImageInternal(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=Yx(this.apiClient,e);return c=ne("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>{const h=$x(y),S=new eC;return Object.assign(S,h),S})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=cA(this.apiClient,e);return c=ne("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>{const h=dA(y),S=new tC;return Object.assign(S,h),S})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=J_(this.apiClient,e);return c=ne("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=Y_(y),S=new nC;return Object.assign(S,h),S})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=j_(this.apiClient,e);return c=ne("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=W_(y),S=new oC;return Object.assign(S,h),S})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=M_(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>_c(S))}else{const h=I_(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>xc(S))}}async listInternal(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=H_(this.apiClient,e);return g=ne("{models_url}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=z_(S),T=new yg;return Object.assign(T,C),T})}else{const h=B_(this.apiClient,e);return g=ne("{models_url}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=V_(S),T=new yg;return Object.assign(T,C),T})}}async update(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=rA(this.apiClient,e);return g=ne("{model}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>_c(S))}else{const h=sA(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>xc(S))}}async delete(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=Ox(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=Fx(S),T=new vg;return Object.assign(T,C),T})}else{const h=qx(this.apiClient,e);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=kx(S),T=new vg;return Object.assign(T,C),T})}}async countTokens(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=Hx(this.apiClient,e);return g=ne("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=zx(S),T=new Sg;return Object.assign(T,C),T})}else{const h=Bx(this.apiClient,e);return g=ne("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=Vx(S),T=new Sg;return Object.assign(T,C),T})}}async computeTokens(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=wx(this.apiClient,e);return c=ne("{model}:computeTokens",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>{const h=Rx(y),S=new iC;return Object.assign(S,h),S})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=v_(this.apiClient,e);return g=ne("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f.then(S=>{const C=g_(S),T=new vs;return Object.assign(T,C),T})}else{const h=y_(this.apiClient,e);return g=ne("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f.then(S=>{const C=h_(S),T=new vs;return Object.assign(T,C),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ib extends Yn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=i.name.split("/operations/")[0];let c;l&&"httpOptions"in l&&(c=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:s,config:{httpOptions:c}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=i.name.split("/operations/")[0];let c;l&&"httpOptions"in l&&(c=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:s,config:{httpOptions:c}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=KT(e);return g=ne("{operationName}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json()),f}else{const h=$T(e);return g=ne("{operationName}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()),f}}async fetchPredictVideosOperationInternal(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=zT(e);return c=ne("{resourceName}:fetchPredictOperation",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ab(n){const e={},i=u(n,["data"]);if(i!=null&&d(e,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function lb(n){const e={},i=u(n,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>hb(c))),d(e,["parts"],s)}const l=u(n,["role"]);return l!=null&&d(e,["role"],l),e}function sb(n,e,i){const l={},s=u(e,["expireTime"]);i!==void 0&&s!=null&&d(i,["expireTime"],s);const c=u(e,["newSessionExpireTime"]);i!==void 0&&c!=null&&d(i,["newSessionExpireTime"],c);const f=u(e,["uses"]);i!==void 0&&f!=null&&d(i,["uses"],f);const g=u(e,["liveConnectConstraints"]);i!==void 0&&g!=null&&d(i,["bidiGenerateContentSetup"],pb(n,g));const y=u(e,["lockAdditionalFields"]);return i!==void 0&&y!=null&&d(i,["fieldMask"],y),l}function rb(n,e){const i={},l=u(e,["config"]);return l!=null&&d(i,["config"],sb(n,l,i)),i}function ub(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const l=u(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function cb(n){const e={},i=u(n,["id"]);i!=null&&d(e,["id"],i);const l=u(n,["args"]);l!=null&&d(e,["args"],l);const s=u(n,["name"]);if(s!=null&&d(e,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function db(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function fb(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function mb(n,e){const i={},l=u(n,["generationConfig"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig"],l);const s=u(n,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const c=u(n,["temperature"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","temperature"],c);const f=u(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const g=u(n,["topK"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const h=u(n,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const S=u(n,["seed"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","seed"],S);const C=u(n,["speechConfig"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","speechConfig"],Kc(C));const T=u(n,["thinkingConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","thinkingConfig"],T);const b=u(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const N=u(n,["systemInstruction"]);e!==void 0&&N!=null&&d(e,["setup","systemInstruction"],lb(Nt(N)));const _=u(n,["tools"]);if(e!==void 0&&_!=null){let z=Ji(_);Array.isArray(z)&&(z=z.map(Z=>yb(Fi(Z)))),d(e,["setup","tools"],z)}const A=u(n,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],gb(A));const R=u(n,["inputAudioTranscription"]);e!==void 0&&R!=null&&d(e,["setup","inputAudioTranscription"],R);const B=u(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],B);const q=u(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&d(e,["setup","realtimeInputConfig"],q);const O=u(n,["contextWindowCompression"]);e!==void 0&&O!=null&&d(e,["setup","contextWindowCompression"],O);const H=u(n,["proactivity"]);if(e!==void 0&&H!=null&&d(e,["setup","proactivity"],H),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function pb(n,e){const i={},l=u(e,["model"]);l!=null&&d(i,["setup","model"],Ve(n,l));const s=u(e,["config"]);return s!=null&&d(i,["config"],mb(s,i)),i}function hb(n){const e={},i=u(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const l=u(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const s=u(n,["executableCode"]);s!=null&&d(e,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&d(e,["fileData"],ub(c));const f=u(n,["functionCall"]);f!=null&&d(e,["functionCall"],cb(f));const g=u(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&d(e,["inlineData"],ab(y));const h=u(n,["text"]);h!=null&&d(e,["text"],h);const S=u(n,["thought"]);S!=null&&d(e,["thought"],S);const C=u(n,["thoughtSignature"]);C!=null&&d(e,["thoughtSignature"],C);const T=u(n,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function gb(n){const e={},i=u(n,["handle"]);if(i!=null&&d(e,["handle"],i),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yb(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const l=u(n,["fileSearch"]);l!=null&&d(e,["fileSearch"],l);const s=u(n,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(C=>C)),d(e,["functionDeclarations"],S)}const f=u(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],db(f));const g=u(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],fb(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const h=u(n,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vb(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const l=n[i];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const s=Object.keys(l).map(c=>`${i}.${c}`);e.push(...s)}else e.push(i)}return e.join(",")}function Sb(n,e){let i=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const c=l.setup;typeof c=="object"&&c!==null?(n.bidiGenerateContentSetup=c,i=c):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const s=n.fieldMask;if(i){const c=vb(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?n.fieldMask=c:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];s.length>0&&(g=s.map(h=>f.includes(h)?`generationConfig.${h}`:h));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?n.fieldMask=s.join(","):delete n.fieldMask;return n}class Tb extends Yn{constructor(e){super(),this.apiClient=e}async create(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=rb(this.apiClient,e);c=ne("auth_tokens",g._url),f=g._query,delete g.config,delete g._url,delete g._query;const y=Sb(g,e.config);return s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cb(n,e){const i={},l=u(n,["force"]);return e!==void 0&&l!=null&&d(e,["_query","force"],l),i}function Eb(n){const e={},i=u(n,["name"]);i!=null&&d(e,["_url","name"],i);const l=u(n,["config"]);return l!=null&&Cb(l,e),e}function xb(n){const e={},i=u(n,["name"]);return i!=null&&d(e,["_url","name"],i),e}function _b(n,e){const i={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const s=u(n,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),i}function Ab(n){const e={},i=u(n,["parent"]);i!=null&&d(e,["_url","parent"],i);const l=u(n,["config"]);return l!=null&&_b(l,e),e}function bb(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const l=u(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const s=u(n,["documents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["documents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nb extends Yn{constructor(e){super(),this.apiClient=e,this.list=async i=>new Qo(Fn.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:i.parent,config:l.config}),await this.listInternal(i),i)}async get(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xb(e);return c=ne("{name}",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async delete(e){var i,l;let s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Eb(e);s=ne("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ab(e);return c=ne("{parent}/documents",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=bb(y),S=new aC;return Object.assign(S,h),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ib extends Yn{constructor(e,i=new Nb(e)){super(),this.apiClient=e,this.documents=i,this.list=async(l={})=>new Qo(Fn.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(l),l)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vA(e);return c=ne("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async get(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=CA(e);return c=ne("{name}",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async delete(e){var i,l;let s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=TA(e);s=ne("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NA(e);return c=ne("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=IA(y),S=new lC;return Object.assign(S,h),S})}}async uploadToFileSearchStoreInternal(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=MA(e);return c=ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=wA(y),S=new sC;return Object.assign(S,h),S})}}async importFile(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_A(e);return c=ne("{file_search_store_name}:importFile",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=xA(y),S=new kc;return Object.assign(S,h),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Xy=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return Xy=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),i=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^i()&15>>+l/4).toString(16))};const Mb=()=>Xy();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bc(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Nc=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fn extends Error{}class Lt extends fn{constructor(e,i,l,s){super(`${Lt.makeMessage(e,i,l)}`),this.status=e,this.headers=s,this.error=i}static makeMessage(e,i,l){const s=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):l;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,i,l,s){if(!e||!s)return new Ds({message:l,cause:Nc(i)});const c=i;return e===400?new Zy(e,c,l,s):e===401?new jy(e,c,l,s):e===403?new Wy(e,c,l,s):e===404?new e0(e,c,l,s):e===409?new t0(e,c,l,s):e===422?new n0(e,c,l,s):e===429?new o0(e,c,l,s):e>=500?new i0(e,c,l,s):new Lt(e,c,l,s)}}class Ic extends Lt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ds extends Lt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class Qy extends Ds{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Zy extends Lt{}class jy extends Lt{}class Wy extends Lt{}class e0 extends Lt{}class t0 extends Lt{}class n0 extends Lt{}class o0 extends Lt{}class i0 extends Lt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wb=/^[a-z][a-z0-9+.-]*:/i,Rb=n=>wb.test(n);let Mc=n=>(Mc=Array.isArray,Mc(n));const Db=Mc;let Ub=Db;const qg=Ub;function Lb(n){if(!n)return!0;for(const e in n)return!1;return!0}function Pb(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const Gb=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new fn(`${n} must be an integer`);if(e<0)throw new fn(`${n} must be a positive integer`);return e},Bb=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hb=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bi="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vb(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const zb=()=>{var n,e,i,l,s;const c=Vb();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bi,"X-Stainless-OS":kg(Deno.build.os),"X-Stainless-Arch":Og(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bi,"X-Stainless-OS":kg((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":Og((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const f=qb();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function qb(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of n){const l=i.exec(navigator.userAgent);if(l){const s=l[1]||0,c=l[2]||0,f=l[3]||0;return{browser:e,version:`${s}.${c}.${f}`}}}return null}const Og=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",kg=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let ss;const Ob=()=>ss??(ss=zb());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kb(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function a0(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function Fb(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return a0({start(){},async pull(i){const{done:l,value:s}=await e.next();l?i.close():i.enqueue(s)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function l0(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Jb(n){var e,i;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((i=(e=n[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const l=n.getReader(),s=l.cancel();l.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yb=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s0=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ic(n,e,i){return s0(),new File(n,e??"unknown_file",i)}function $b(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const Kb=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r0=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",Xb=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&r0(n),Qb=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function Zb(n,e,i){if(s0(),n=await n,Xb(n))return n instanceof File?n:ic([await n.arrayBuffer()],n.name);if(Qb(n)){const s=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),ic(await wc(s),e,i)}const l=await wc(n);if(e||(e=$b(n)),!(i!=null&&i.type)){const s=l.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof s=="string"&&(i=Object.assign(Object.assign({},i),{type:s}))}return ic(l,e,i)}async function wc(n){var e,i,l,s,c;let f=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)f.push(n);else if(r0(n))f.push(n instanceof Blob?n:await n.arrayBuffer());else if(Kb(n))try{for(var g=!0,y=vn(n),h;h=await y.next(),e=h.done,!e;g=!0){s=h.value,g=!1;const S=s;f.push(...await wc(S))}}catch(S){i={error:S}}finally{try{!g&&!e&&(l=y.return)&&await l.call(y)}finally{if(i)throw i.error}}else{const S=(c=n==null?void 0:n.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof n}${S?`; constructor: ${S}`:""}${jb(n)}`)}return f}function jb(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class u0{constructor(e){this._client=e}}u0._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c0(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Fg=Object.freeze(Object.create(null)),Wb=(n=c0)=>(function(i,...l){if(i.length===1)return i[0];let s=!1;const c=[],f=i.reduce((S,C,T)=>{var b,N,_;/[?#]/.test(C)&&(s=!0);const A=l[T];let R=(s?encodeURIComponent:n)(""+A);return T!==l.length&&(A==null||typeof A=="object"&&A.toString===((_=Object.getPrototypeOf((N=Object.getPrototypeOf((b=A.hasOwnProperty)!==null&&b!==void 0?b:Fg))!==null&&N!==void 0?N:Fg))===null||_===void 0?void 0:_.toString))&&(R=A+"",c.push({start:S.length+C.length,length:R.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),S+C+(T===l.length?"":R)},""),g=f.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)c.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(c.sort((S,C)=>S.start-C.start),c.length>0){let S=0;const C=c.reduce((T,b)=>{const N=" ".repeat(b.start-S),_="^".repeat(b.length);return S=b.start+b.length,T+N+_},"");throw new fn(`Path parameters result in path with invalid segments:
${c.map(T=>T.error).join(`
`)}
${f}
${C}`)}return f}),rs=Wb(c0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d0 extends u0{create(e,i){var l;const{api_version:s=this._client.apiVersion}=e,c=Ts(e,["api_version"]);if("model"in c&&"agent_config"in c)throw new fn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new fn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(rs`/${s}/interactions`,Object.assign(Object.assign({body:c},i),{stream:(l=e.stream)!==null&&l!==void 0?l:!1}))}delete(e,i={},l){const{api_version:s=this._client.apiVersion}=i??{};return this._client.delete(rs`/${s}/interactions/${e}`,l)}cancel(e,i={},l){const{api_version:s=this._client.apiVersion}=i??{};return this._client.post(rs`/${s}/interactions/${e}/cancel`,l)}get(e,i={},l){var s;const c=i??{},{api_version:f=this._client.apiVersion}=c,g=Ts(c,["api_version"]);return this._client.get(rs`/${f}/interactions/${e}`,Object.assign(Object.assign({query:g},l),{stream:(s=i==null?void 0:i.stream)!==null&&s!==void 0?s:!1}))}}d0._key=Object.freeze(["interactions"]);class f0 extends d0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eN(n){let e=0;for(const s of n)e+=s.length;const i=new Uint8Array(e);let l=0;for(const s of n)i.set(s,l),l+=s.length;return i}let us;function Qc(n){let e;return(us??(e=new globalThis.TextEncoder,us=e.encode.bind(e)))(n)}let cs;function Jg(n){let e;return(cs??(e=new globalThis.TextDecoder,cs=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Us{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Qc(e):e;this.buffer=eN([this.buffer,i]);const l=[];let s;for(;(s=tN(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){l.push(Jg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,f=Jg(this.buffer.subarray(0,c));l.push(f),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}Us.NEWLINE_CHARS=new Set([`
`,"\r"]);Us.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function tN(n,e){for(let s=e??0;s<n.length;s++){if(n[s]===10)return{preceding:s,index:s+1,carriage:!1};if(n[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function nN(n){for(let l=0;l<n.length-1;l++){if(n[l]===10&&n[l+1]===10||n[l]===13&&n[l+1]===13)return l+2;if(n[l]===13&&n[l+1]===10&&l+3<n.length&&n[l+2]===13&&n[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cs={off:0,error:200,warn:300,info:400,debug:500},Yg=(n,e,i)=>{if(n){if(Pb(Cs,n))return n;Dt(i).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Cs))}`)}};function Oa(){}function ds(n,e,i){return!e||Cs[n]>Cs[i]?Oa:e[n].bind(e)}const oN={error:Oa,warn:Oa,info:Oa,debug:Oa};let $g=new WeakMap;function Dt(n){var e;const i=n.logger,l=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!i)return oN;const s=$g.get(i);if(s&&s[0]===l)return s[1];const c={error:ds("error",i,l),warn:ds("warn",i,l),info:ds("info",i,l),debug:ds("debug",i,l)};return $g.set(i,[l,c]),c}const ko=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vi{constructor(e,i,l){this.iterator=e,this.controller=i,this.client=l}static fromSSEResponse(e,i,l){let s=!1;const c=l?Dt(l):console;function f(){return yn(this,arguments,function*(){var y,h,S,C;if(s)throw new fn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let T=!1;try{try{for(var b=!0,N=vn(iN(e,i)),_;_=yield Te(N.next()),y=_.done,!y;b=!0){C=_.value,b=!1;const A=C;if(!T)if(A.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Te(JSON.parse(A.data))}catch(R){throw c.error("Could not parse message into JSON:",A.data),c.error("From chunk:",A.raw),R}}}catch(A){h={error:A}}finally{try{!b&&!y&&(S=N.return)&&(yield Te(S.call(N)))}finally{if(h)throw h.error}}T=!0}catch(A){if(bc(A))return yield Te(void 0);throw A}finally{T||i.abort()}})}return new Vi(f,i,l)}static fromReadableStream(e,i,l){let s=!1;function c(){return yn(this,arguments,function*(){var y,h,S,C;const T=new Us,b=l0(e);try{for(var N=!0,_=vn(b),A;A=yield Te(_.next()),y=A.done,!y;N=!0){C=A.value,N=!1;const R=C;for(const B of T.decode(R))yield yield Te(B)}}catch(R){h={error:R}}finally{try{!N&&!y&&(S=_.return)&&(yield Te(S.call(_)))}finally{if(h)throw h.error}}for(const R of T.flush())yield yield Te(R)})}function f(){return yn(this,arguments,function*(){var y,h,S,C;if(s)throw new fn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let T=!1;try{try{for(var b=!0,N=vn(c()),_;_=yield Te(N.next()),y=_.done,!y;b=!0){C=_.value,b=!1;const A=C;T||A&&(yield yield Te(JSON.parse(A)))}}catch(A){h={error:A}}finally{try{!b&&!y&&(S=N.return)&&(yield Te(S.call(N)))}finally{if(h)throw h.error}}T=!0}catch(A){if(bc(A))return yield Te(void 0);throw A}finally{T||i.abort()}})}return new Vi(f,i,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],l=this.iterator(),s=c=>({next:()=>{if(c.length===0){const f=l.next();e.push(f),i.push(f)}return c.shift()}});return[new Vi(()=>s(e),this.controller,this.client),new Vi(()=>s(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return a0({async start(){i=e[Symbol.asyncIterator]()},async pull(l){try{const{value:s,done:c}=await i.next();if(c)return l.close();const f=Qc(JSON.stringify(s)+`
`);l.enqueue(f)}catch(s){l.error(s)}},async cancel(){var l;await((l=i.return)===null||l===void 0?void 0:l.call(i))}})}}function iN(n,e){return yn(this,arguments,function*(){var l,s,c,f;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new fn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new fn("Attempted to iterate over a response with no body");const g=new lN,y=new Us,h=l0(n.body);try{for(var S=!0,C=vn(aN(h)),T;T=yield Te(C.next()),l=T.done,!l;S=!0){f=T.value,S=!1;const b=f;for(const N of y.decode(b)){const _=g.decode(N);_&&(yield yield Te(_))}}}catch(b){s={error:b}}finally{try{!S&&!l&&(c=C.return)&&(yield Te(c.call(C)))}finally{if(s)throw s.error}}for(const b of y.flush()){const N=g.decode(b);N&&(yield yield Te(N))}})}function aN(n){return yn(this,arguments,function*(){var i,l,s,c;let f=new Uint8Array;try{for(var g=!0,y=vn(n),h;h=yield Te(y.next()),i=h.done,!i;g=!0){c=h.value,g=!1;const S=c;if(S==null)continue;const C=S instanceof ArrayBuffer?new Uint8Array(S):typeof S=="string"?Qc(S):S;let T=new Uint8Array(f.length+C.length);T.set(f),T.set(C,f.length),f=T;let b;for(;(b=nN(f))!==-1;)yield yield Te(f.slice(0,b)),f=f.slice(b)}}catch(S){l={error:S}}finally{try{!g&&!i&&(s=y.return)&&(yield Te(s.call(y)))}finally{if(l)throw l.error}}f.length>0&&(yield yield Te(f))})}class lN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,l,s]=sN(e,":");return s.startsWith(" ")&&(s=s.substring(1)),i==="event"?this.event=s:i==="data"&&this.data.push(s),null}}function sN(n,e){const i=n.indexOf(e);return i!==-1?[n.substring(0,i),e,n.substring(i+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rN(n,e){const{response:i,requestLogID:l,retryOfRequestLogID:s,startTime:c}=e,f=await(async()=>{var g;if(e.options.stream)return Dt(n).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,n):Vi.fromSSEResponse(i,e.controller,n);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const y=i.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await i.json():await i.text()})();return Dt(n).debug(`[${l}] response parsed`,ko({retryOfRequestLogID:s,url:i.url,status:i.status,body:f,durationMs:Date.now()-c})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zc extends Promise{constructor(e,i,l=rN){super(s=>{s(null)}),this.responsePromise=i,this.parseResponse=l,this.client=e}_thenUnwrap(e){return new Zc(this.client,this.responsePromise,async(i,l)=>e(await this.parseResponse(i,l),l))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m0=Symbol("brand.privateNullableHeaders");function*uN(n){if(!n)return;if(m0 in n){const{values:l,nulls:s}=n;yield*l.entries();for(const c of s)yield[c,null];return}let e=!1,i;n instanceof Headers?i=n.entries():qg(n)?i=n:(e=!0,i=Object.entries(n??{}));for(let l of i){const s=l[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const c=qg(l[1])?l[1]:[l[1]];let f=!1;for(const g of c)g!==void 0&&(e&&!f&&(f=!0,yield[s,null]),yield[s,g])}}const qa=n=>{const e=new Headers,i=new Set;for(const l of n){const s=new Set;for(const[c,f]of uN(l)){const g=c.toLowerCase();s.has(g)||(e.delete(c),s.add(g)),f===null?(e.delete(c),i.add(g)):(e.append(c,f),i.delete(g))}}return{[m0]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ac=n=>{var e,i,l,s,c,f;if(typeof globalThis.process<"u")return(l=(i=(e=LT)===null||e===void 0?void 0:e[n])===null||i===void 0?void 0:i.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(f=(c=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||c===void 0?void 0:c.call(s,n))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var p0;class Ls{constructor(e){var i,l,s,c,f,g,y,{baseURL:h=ac("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:S=(i=ac("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:C="v1beta"}=e,T=Ts(e,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:S,apiVersion:C},T),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(l=b.timeout)!==null&&l!==void 0?l:Ls.DEFAULT_TIMEOUT,this.logger=(s=b.logger)!==null&&s!==void 0?s:console;const N="warn";this.logLevel=N,this.logLevel=(f=(c=Yg(b.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:Yg(ac("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:N,this.fetchOptions=b.fetchOptions,this.maxRetries=(g=b.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=b.fetch)!==null&&y!==void 0?y:kb(),this.encoder=Yb,this._options=b,this.apiKey=S,this.apiVersion=C,this.clientAdapter=b.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=qa([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return qa([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return qa([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,l])=>typeof l<"u").map(([i,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(i)}=`;throw new fn(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Bi}`}defaultIdempotencyKey(){return`stainless-node-retry-${Mb()}`}makeStatusError(e,i,l,s){return Lt.generate(e,i,l,s)}buildURL(e,i,l){const s=!this.baseURLOverridden()&&l||this.baseURL,c=Rb(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return Lb(f)||(i=Object.assign(Object.assign({},f),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(c.search=this.stringifyQuery(i)),c.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:l}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,l){return this.request(Promise.resolve(l).then(s=>Object.assign({method:e,path:i},s)))}request(e,i=null){return new Zc(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,l){var s,c,f;const g=await e,y=(s=g.maxRetries)!==null&&s!==void 0?s:this.maxRetries;i==null&&(i=y),await this.prepareOptions(g);const{req:h,url:S,timeout:C}=await this.buildRequest(g,{retryCount:y-i});await this.prepareRequest(h,{url:S,options:g});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=l===void 0?"":`, retryOf: ${l}`,N=Date.now();if(Dt(this).debug(`[${T}] sending request`,ko({retryOfRequestLogID:l,method:g.method,url:S,options:g,headers:h.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new Ic;const _=new AbortController,A=await this.fetchWithTimeout(S,h,C,_).catch(Nc),R=Date.now();if(A instanceof globalThis.Error){const q=`retrying, ${i} attempts remaining`;if(!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Ic;const O=bc(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(i)return Dt(this).info(`[${T}] connection ${O?"timed out":"failed"} - ${q}`),Dt(this).debug(`[${T}] connection ${O?"timed out":"failed"} (${q})`,ko({retryOfRequestLogID:l,url:S,durationMs:R-N,message:A.message})),this.retryRequest(g,i,l??T);throw Dt(this).info(`[${T}] connection ${O?"timed out":"failed"} - error; no more retries left`),Dt(this).debug(`[${T}] connection ${O?"timed out":"failed"} (error; no more retries left)`,ko({retryOfRequestLogID:l,url:S,durationMs:R-N,message:A.message})),O?new Qy:new Ds({cause:A})}const B=`[${T}${b}] ${h.method} ${S} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${R-N}ms`;if(!A.ok){const q=await this.shouldRetry(A);if(i&&q){const J=`retrying, ${i} attempts remaining`;return await Jb(A.body),Dt(this).info(`${B} - ${J}`),Dt(this).debug(`[${T}] response error (${J})`,ko({retryOfRequestLogID:l,url:A.url,status:A.status,headers:A.headers,durationMs:R-N})),this.retryRequest(g,i,l??T,A.headers)}const O=q?"error; no more retries left":"error; not retryable";Dt(this).info(`${B} - ${O}`);const H=await A.text().catch(J=>Nc(J).message),z=Bb(H),Z=z?void 0:H;throw Dt(this).debug(`[${T}] response error (${O})`,ko({retryOfRequestLogID:l,url:A.url,status:A.status,headers:A.headers,message:Z,durationMs:Date.now()-N})),this.makeStatusError(A.status,z,Z,A.headers)}return Dt(this).info(B),Dt(this).debug(`[${T}] response start`,ko({retryOfRequestLogID:l,url:A.url,status:A.status,headers:A.headers,durationMs:R-N})),{response:A,options:g,controller:_,requestLogID:T,retryOfRequestLogID:l,startTime:N}}async fetchWithTimeout(e,i,l,s){const c=i||{},{signal:f,method:g}=c,y=Ts(c,["signal","method"]);f&&f.addEventListener("abort",()=>s.abort());const h=setTimeout(()=>s.abort(),l),S=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,C=Object.assign(Object.assign(Object.assign({signal:s.signal},S?{duplex:"half"}:{}),{method:"GET"}),y);g&&(C.method=g.toUpperCase());try{return await this.fetch.call(void 0,e,C)}finally{clearTimeout(h)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,l,s){var c;let f;const g=s==null?void 0:s.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(f=h)}const y=s==null?void 0:s.get("retry-after");if(y&&!f){const h=parseFloat(y);Number.isNaN(h)?f=Date.parse(y)-Date.now():f=h*1e3}if(!(f&&0<=f&&f<60*1e3)){const h=(c=e.maxRetries)!==null&&c!==void 0?c:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(i,h)}return await Hb(f),this.makeRequest(e,i-1,l)}calculateDefaultRetryTimeoutMillis(e,i){const c=i-e,f=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return f*g*1e3}async buildRequest(e,{retryCount:i=0}={}){var l,s,c;const f=Object.assign({},e),{method:g,path:y,query:h,defaultBaseURL:S}=f,C=this.buildURL(y,h,S);"timeout"in f&&Gb("timeout",f.timeout),f.timeout=(l=f.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:T,body:b}=this.buildBody({options:f}),N=await this.buildHeaders({options:e,method:g,bodyHeaders:T,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:N},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(c=f.fetchOptions)!==null&&c!==void 0?c:{}),url:C,timeout:f.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:l,retryCount:s}){let c={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let g=qa([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Ob()),this._options.defaultHeaders,l,e.headers,f]);return this.validateHeaders(g),g.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const l=qa([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&l.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Fb(e)}:this.encoder({body:e,headers:l})}}Ls.DEFAULT_TIMEOUT=6e4;class St extends Ls{constructor(){super(...arguments),this.interactions=new f0(this)}}p0=St;St.GeminiNextGenAPIClient=p0;St.GeminiNextGenAPIClientError=fn;St.APIError=Lt;St.APIConnectionError=Ds;St.APIConnectionTimeoutError=Qy;St.APIUserAbortError=Ic;St.NotFoundError=e0;St.ConflictError=t0;St.RateLimitError=o0;St.BadRequestError=Zy;St.AuthenticationError=jy;St.InternalServerError=i0;St.PermissionDeniedError=Wy;St.UnprocessableEntityError=n0;St.toFile=Zb;St.Interactions=f0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cN(n,e){const i={},l=u(n,["name"]);return l!=null&&d(i,["_url","name"],l),i}function dN(n,e){const i={},l=u(n,["name"]);return l!=null&&d(i,["_url","name"],l),i}function fN(n,e){const i={},l=u(n,["sdkHttpResponse"]);return l!=null&&d(i,["sdkHttpResponse"],l),i}function mN(n,e){const i={},l=u(n,["sdkHttpResponse"]);return l!=null&&d(i,["sdkHttpResponse"],l),i}function pN(n,e,i){const l={};if(u(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=u(n,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&d(e,["displayName"],s),u(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(n,["epochCount"]);e!==void 0&&c!=null&&d(e,["tuningTask","hyperparameters","epochCount"],c);const f=u(n,["learningRateMultiplier"]);if(f!=null&&d(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),u(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(n,["batchSize"]);e!==void 0&&g!=null&&d(e,["tuningTask","hyperparameters","batchSize"],g);const y=u(n,["learningRate"]);if(e!==void 0&&y!=null&&d(e,["tuningTask","hyperparameters","learningRate"],y),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function hN(n,e,i){const l={};let s=u(i,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const b=u(n,["validationDataset"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec"],Kg(b))}else if(s==="PREFERENCE_TUNING"){const b=u(n,["validationDataset"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec"],Kg(b))}const c=u(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&d(e,["tunedModelDisplayName"],c);const f=u(n,["description"]);e!==void 0&&f!=null&&d(e,["description"],f);let g=u(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const b=u(n,["epochCount"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(g==="PREFERENCE_TUNING"){const b=u(n,["epochCount"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let y=u(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const b=u(n,["learningRateMultiplier"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(y==="PREFERENCE_TUNING"){const b=u(n,["learningRateMultiplier"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let h=u(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=u(n,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(h==="PREFERENCE_TUNING"){const b=u(n,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let S=u(i,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const b=u(n,["adapterSize"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(S==="PREFERENCE_TUNING"){const b=u(n,["adapterSize"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(u(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const C=u(n,["labels"]);e!==void 0&&C!=null&&d(e,["labels"],C);const T=u(n,["beta"]);return e!==void 0&&T!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),l}function gN(n,e){const i={},l=u(n,["baseModel"]);l!=null&&d(i,["baseModel"],l);const s=u(n,["preTunedModel"]);s!=null&&d(i,["preTunedModel"],s);const c=u(n,["trainingDataset"]);c!=null&&NN(c);const f=u(n,["config"]);return f!=null&&pN(f,i),i}function yN(n,e){const i={},l=u(n,["baseModel"]);l!=null&&d(i,["baseModel"],l);const s=u(n,["preTunedModel"]);s!=null&&d(i,["preTunedModel"],s);const c=u(n,["trainingDataset"]);c!=null&&IN(c,i,e);const f=u(n,["config"]);return f!=null&&hN(f,i,e),i}function vN(n,e){const i={},l=u(n,["name"]);return l!=null&&d(i,["_url","name"],l),i}function SN(n,e){const i={},l=u(n,["name"]);return l!=null&&d(i,["_url","name"],l),i}function TN(n,e,i){const l={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const c=u(n,["pageToken"]);e!==void 0&&c!=null&&d(e,["_query","pageToken"],c);const f=u(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),l}function CN(n,e,i){const l={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const c=u(n,["pageToken"]);e!==void 0&&c!=null&&d(e,["_query","pageToken"],c);const f=u(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),l}function EN(n,e){const i={},l=u(n,["config"]);return l!=null&&TN(l,i),i}function xN(n,e){const i={},l=u(n,["config"]);return l!=null&&CN(l,i),i}function _N(n,e){const i={},l=u(n,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const s=u(n,["nextPageToken"]);s!=null&&d(i,["nextPageToken"],s);const c=u(n,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(g=>h0(g))),d(i,["tuningJobs"],f)}return i}function AN(n,e){const i={},l=u(n,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const s=u(n,["nextPageToken"]);s!=null&&d(i,["nextPageToken"],s);const c=u(n,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(g=>Rc(g))),d(i,["tuningJobs"],f)}return i}function bN(n,e){const i={},l=u(n,["name"]);l!=null&&d(i,["model"],l);const s=u(n,["name"]);return s!=null&&d(i,["endpoint"],s),i}function NN(n,e){const i={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=u(n,["examples"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>c)),d(i,["examples","examples"],s)}return i}function IN(n,e,i){const l={};let s=u(i,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const f=u(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(s==="PREFERENCE_TUNING"){const f=u(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let c=u(i,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=u(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(c==="PREFERENCE_TUNING"){const f=u(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(u(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function h0(n,e){const i={},l=u(n,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const s=u(n,["name"]);s!=null&&d(i,["name"],s);const c=u(n,["state"]);c!=null&&d(i,["state"],Ry(c));const f=u(n,["createTime"]);f!=null&&d(i,["createTime"],f);const g=u(n,["tuningTask","startTime"]);g!=null&&d(i,["startTime"],g);const y=u(n,["tuningTask","completeTime"]);y!=null&&d(i,["endTime"],y);const h=u(n,["updateTime"]);h!=null&&d(i,["updateTime"],h);const S=u(n,["description"]);S!=null&&d(i,["description"],S);const C=u(n,["baseModel"]);C!=null&&d(i,["baseModel"],C);const T=u(n,["_self"]);return T!=null&&d(i,["tunedModel"],bN(T)),i}function Rc(n,e){const i={},l=u(n,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const s=u(n,["name"]);s!=null&&d(i,["name"],s);const c=u(n,["state"]);c!=null&&d(i,["state"],Ry(c));const f=u(n,["createTime"]);f!=null&&d(i,["createTime"],f);const g=u(n,["startTime"]);g!=null&&d(i,["startTime"],g);const y=u(n,["endTime"]);y!=null&&d(i,["endTime"],y);const h=u(n,["updateTime"]);h!=null&&d(i,["updateTime"],h);const S=u(n,["error"]);S!=null&&d(i,["error"],S);const C=u(n,["description"]);C!=null&&d(i,["description"],C);const T=u(n,["baseModel"]);T!=null&&d(i,["baseModel"],T);const b=u(n,["tunedModel"]);b!=null&&d(i,["tunedModel"],b);const N=u(n,["preTunedModel"]);N!=null&&d(i,["preTunedModel"],N);const _=u(n,["supervisedTuningSpec"]);_!=null&&d(i,["supervisedTuningSpec"],_);const A=u(n,["preferenceOptimizationSpec"]);A!=null&&d(i,["preferenceOptimizationSpec"],A);const R=u(n,["tuningDataStats"]);R!=null&&d(i,["tuningDataStats"],R);const B=u(n,["encryptionSpec"]);B!=null&&d(i,["encryptionSpec"],B);const q=u(n,["partnerModelTuningSpec"]);q!=null&&d(i,["partnerModelTuningSpec"],q);const O=u(n,["customBaseModel"]);O!=null&&d(i,["customBaseModel"],O);const H=u(n,["experiment"]);H!=null&&d(i,["experiment"],H);const z=u(n,["labels"]);z!=null&&d(i,["labels"],z);const Z=u(n,["outputUri"]);Z!=null&&d(i,["outputUri"],Z);const oe=u(n,["pipelineJob"]);oe!=null&&d(i,["pipelineJob"],oe);const J=u(n,["serviceAccount"]);J!=null&&d(i,["serviceAccount"],J);const ie=u(n,["tunedModelDisplayName"]);ie!=null&&d(i,["tunedModelDisplayName"],ie);const he=u(n,["veoTuningSpec"]);return he!=null&&d(i,["veoTuningSpec"],he),i}function MN(n,e){const i={},l=u(n,["sdkHttpResponse"]);l!=null&&d(i,["sdkHttpResponse"],l);const s=u(n,["name"]);s!=null&&d(i,["name"],s);const c=u(n,["metadata"]);c!=null&&d(i,["metadata"],c);const f=u(n,["done"]);f!=null&&d(i,["done"],f);const g=u(n,["error"]);return g!=null&&d(i,["error"],g),i}function Kg(n,e){const i={},l=u(n,["gcsUri"]);l!=null&&d(i,["validationDatasetUri"],l);const s=u(n,["vertexDatasetResource"]);return s!=null&&d(i,["validationDatasetUri"],s),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wN extends Yn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Qo(Fn.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var l;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const s={tunedModelName:i.baseModel};!((l=i.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(s.checkpointId=i.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},i),{preTunedModel:s});return c.baseModel=void 0,await this.tuneInternal(c)}else{const s=Object.assign({},i);return await this.tuneInternal(s)}else{const s=Object.assign({},i),c=await this.tuneMldevInternal(s);let f="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?f=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(f=c.name.split("/operations/")[0]),{name:f,state:vc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=SN(e);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>Rc(S))}else{const h=vN(e);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>h0(S))}}async listInternal(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=xN(e);return g=ne("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=AN(S),T=new Tg;return Object.assign(T,C),T})}else{const h=EN(e);return g=ne("tunedModels",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=_N(S),T=new Tg;return Object.assign(T,C),T})}}async cancel(e){var i,l,s,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const h=dN(e);return g=ne("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=mN(S),T=new Cg;return Object.assign(T,C),T})}else{const h=cN(e);return g=ne("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json().then(C=>{const T=C;return T.sdkHttpResponse={headers:S.headers},T})),f.then(S=>{const C=fN(S),T=new Cg;return Object.assign(T,C),T})}}async tuneInternal(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI()){const g=yN(e,e);return c=ne("tuningJobs",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>Rc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,l;let s,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gN(e);return c=ne("tunedModels",g._url),f=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const S=h;return S.sdkHttpResponse={headers:y.headers},S})),s.then(y=>MN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RN{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const DN=1024*1024*8,UN=3,LN=1e3,PN=2,Es="x-goog-upload-status";async function GN(n,e,i){var l;const s=await g0(n,e,i),c=await(s==null?void 0:s.json());if(((l=s==null?void 0:s.headers)===null||l===void 0?void 0:l[Es])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function BN(n,e,i){var l;const s=await g0(n,e,i),c=await(s==null?void 0:s.json());if(((l=s==null?void 0:s.headers)===null||l===void 0?void 0:l[Es])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=Ay(c),g=new Fc;return Object.assign(g,f),g}async function g0(n,e,i){var l,s;let c=0,f=0,g=new Tc(new Response),y="upload";for(c=n.size;f<c;){const h=Math.min(DN,c-f),S=n.slice(f,f+h);f+h>=c&&(y+=", finalize");let C=0,T=LN;for(;C<UN&&(g=await i.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(f),"Content-Length":String(h)}}}),!(!((l=g==null?void 0:g.headers)===null||l===void 0)&&l[Es]));)C++,await VN(T),T=T*PN;if(f+=h,((s=g==null?void 0:g.headers)===null||s===void 0?void 0:s[Es])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function HN(n){return{size:n.size,type:n.type}}function VN(n){return new Promise(e=>setTimeout(e,n))}class zN{async upload(e,i,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GN(e,i,l)}async uploadToFileSearchStore(e,i,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await BN(e,i,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await HN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qN{create(e,i,l){return new ON(e,i,l)}}class ON{constructor(e,i,l){this.url=e,this.headers=i,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xg="x-goog-api-key";class kN{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(Xg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Xg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FN="gl-node/";class JN{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new St({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const l=HT(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new kN(this.apiKey);this.apiClient=new HA({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:FN+"web",uploader:new zN,downloader:new RN}),this.models=new ob(this.apiClient),this.live=new ZA(this.apiClient,s,new qN),this.batches=new mE(this.apiClient),this.chats=new KE(this.models,this.apiClient),this.caches=new JE(this.apiClient),this.files=new ix(this.apiClient),this.operations=new ib(this.apiClient),this.authTokens=new Tb(this.apiClient),this.tunings=new wN(this.apiClient),this.fileSearchStores=new Ib(this.apiClient)}}const _n=({value:n,onChange:e,label:i,className:l="",placeholder:s=""})=>v.jsxs("div",{className:"relative group w-full",children:[i&&v.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold absolute -top-3 left-1 bg-[#1a1d29] px-1 z-10",children:i}),v.jsx("input",{type:"text",value:n,onChange:c=>e(c.target.value),placeholder:s,className:`w-full bg-gray-900/50 border border-gray-700 rounded px-2 py-1.5 text-sm text-white focus:border-amber-500 focus:ring-1 focus:ring-amber-500 outline-none transition-colors ${l}`}),v.jsx(gs,{className:"w-3 h-3 text-gray-600 absolute right-2 top-2.5 opacity-0 group-hover:opacity-100 pointer-events-none"})]}),YN=({isOpen:n,onClose:e,cuerdas:i,gallos:l,torneo:s,onImportFullData:c,onAddSingleGallo:f,onSaveGallo:g,onAddGalloToPc:y})=>{const[h,S]=Q.useState(!1),[C,T]=Q.useState(null),[b,N]=Q.useState(""),_=Q.useRef(null),[A,R]=Q.useState(""),[B,q]=Q.useState(!1);Q.useEffect(()=>{const j=localStorage.getItem("gallerapro_gemini_key");j&&R(j)},[]);const O=()=>{localStorage.setItem("gallerapro_gemini_key",A),q(!1)},H=`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(window.location.href)}`,z=async j=>{const W=A||void 0||"AQ.Ab8RN6LMYxXIKIOFj3zGPFgjDLjJamlkifsOUdUR_JIvZZ4pZwes",me=new JN({apiKey:W});S(!0),N("Analizando documento con IA...");try{const te=(await me.models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{text:`
                Acta como un analista de datos experto en torneos de gallos. Tu tarea es extraer informacin estructurada de una imagen (manuscrita o impresa) siguiendo ESTRICTAMENTE los siguientes pasos lgicos.

                PASO 1: ANLISIS DE TIPO DE DOCUMENTO
                - Observa la parte superior de la imagen.
                - Hay campos explcitos etiquetados como "Cuerda", "Dueo/Propietario", "Ciudad"?
                - SI LOS HAY: Establece 'isNewCuerda' = true. Ve al PASO 2.
                - SI NO LOS HAY (es solo una lista de gallos): Establece 'isNewCuerda' = false. Salta al PASO 4.

                PASO 2: EXTRACCIN DE CABECERA (Solo si isNewCuerda = true)
                - Busca el nombre de la Cuerda.
                - Busca el Dueo. IMPORTANTE: Extrae SOLO el nombre de la persona. Si al lado del nombre hay una ciudad, un telfono o una direccin, NO LOS INCLUYAS en el campo 'owner'. Ponlos en sus campos respectivos o ignralos.
                - Busca la Ciudad. Si no est explcita, bscala al lado del nombre del dueo.
                - Busca la 'Placa de Criadero' etiquetada como 'Pc', 'Placa', o un cdigo alfanumrico destacado (ej: 'LMS-34').
                - Busca texto como "X gallos por frente" para llenar 'gallosPerFront'.

                PASO 3: DETECCIN DE FRENTES
                - Busca palabras clave como "Frente 1", "Frente 2", "F1", "F2" encima de grupos de filas.
                - Si no hay distincin visual, asume que todos son del "Frente 1".

                PASO 4: EXTRACCIN DE FILAS (GALLOS)
                - Extrae cada fila de la tabla o lista.
                - Columna 'Anillo' (A): Es el ID vital. No confundir con la Placa.
                - Columna 'Placa Marcaje' (Pm): Nmero de placa metlica.
                - Columna 'Placa Criadero' (Pc): Si el documento es una "Nota Rpida" (Paso 1 fue NO), este dato es OBLIGATORIO por cada gallo para saber a qu cuerda pertenece.
                - Peso: Formatos posibles "3.14", "3-14", "3,14", "3 libras 14 onzas". Convertir a formato texto "Lb.Oz".
                - Edad: En meses.
                - Fenotipo/Color: "Giro", "Jabao", etc. Si dice "pava" o "liso", eso va en 'fenotipo'.

                REGLAS DE LIMPIEZA DE DATOS (CRTICO):
                1. Campo 'owner': NO debe contener la ciudad. Ejemplo INCORRECTO: "Juan Perez Bogot". CORRECTO: Owner="Juan Perez", City="Bogot".
                2. Campo 'breederPlateId' (Pc): Elimina espacios extra. Ejemplo: " Lms 123 " -> "Lms123".

                Salida JSON estricta basada en el esquema proporcionado.
            `},{inlineData:{mimeType:"image/jpeg",data:j.split(",")[1]||""}}]},config:{responseMimeType:"application/json",responseSchema:{type:ke.OBJECT,properties:{isNewCuerda:{type:ke.BOOLEAN},gallosPerFront:{type:ke.INTEGER,nullable:!0},cuerdaInfo:{type:ke.OBJECT,nullable:!0,properties:{name:{type:ke.STRING},owner:{type:ke.STRING},city:{type:ke.STRING},frontCount:{type:ke.INTEGER},breederPlateId:{type:ke.STRING}}},fronts:{type:ke.ARRAY,items:{type:ke.OBJECT,properties:{frontNumber:{type:ke.INTEGER},gallos:{type:ke.ARRAY,items:{type:ke.OBJECT,properties:{ringId:{type:ke.STRING},color:{type:ke.STRING},weightLbsOz:{type:ke.STRING},ageMonths:{type:ke.INTEGER},markingId:{type:ke.STRING},breederPlateId:{type:ke.STRING},fenotipo:{type:ke.STRING},marca:{type:ke.INTEGER}},required:["ringId","color","weightLbsOz","ageMonths","fenotipo","marca","breederPlateId"]}}},required:["frontNumber","gallos"]}}},required:["isNewCuerda","fronts"]}}})).text;if(!te)throw new Error("No response from AI");const ye=JSON.parse(te);T(ye),N("")}catch(U){console.error("AI Import Error:",U),N("Error al procesar la imagen.")}finally{S(!1)}},Z=(j,W)=>{!C||!C.cuerdaInfo||T({...C,cuerdaInfo:{...C.cuerdaInfo,[j]:W}})},oe=(j,W,me,U)=>{if(!C)return;const k=[...C.fronts],te=[...k[j].gallos];te[W]={...te[W],[me]:U},k[j]={...k[j],gallos:te},T({...C,fronts:k})},J=j=>{var U;const W=(U=j.target.files)==null?void 0:U[0];if(!W)return;const me=new FileReader;me.onload=k=>{var te;return((te=k.target)==null?void 0:te.result)&&z(k.target.result)},me.readAsDataURL(W),j.target.value=""},ie=()=>{if(!C)return;const j=C.gallosPerFront;if(C.isNewCuerda&&C.cuerdaInfo){const{cuerdaInfo:W,fronts:me}=C,U=me.map(te=>({frontNumber:te.frontNumber,gallos:te.gallos.map(ye=>{const Ee=(ye.weightLbsOz||"0.0").split("."),M=parseInt(Ee[0])||0,$=parseInt(Ee[1])||0;return{ringId:ye.ringId,color:ye.color,weight:M*16+$,ageMonths:ye.ageMonths,markingId:ye.markingId,breederPlateId:ye.breederPlateId||W.breederPlateId,tipoGallo:ye.fenotipo.toLowerCase().includes("pava")?Jo.PAVA:Jo.LISO,marca:ye.marca,cuerdaId:""}})})),k=j||W.frontCount||me.length;c({name:W.name,owner:W.owner,city:W.city,frontCount:k,breederPlateId:W.breederPlateId},U)}else{let W=0,me=new Set;if(C.fronts.forEach(U=>{U.gallos.forEach(k=>{const te=k.breederPlateId?k.breederPlateId.trim().toLowerCase():"";if(!te)return;if(i.filter(Ee=>Ee.breederPlateId&&Ee.breederPlateId.trim().toLowerCase()===te).length>0){const Ee=(k.weightLbsOz||"0.0").split("."),M=parseInt(Ee[0])||0,$=parseInt(Ee[1])||0,ee={ringId:k.ringId,color:k.color,weight:M*16+$,ageMonths:k.ageMonths,markingId:k.markingId,breederPlateId:k.breederPlateId,tipoGallo:k.fenotipo.toLowerCase().includes("pava")?Jo.PAVA:Jo.LISO,marca:k.marca,cuerdaId:""};y(ee,k.breederPlateId,U.frontNumber,j),W++}else me.add(k.breederPlateId)})}),W===0&&me.size>0){const U=Array.from(me).join(", ");alert(`No se encontraron cuerdas registradas con las placas (Pc): ${U}. 

Primero crea la cuerda manualmente con su Pc correspondiente.`)}}e(),T(null)},he=(C==null?void 0:C.fronts.reduce((j,W)=>j+W.gallos.length,0))||0,Y=()=>v.jsx("div",{className:"flex items-center space-x-2",children:B?v.jsxs("div",{className:"flex items-center bg-gray-900 rounded-lg p-1 border border-amber-500/50 animate-fade-in-down",children:[v.jsx("input",{type:"password",value:A,onChange:j=>R(j.target.value),placeholder:"Pegar API Key de Gemini...",className:"bg-transparent border-none text-xs text-white px-2 py-1 outline-none w-48 placeholder-gray-500",autoFocus:!0}),v.jsx("button",{onClick:O,className:"bg-amber-500 hover:bg-amber-600 text-black p-1 rounded transition-colors",children:v.jsx(xy,{className:"w-3 h-3"})})]}):v.jsx("button",{onClick:()=>q(!0),className:`p-2 rounded-lg transition-colors ${A?"text-green-400 hover:text-green-300 bg-green-900/20":"text-gray-400 hover:text-white bg-gray-700/30"}`,children:v.jsx(NT,{className:"w-5 h-5"})})});return v.jsx(qc,{isOpen:n,onClose:e,title:"Importacin Inteligente (IA)",size:"wide",headerContent:Y(),children:v.jsx("div",{className:"space-y-4",children:!C&&!h?v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[v.jsxs("div",{className:"text-center space-y-4 border-r border-gray-700 pr-4",children:[v.jsx("h4",{className:"text-amber-400 font-bold uppercase text-sm tracking-wider",children:"Escanear desde Mvil"}),v.jsx("div",{className:"bg-white p-3 inline-block rounded-xl shadow-2xl",children:v.jsx("img",{src:H,alt:"QR Code",className:"w-32 h-32"})}),v.jsx("p",{className:"text-xs text-gray-400 max-w-[200px] mx-auto",children:"Escanea para abrir la app y capturar la imagen directamente con tu cmara."})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{onClick:()=>{var j;return(j=_.current)==null?void 0:j.click()},className:"group border-2 border-dashed border-gray-600 rounded-2xl p-12 hover:border-amber-500 hover:bg-amber-500/5 transition-all cursor-pointer text-center bg-gray-700/20",children:[v.jsx(Is,{className:"w-16 h-16 text-gray-500 group-hover:text-amber-500 mx-auto mb-4 transition-colors"}),v.jsx("p",{className:"text-base font-bold text-gray-200",children:"Subir Formulario Escaneado"}),v.jsx("p",{className:"text-xs text-gray-500 mt-3 leading-relaxed",children:"Detecta automticamente Cuerdas, Dueos y Gallos."})]}),v.jsx("input",{type:"file",ref:_,onChange:J,accept:"image/*",className:"hidden"})]})]}):v.jsxs("div",{className:"space-y-4",children:[b&&v.jsx("div",{className:"p-2 rounded bg-red-900/40 text-red-300 text-center text-sm font-bold",children:b}),C&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between bg-gray-800 rounded-lg p-2 px-4 border border-gray-700",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[C.isNewCuerda?v.jsx(Ey,{className:"w-4 h-4 text-amber-400"}):v.jsx(pc,{className:"w-4 h-4 text-blue-400"}),v.jsx("span",{className:"text-sm font-bold text-white uppercase",children:C.isNewCuerda?"Registro Completo":"Nota Rpida"})]}),v.jsxs("div",{className:"flex items-center space-x-4 text-xs font-mono text-gray-400",children:[v.jsxs("span",{children:[he," gallos"]}),C.gallosPerFront&&v.jsxs("span",{children:[C.gallosPerFront," frentes detectados"]})]})]}),C.isNewCuerda&&C.cuerdaInfo&&v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 bg-[#1a1d29] p-4 pt-5 rounded-xl border border-gray-700/50 shadow-md",children:[v.jsx(_n,{label:"Nombre Cuerda",value:C.cuerdaInfo.name,onChange:j=>Z("name",j)}),v.jsx(_n,{label:"Dueo",value:C.cuerdaInfo.owner,onChange:j=>Z("owner",j)}),v.jsx(_n,{label:"Ciudad",value:C.cuerdaInfo.city,onChange:j=>Z("city",j)}),v.jsx(_n,{label:"Placa Pc",value:C.cuerdaInfo.breederPlateId,onChange:j=>Z("breederPlateId",j),className:"font-mono text-amber-400"})]}),v.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar pr-1",children:v.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:C.fronts.map((j,W)=>v.jsxs("div",{className:"bg-gray-800/40 p-3 rounded-xl border border-gray-700/50",children:[v.jsxs("div",{className:"text-[11px] font-bold text-amber-500 uppercase flex items-center gap-2 mb-3",children:[v.jsx("div",{className:"h-[1px] flex-grow bg-gray-700"}),"Frente ",j.frontNumber,v.jsx("div",{className:"h-[1px] flex-grow bg-gray-700"})]}),v.jsx("div",{className:"grid grid-cols-1 gap-2",children:j.gallos.map((me,U)=>v.jsxs("div",{className:"bg-gray-900/60 p-2 rounded-lg border border-gray-700 hover:border-amber-500/30 transition-colors shadow-sm grid grid-cols-12 gap-2 items-center",children:[v.jsxs("div",{className:"col-span-3",children:[v.jsx(_n,{placeholder:"Anillo",value:me.ringId,onChange:k=>oe(W,U,"ringId",k),className:"text-center font-bold"}),v.jsx("div",{className:"mt-1",children:v.jsx(_n,{placeholder:"Pc",value:me.breederPlateId,onChange:k=>oe(W,U,"breederPlateId",k),className:"text-[10px] text-center h-6"})})]}),v.jsxs("div",{className:"col-span-5 space-y-1",children:[v.jsx(_n,{placeholder:"Color",value:me.color,onChange:k=>oe(W,U,"color",k)}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx(_n,{placeholder:"Meses",value:me.ageMonths,onChange:k=>oe(W,U,"ageMonths",k),className:"text-center h-7 text-xs"}),v.jsx(_n,{placeholder:"Fenotipo",value:me.fenotipo,onChange:k=>oe(W,U,"fenotipo",k),className:"text-center h-7 text-xs"})]})]}),v.jsxs("div",{className:"col-span-4 text-right",children:[v.jsx(_n,{placeholder:"Peso",value:me.weightLbsOz,onChange:k=>oe(W,U,"weightLbsOz",k),className:"text-right font-mono text-amber-400 font-bold"}),v.jsx("span",{className:"text-[9px] text-gray-500 block pr-1",children:"Lb.Oz"})]})]},U))})]},W))})})]}),h&&v.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[v.jsx("div",{className:"w-12 h-12 border-4 border-amber-500/20 border-t-amber-500 rounded-full animate-spin"}),v.jsx("div",{className:"text-amber-400 font-bold animate-pulse uppercase tracking-widest text-sm",children:"Procesando imagen..."})]}),v.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-gray-700",children:[v.jsx("button",{onClick:()=>{T(null),e()},className:"bg-gray-700 hover:bg-gray-600 text-gray-300 font-bold py-2 px-6 rounded-lg transition-colors text-sm",children:"Cancelar"}),v.jsx("button",{onClick:ie,disabled:h||!C,className:"bg-amber-500 hover:bg-amber-600 text-black font-bold py-2 px-10 rounded-lg disabled:opacity-30 shadow-lg transition-all transform active:scale-95 text-sm",children:"Confirmar Importacin"})]})]})})})},Dc=16,y0=(n,e)=>Math.round(n*Dc+e),$N=(n,e=!1)=>{const i=Math.round(n),l=Math.floor(i/Dc),s=i%Dc,c=e?" Lb.Oz":"";return`${l}.${String(s).padStart(2,"0")}${c}`},KN=y0(2,10),XN=y0(5,0),Qg=({icon:n,title:e,buttonText:i,onButtonClick:l,children:s,className:c,isReadOnly:f=!1,extraButton:g})=>v.jsxs("div",{className:`bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4 sm:p-6 ${c}`,children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"text-amber-400 w-6 h-6",children:n}),v.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:e})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[g,i&&l&&v.jsxs("button",{onClick:l,disabled:f,className:"flex items-center space-x-2 bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold py-2 px-3 sm:px-4 rounded-lg transition-colors text-sm sm:text-base disabled:bg-gray-600 disabled:cursor-not-allowed",children:[v.jsx(Is,{className:"w-5 h-5"}),v.jsx("span",{children:i})]})]})]}),v.jsx("div",{children:s})]}),QN=({isOpen:n,onClose:e,onSave:i,cuerda:l,cuerdas:s})=>{const[c,f]=Q.useState(""),[g,y]=Q.useState(""),[h,S]=Q.useState(""),[C,T]=Q.useState(1),[b,N]=Q.useState(""),_=!l,[A,R]=Q.useState(!1),B=Q.useRef(null),q=Q.useMemo(()=>h?hh.filter(H=>H.toLowerCase().includes(h.toLowerCase())):hh,[h]);Q.useEffect(()=>{if(n){if(l){const H=l.name.replace(/\s\(F\d+\)$/,"");f(H),y(l.owner||""),S(l.city==="N/A"?"":l.city||""),N(l.breederPlateId||"");const z=s.filter(Z=>Z.name.startsWith(H+" (F"));T(z.length||1)}else f(""),y(""),S(""),T(1),N("");R(!1)}},[n,l,s]),Q.useEffect(()=>{const H=z=>{B.current&&!B.current.contains(z.target)&&R(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]);const O=H=>{H.preventDefault();const z=h.trim()===""?"N/A":h;i({name:c,owner:g,city:z,frontCount:C,breederPlateId:b.trim()||"N/A"},(l==null?void 0:l.id)||null),e()};return v.jsx(qc,{isOpen:n,onClose:e,title:_?"Aadir Cuerda":"Editar Cuerda",children:v.jsxs("form",{onSubmit:O,className:"space-y-6",children:[v.jsx(bt,{label:"Nombre de la Cuerda",value:c,onChange:H=>f(H.target.value),required:!0}),v.jsx(bt,{label:"Dueo",value:g,onChange:H=>y(H.target.value),required:!0}),v.jsx(bt,{label:"Placa del Criadero (Pc)",value:b,onChange:H=>N(H.target.value),placeholder:"Ej: Criadero San Jos 001"}),v.jsxs("div",{ref:B,className:"relative",children:[v.jsx("label",{htmlFor:"ciudad-input",className:"block text-sm font-medium text-gray-400 mb-1",children:"Ciudad"}),v.jsx("input",{id:"ciudad-input",type:"text",value:h,onChange:H=>S(H.target.value),onFocus:()=>R(!0),placeholder:"Buscar o escribir ciudad...",className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none transition",autoComplete:"off"}),A&&v.jsx("div",{className:"absolute top-full mt-1 w-full bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-20",children:v.jsx("ul",{className:"max-h-48 overflow-y-auto custom-scrollbar",children:q.length>0?q.map((H,z)=>v.jsx("li",{onClick:()=>{S(H),R(!1)},className:"p-2 hover:bg-gray-700 cursor-pointer text-sm text-white",children:H},`${H}-${z}`)):v.jsx("li",{className:"p-2 text-gray-500 text-sm",children:"No se encontraron ciudades."})})})]}),v.jsx(bt,{type:"number",label:_?"Cuantos frentes deseas inscribir?":"Nmero total de Frentes",value:C,onChange:H=>T(Math.max(1,parseInt(H.target.value)||1)),required:!0,min:"1"}),v.jsxs("div",{className:"flex justify-end pt-4 space-x-2 border-t border-gray-700",children:[v.jsx("button",{type:"button",onClick:e,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg",children:"Cancelar"}),v.jsx("button",{type:"submit",className:"bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold py-2 px-4 rounded-lg",children:"Guardar"})]})]})})},ZN=Ns.memo(({torneo:n,onUpdateTorneo:e,onOpenConflictModal:i,isReadOnly:l})=>{const s=(c,f)=>{let g={...n,[c]:f};if(c==="minWeight"){const y=Math.max(KN,f);g.minWeight=y>g.maxWeight?g.maxWeight:y}if(c==="maxWeight"){const y=Math.min(XN,f);g.maxWeight=y<g.minWeight?g.minWeight:y}e(g)};return v.jsxs("fieldset",{disabled:l,className:"space-y-4",children:[v.jsx("h4",{className:"text-md font-semibold text-amber-300",children:"Informacin del Torneo"}),v.jsx(bt,{label:"Nombre del Torneo",value:n.name,onChange:c=>s("name",c.target.value),disabled:l}),v.jsx(bt,{label:"Responsable del Torneo",value:n.tournamentManager||"",onChange:c=>s("tournamentManager",c.target.value),disabled:l}),v.jsx(bt,{type:"date",label:"Fecha",value:n.date,onChange:c=>s("date",c.target.value),disabled:l}),v.jsx(bt,{type:"number",label:"Nmero de Das del Torneo",value:n.tournamentDays,onChange:c=>s("tournamentDays",Math.max(1,parseInt(c.target.value,10)||1)),min:"1",disabled:l}),v.jsx("h4",{className:"text-md font-semibold text-amber-300 mt-4 border-t border-gray-700 pt-4",children:"Tolerancias"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsx(fs,{label:"Tolerancia de Peso ( Onza)",value:n.weightTolerance,onChange:c=>s("weightTolerance",c),disabled:l}),v.jsx(bt,{type:"number",label:"Tolerancia de Meses () (solo pollos)",value:n.ageToleranceMonths,onChange:c=>s("ageToleranceMonths",parseInt(c.target.value)||0),min:"0",disabled:l,inputClassName:"text-gray-200 font-bold"})]}),v.jsx("h4",{className:"text-md font-semibold text-amber-300 mt-4 border-t border-gray-700 pt-4",children:"Pesos Permitidos"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsx(fs,{label:"Mnimo (Lb.Oz)",value:n.minWeight,onChange:c=>s("minWeight",c),disabled:l}),v.jsx(fs,{label:"Mximo (Lb.Oz)",value:n.maxWeight,onChange:c=>s("maxWeight",c),disabled:l})]}),v.jsxs("div",{className:"border-t border-gray-700 pt-4 mt-4",children:[v.jsx("h4",{className:"text-md font-semibold text-amber-300",children:"Reglas del Torneo por Frentes"}),v.jsxs("div",{className:"space-y-4 mt-2",children:[v.jsx(bt,{type:"number",label:"Gallos por Frente",value:n.roostersPerTeam,onChange:c=>s("roostersPerTeam",parseInt(c.target.value)||0),min:"0",disabled:l,inputClassName:"text-gray-200 font-bold"}),v.jsx(bt,{type:"number",label:"Puntos por Victoria",value:n.pointsForWin,onChange:c=>s("pointsForWin",parseInt(c.target.value)||0),min:"0",disabled:l,inputClassName:"text-gray-200 font-bold"}),v.jsx(bt,{type:"number",label:"Puntos por Empate",value:n.pointsForDraw,onChange:c=>s("pointsForDraw",parseInt(c.target.value)||0),min:"0",disabled:l,inputClassName:"text-gray-200 font-bold"}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Excepciones de Cotejo"}),v.jsxs("button",{type:"button",onClick:i,disabled:l,className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg disabled:bg-gray-700 disabled:cursor-not-allowed",children:["Gestionar Excepciones (",n.exceptions.length,")"]})]})]})]})]})}),jN=({cuerdas:n,gallos:e,torneo:i,viewingDay:l,currentDay:s,dailyResults:c,onUpdateTorneo:f,onStartMatchmaking:g,onSaveCuerda:y,onImportCuerdaAndGallos:h,onDeleteCuerda:S,onSaveGallo:C,onAddSingleGallo:T,onDeleteGallo:b,isMatchmaking:N,onFullReset:_,onGoToResults:A,onGoToMatchmaking:R,isReadOnly:B,matchmakingResultsExist:q,onAddGalloToPc:O})=>{const[H,z]=Q.useState(!1),[Z,oe]=Q.useState(!1),[J,ie]=Q.useState(!1),[he,Y]=Q.useState(!1),[j,W]=Q.useState(null),[me,U]=Q.useState(null),k=()=>{W(null),z(!0)},te=(de,ot)=>{y(de,ot),z(!1)},ye=(de,ot)=>{C(de,ot)},Ee=de=>{U(de),oe(!0)},M=()=>{if(n.filter(de=>!de.baseCuerdaId).length===0){alert("Debe crear una cuerda primero antes de aadir gallos.");return}U(null),oe(!0)},$=Q.useCallback(()=>{oe(!1),U(null)},[]),ee=Q.useMemo(()=>e.length,[e]),le=Q.useMemo(()=>{const de=new Map;return e.forEach(ot=>{const pt=de.get(ot.cuerdaId)||[];pt.push(ot),de.set(ot.cuerdaId,pt)}),de},[e]),ge=c.some(de=>de.day===s),_e=c.length>=i.tournamentDays,Ge=Q.useMemo(()=>i.tournamentDays===1?"Configuracin para Torneo de un solo da":`Configuracin para el Da ${l} de ${i.tournamentDays}`,[i.tournamentDays,l]),ut=Q.useMemo(()=>i.tournamentDays===1?"Ajusta las reglas, aade cuerdas y registra los gallos para la contienda.":B?`Viendo la configuracin del Da ${l} (finalizado).`:"Ajusta las reglas, aade cuerdas y registra los gallos para la contienda de hoy.",[i.tournamentDays,l,B]);return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"text-center mb-4",children:[v.jsx("h2",{className:"text-2xl font-bold text-white",children:Ge}),v.jsx("p",{className:"text-gray-400 mt-1",children:ut})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v.jsx("div",{className:"lg:col-span-1 space-y-6",children:v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4 sm:p-6 relative",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"text-amber-400 w-6 h-6",children:v.jsx(AT,{})}),v.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Reglas Del Torneo"})]}),!B&&v.jsx("div",{className:"flex items-center space-x-2",children:v.jsx("button",{onClick:_,title:"Reiniciar aplicacin y borrar todos los datos",className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:v.jsx(bT,{className:"w-5 h-5"})})})]}),v.jsx("div",{children:v.jsx(ZN,{torneo:i,onUpdateTorneo:f,onOpenConflictModal:()=>ie(!0),isReadOnly:B})})]})}),v.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[v.jsx(Qg,{icon:v.jsx(Ey,{}),title:"Cuerdas",buttonText:"Aadir Cuerda",onButtonClick:k,isReadOnly:B,extraButton:!B&&v.jsxs("button",{onClick:()=>Y(!0),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-3 rounded-lg transition-colors text-xs sm:text-sm",children:[v.jsx(pc,{className:"w-4 h-4"}),v.jsx("span",{children:"Importar con IA"})]}),children:v.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:[n.length===0&&v.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay cuerdas registradas."}),[...n].sort((de,ot)=>de.name.localeCompare(ot.name,void 0,{numeric:!0})).map(de=>v.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 p-2 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-white",children:de.name}),v.jsxs("p",{className:"text-xs text-gray-400",children:[de.owner," - ",de.city||"N/A"]})]}),!B&&v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx("button",{onClick:()=>{W(de),z(!0)},className:"p-1 text-gray-400 hover:text-amber-400",children:v.jsx(gs,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>S(de.id),className:"p-1 text-gray-400 hover:text-red-500",children:v.jsx(hc,{className:"w-5 h-5"})})]})]},de.id))]})}),v.jsx(Qg,{icon:v.jsx(pc,{}),title:"Gallos",buttonText:"Aadir Gallo",onButtonClick:M,isReadOnly:B,children:v.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:[e.length===0&&v.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay gallos registrados."}),[...n].sort((de,ot)=>de.name.localeCompare(ot.name,void 0,{numeric:!0})).map(de=>{const ot=le.get(de.id);return!ot||ot.length===0?null:v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-amber-400 mb-1 sticky top-0 bg-gray-800/80 backdrop-blur-sm py-1",children:de.name}),v.jsx("div",{className:"space-y-2 pl-2 border-l-2 border-gray-700",children:ot.map(pt=>{const Kn=pt.weight<i.minWeight,jo=pt.weight>i.maxWeight;return v.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 p-2 rounded-lg",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"font-semibold text-white flex items-center",children:[pt.color,(Kn||jo)&&v.jsx(IT,{title:Kn?"Peso por debajo del mnimo":"Peso por encima del mximo",className:"w-4 h-4 ml-2 text-yellow-400"})]}),v.jsxs("p",{className:"text-xs font-mono text-gray-500",children:[$N(pt.weight,!0)," / ",pt.ageMonths,"m / ",pt.tipoEdad]})]}),!B&&v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx("button",{onClick:()=>Ee(pt),className:"p-1 text-gray-400 hover:text-amber-400",children:v.jsx(gs,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>b(pt.id),className:"p-1 text-gray-400 hover:text-red-500",children:v.jsx(hc,{className:"w-5 h-5"})})]})]},pt.id)})})]},de.id)})]})})]}),v.jsx("div",{className:"pt-6 text-center",children:B?v.jsxs("button",{onClick:R,disabled:!q,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-10 rounded-lg text-lg transition-all transform hover:scale-105 shadow-lg flex items-center justify-center mx-auto disabled:bg-gray-500 disabled:cursor-not-allowed",children:[v.jsx(mh,{className:"w-6 h-6 mr-2"}),"Ver Cartelera del Da ",l]}):_e?v.jsxs("button",{onClick:A,className:"bg-amber-600 hover:bg-amber-700 text-white font-bold py-4 px-10 rounded-lg text-lg transition-all transform hover:scale-105 shadow-lg flex items-center justify-center mx-auto",children:[v.jsx(zc,{className:"w-6 h-6 mr-2"}),"Ver Clasificacin Final"]}):v.jsx("div",{className:"flex flex-col items-center gap-4",children:v.jsx("button",{onClick:g,disabled:N||ee<2||ge,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-10 rounded-lg text-lg transition-all transform hover:scale-105 shadow-lg disabled:bg-gray-500 disabled:cursor-not-allowed flex items-center justify-center mx-auto",children:N?v.jsxs(v.Fragment,{children:[v.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Cotejando..."]}):v.jsxs(v.Fragment,{children:[v.jsx(mh,{className:"w-6 h-6 mr-2"}),ge?`Da ${s} Finalizado`:`Iniciar Baloteo (Da ${s})`]})})})})]})]}),v.jsx(QN,{isOpen:H,onClose:()=>z(!1),onSave:te,cuerda:j,cuerdas:n}),v.jsx(DT,{isOpen:Z,onClose:$,onSaveSingle:ye,onAddSingleGallo:T,gallo:me,cuerdas:n,gallos:e,torneo:i,onDeleteGallo:b,onEditGallo:Ee}),v.jsx(UT,{isOpen:J,onClose:()=>ie(!1),torneo:i,cuerdas:n,onUpdateTorneo:f,isReadOnly:B}),v.jsx(YN,{isOpen:he,onClose:()=>Y(!1),cuerdas:n,gallos:e,torneo:i,onImportFullData:h,onAddSingleGallo:T,onSaveGallo:C,onAddGalloToPc:O})]})},Zg=16,WN=n=>{if(isNaN(n)||n<0)return{lbs:0,oz:0};const e=Math.floor(n/Zg),i=n%Zg;return{lbs:e,oz:i}},lc=n=>{const{lbs:e,oz:i}=WN(n);return`${e}.${String(i).padStart(2,"0")} Lb.Oz`},eI=({results:n,torneo:e,cuerdas:i,onStartTournament:l,onBack:s,onCreateManualFight:c,isReadOnly:f})=>{const[g,y]=Q.useState([]),h=A=>{var R;return((R=i.find(B=>B.id===A))==null?void 0:R.name)||"Desconocido"},S=A=>{f||y(R=>R.includes(A)?R.filter(B=>B!==A):R.length<2?[...R,A]:R)},C=()=>{g.length===2&&(c(g[0],g[1]),y([]))},T=A=>v.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-6 flex items-center justify-between fight-card",children:[v.jsx("div",{className:"w-1/12 text-center text-gray-400 font-bold text-3xl",children:A.fightNumber}),v.jsxs("div",{className:"w-5/12 text-right pr-4 space-y-2",children:[v.jsx("p",{className:"font-bold text-4xl text-amber-400 truncate",children:h(A.roosterA.cuerdaId)}),v.jsx("p",{className:"font-semibold text-white text-2xl",children:A.roosterA.color}),v.jsxs("p",{className:"text-lg font-mono text-gray-300",children:[lc(A.roosterA.weight)," / ",A.roosterA.ageMonths||"N/A","m / ",A.roosterA.tipoGallo]}),v.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["A:",A.roosterA.ringId," Pm:",A.roosterA.markingId," Pc:",A.roosterA.breederPlateId," Marca:",A.roosterA.marca]})]}),v.jsx("div",{className:"w-1/12 text-center text-red-500 font-extrabold text-5xl",children:"VS"}),v.jsxs("div",{className:"w-5/12 text-left pl-4 space-y-2",children:[v.jsx("p",{className:"font-bold text-4xl text-amber-400 truncate",children:h(A.roosterB.cuerdaId)}),v.jsx("p",{className:"font-semibold text-white text-2xl",children:A.roosterB.color}),v.jsxs("p",{className:"text-lg font-mono text-gray-300",children:[lc(A.roosterB.weight)," / ",A.roosterB.ageMonths||"N/A","m / ",A.roosterB.tipoGallo]}),v.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["A:",A.roosterB.ringId," Pm:",A.roosterB.markingId," Pc:",A.roosterB.breederPlateId," Marca:",A.roosterB.marca]})]})]},A.id),b=n.unpairedRoosters.length,N=n.mainFights.filter(A=>A.id.startsWith("pelea-manual-")).length,_=n.mainFights.length-N;return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"sticky top-0 z-30 py-4 mb-6 bg-gray-900/90 backdrop-blur-md border-b border-gray-700 flex flex-col sm:flex-row justify-between items-center gap-4 print:hidden",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:s,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-6 rounded-lg",children:"Atrs"}),v.jsx("h2",{className:"hidden md:block text-2xl font-bold text-white",children:"Cotejo de Peleas"})]}),v.jsx("div",{className:"flex flex-wrap justify-center gap-3 w-full sm:w-auto",children:!f&&v.jsx("button",{onClick:l,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-8 rounded-lg shadow-lg transform active:scale-95 transition-all",children:"Comenzar Torneo"})})]}),v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4",children:[v.jsx("h3",{className:"text-xl font-bold text-amber-400 mb-3 text-center sm:text-left",children:"Estadsticas de la Contienda"}),v.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center",children:[v.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-lg",children:[v.jsx("p",{className:"text-2xl font-bold text-white",children:_}),v.jsx("p",{className:"text-sm text-gray-400",children:"Peleas de Cotejo"})]}),v.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-lg",children:[v.jsx("p",{className:"text-2xl font-bold text-white",children:N}),v.jsx("p",{className:"text-sm text-gray-400",children:"Peleas Manuales"})]}),v.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-lg",children:[v.jsx("p",{className:"text-2xl font-bold text-white",children:n.stats.mainTournamentRoostersCount}),v.jsx("p",{className:"text-sm text-gray-400",children:"Gallos Aptos"})]}),v.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-lg",children:[v.jsx("p",{className:"text-2xl font-bold text-white",children:n.unpairedRoosters.length}),v.jsx("p",{className:"text-sm text-gray-400",children:"Gallos sin Pelea"})]})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-xl font-bold text-amber-400",children:"Cartelera Principal"}),n.mainFights.length>0?v.jsx("div",{className:"space-y-2",children:n.mainFights.map(T)}):v.jsx("p",{className:"text-center text-gray-400 py-6",children:"No se generaron peleas."})]}),!f&&b>0&&v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4 mt-8",children:[v.jsx("h3",{className:"text-xl font-bold text-amber-400 mb-4",children:"Contiendas Manuales"}),n.unpairedRoosters.length>0&&v.jsxs("div",{children:[v.jsx("h4",{className:"text-amber-400 mb-2 text-base",children:"Gallos Esperando Contienda"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.unpairedRoosters.map(A=>{const R=g.includes(A.id);let B=!1;const q=g.length===1?n.unpairedRoosters.find(z=>z.id===g[0]):null;if(g.length>=2&&!R)B=!0;else if(q&&!R){const z=i.find(ie=>ie.id===q.cuerdaId),Z=i.find(ie=>ie.id===A.cuerdaId),oe=(z==null?void 0:z.baseCuerdaId)||(z==null?void 0:z.id),J=(Z==null?void 0:Z.baseCuerdaId)||(Z==null?void 0:Z.id);oe&&oe===J&&(B=!0)}const O=A.weight<e.minWeight,H=A.weight>e.maxWeight;return v.jsxs("div",{onClick:()=>!B&&S(A.id),className:`flex items-center p-3 rounded-lg border-2 transition-all duration-200 ${R?"bg-amber-900/50 border-amber-500 shadow-md":"bg-gray-700/50 border-gray-600"} ${B?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-amber-600"}`,children:[v.jsx("input",{type:"checkbox",checked:R,disabled:B,readOnly:!0,className:"w-5 h-5 rounded text-amber-600 bg-gray-900 border-gray-500 focus:ring-amber-500 focus:ring-offset-gray-800"}),v.jsxs("div",{className:"ml-3 flex-grow overflow-hidden",children:[v.jsx("p",{className:"font-bold text-amber-400 truncate",children:h(A.cuerdaId)}),v.jsxs("p",{className:"text-white truncate",children:[A.color," ",v.jsxs("span",{className:"text-xs text-gray-400 font-normal",children:["(",A.ringId,")"]})]}),O&&v.jsx("span",{className:"text-xs font-bold text-yellow-400 block",children:"Peso Bajo"}),H&&v.jsx("span",{className:"text-xs font-bold text-red-400 block",children:"Peso Alto"})]}),v.jsx("div",{className:"text-right flex-shrink-0 ml-2 flex items-center",children:v.jsxs("div",{children:[v.jsx("p",{className:"font-mono text-sm",children:lc(A.weight)}),v.jsxs("p",{className:"font-mono text-xs text-gray-400",children:[A.ageMonths,"m / ",A.tipoGallo]})]})})]},A.id)})}),g.length===2&&v.jsx("div",{className:"mt-4 text-center",children:v.jsx("button",{onClick:C,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-all transform hover:scale-105 shadow-lg",children:"Crear Pelea Seleccionada"})})]}),n.unpairedRoosters.length===0&&v.jsx("p",{className:"text-gray-400 text-center py-4",children:"Todos los gallos disponibles han sido emparejados."})]})]})},jg=16,tI=n=>{if(isNaN(n)||n<0)return{lbs:0,oz:0};const e=Math.floor(n/jg),i=n%jg;return{lbs:e,oz:i}},nI=n=>{const{lbs:e,oz:i}=tI(n);return`${e}.${String(i).padStart(2,"0")}`},oI=({peleas:n,onFinishFight:e,onFinishTournament:i,onBack:l,totalFightsInPhase:s,addNotification:c})=>{const[f,g]=Q.useState(""),[y,h]=Q.useState(""),S=Q.useRef(null),C=Q.useRef(null),T=n[0],[b,N]=Q.useState([]),[_,A]=Q.useState(null);Q.useEffect(()=>{const J=localStorage.getItem("galleraPro_cuerdas"),ie=localStorage.getItem("galleraPro_torneo");J&&N(JSON.parse(J)),ie&&A(JSON.parse(ie))},[]),Q.useEffect(()=>{var J;T&&(g(""),h(""),(J=S.current)==null||J.focus())},[T]);const R=J=>{var he,Y;const ie=J.target.value.replace(/[^0-9]/g,"").slice(0,2);g(ie),ie.length===2&&((he=C.current)==null||he.focus(),(Y=C.current)==null||Y.select())},B=J=>{const ie=J.target.value.replace(/[^0-9]/g,"").slice(0,2);h(ie)},q=(J,ie,he)=>{if(J==="")return;let Y=parseInt(J,10)||0;he!==void 0&&Y>he&&(Y=he),ie(String(Y).padStart(2,"0"))},O=J=>{var ie;return((ie=b.find(he=>he.id===J))==null?void 0:ie.name)||"Desconocido"},H=J=>{if(T)if(J==="DRAW")e(T.id,J,480);else{const ie=parseInt(f,10)||0,he=parseInt(y,10)||0,Y=ie*60+Math.min(he,59);if(Y===0){c("Debes introducir un tiempo de pelea para declarar un ganador.","error");return}e(T.id,J,Y)}};if(!T||!_)return v.jsxs("div",{className:"text-center p-8",children:[v.jsx("h2",{className:"text-3xl font-bold text-white",children:"Cargando siguiente pelea..."}),v.jsx("p",{className:"text-gray-400 mt-2",children:"Si la carga se congela, no hay ms peleas en esta fase."})]});const z=s-n.length,Z=J=>`${nI(J.weight)} Lb.Oz / ${J.ageMonths}m / ${J.tipoGallo}`,oe=J=>`A:${J.ringId} Pm:${J.markingId} Pc:${J.breederPlateId} Marca:${J.marca}`;return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] text-white p-4",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsxs("h2",{className:"text-5xl md:text-6xl font-extrabold tracking-tight text-amber-400",children:["Pelea #",T.fightNumber]}),v.jsxs("p",{className:"text-lg md:text-xl text-gray-400 mt-2",children:["Pelea ",z+1," de ",s]})]}),v.jsxs("div",{className:"w-full max-w-7xl grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] items-stretch gap-4 md:gap-8 mb-8",children:[v.jsxs("div",{className:"bg-blue-900/30 border-2 border-blue-600 rounded-2xl p-6 text-center md:text-right flex flex-col items-center md:items-end justify-center shadow-lg transform hover:scale-[1.02] transition-transform duration-300 space-y-2",children:[v.jsx("p",{className:"text-4xl md:text-5xl lg:text-6xl text-amber-400 font-bold break-words",children:O(T.roosterA.cuerdaId)}),v.jsx("h3",{className:"text-2xl lg:text-3xl font-semibold text-white",children:T.roosterA.color}),v.jsx("p",{className:"text-xl lg:text-2xl text-gray-300 font-mono",children:Z(T.roosterA)}),v.jsx("p",{className:"text-xs text-gray-400 font-mono",children:oe(T.roosterA)})]}),v.jsx("div",{className:"flex items-center justify-center",children:v.jsx("span",{className:"text-6xl md:text-8xl font-black text-red-500 transform -rotate-6",children:"VS"})}),v.jsxs("div",{className:"bg-red-900/30 border-2 border-red-600 rounded-2xl p-6 text-center md:text-left flex flex-col items-center md:items-start justify-center shadow-lg transform hover:scale-[1.02] transition-transform duration-300 space-y-2",children:[v.jsx("p",{className:"text-4xl md:text-5xl lg:text-6xl text-amber-400 font-bold break-words",children:O(T.roosterB.cuerdaId)}),v.jsx("h3",{className:"text-2xl lg:text-3xl font-semibold text-white",children:T.roosterB.color}),v.jsx("p",{className:"text-xl lg:text-2xl text-gray-300 font-mono",children:Z(T.roosterB)}),v.jsx("p",{className:"text-xs text-gray-400 font-mono",children:oe(T.roosterB)})]})]}),v.jsxs("div",{className:"w-full max-w-4xl flex flex-col items-center gap-6",children:[v.jsxs("div",{className:"text-center space-y-2",children:[v.jsx("p",{className:"text-xl font-semibold text-gray-300",children:"Duracin de la Pelea"}),v.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[v.jsx("input",{ref:S,type:"text",inputMode:"numeric",value:f,onChange:R,onBlur:()=>q(f,g),className:"w-24 md:w-28 bg-gray-900/50 border-2 border-gray-600 text-white text-6xl md:text-7xl font-mono text-center rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none","aria-label":"Minutos",placeholder:"00"}),v.jsx("span",{className:"text-6xl md:text-7xl font-mono text-gray-600 pb-2",children:":"}),v.jsx("input",{ref:C,type:"text",inputMode:"numeric",value:y,onChange:B,onBlur:()=>q(y,h,59),className:"w-24 md:w-28 bg-gray-900/50 border-2 border-gray-600 text-white text-6xl md:text-7xl font-mono text-center rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none","aria-label":"Segundos",placeholder:"00"})]}),v.jsxs("div",{className:"flex justify-center items-center space-x-2 w-full pt-1",children:[v.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-widest w-24 md:w-28 text-center",children:"MIN"}),v.jsx("span",{className:"w-4"}),v.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-widest w-24 md:w-28 text-center",children:"SEG"})]})]}),v.jsxs("div",{className:"w-full flex flex-col sm:flex-row justify-center items-center gap-4 mt-4",children:[v.jsxs("button",{onClick:()=>H("A"),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 text-xl rounded-lg w-full sm:w-auto transform hover:scale-105 transition-transform duration-200",children:["Gana ",O(T.roosterA.cuerdaId)]}),v.jsx("button",{onClick:()=>H("DRAW"),className:"bg-gray-500 hover:bg-gray-400 text-white font-bold py-3 px-6 text-lg rounded-lg w-full sm:w-auto",children:"Empate"}),v.jsxs("button",{onClick:()=>H("B"),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-8 text-xl rounded-lg w-full sm:w-auto transform hover:scale-105 transition-transform duration-200",children:["Gana ",O(T.roosterB.cuerdaId)]})]})]}),v.jsxs("div",{className:"text-center mt-12 print-hide flex justify-center items-center space-x-4",children:[v.jsx("button",{onClick:l,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-6 rounded-lg",children:"Atrs"}),v.jsx("button",{onClick:i,className:"bg-red-700 hover:bg-red-800 text-white font-bold py-2 px-6 rounded-lg",children:"Terminar Torneo Anticipadamente"})]})]})},iI=({dailyResults:n,torneo:e,cuerdas:i,onNewTournament:l,onBack:s,viewingDay:c})=>{const[f,g]=Q.useState([]),y=_=>{g(A=>A.includes(_)?A.filter(R=>R!==_):[...A,_])},h=Q.useMemo(()=>{const _=n.find(A=>A.day===c);return _?_.peleas:[]},[n,c]),S=Q.useMemo(()=>{const _={};return i.forEach(A=>{_[A.id]={wins:0,draws:0,losses:0,totalDurationSeconds:0}}),h.forEach(A=>{if(!A.winner)return;const R=A.roosterA.cuerdaId,B=A.roosterB.cuerdaId,q=A.duration||0;A.winner==="A"?(_[R].wins++,_[R].totalDurationSeconds+=q,_[B].losses++):A.winner==="B"?(_[B].wins++,_[B].totalDurationSeconds+=q,_[R].losses++):A.winner==="DRAW"&&(_[R].draws++,_[B].draws++,_[R].totalDurationSeconds+=q,_[B].totalDurationSeconds+=q)}),i.map(A=>{const R=A.name.match(/\(F(\d+)\)$/),B=R?parseInt(R[1],10):1,q=_[A.id],O=q.wins*e.pointsForWin+q.draws*e.pointsForDraw;return{cuerdaId:A.id,cuerdaName:A.name,fronts:B,...q,points:O}}).filter(A=>A.wins+A.draws+A.losses>0)},[h,i,e]),C=Q.useMemo(()=>{const _=[...S];return _.sort((A,R)=>A.points!==R.points?R.points-A.points:A.totalDurationSeconds!==R.totalDurationSeconds?A.totalDurationSeconds-R.totalDurationSeconds:0),_},[S]),T=_=>{const A=Math.floor(_/60),R=_%60;return{minutes:A,seconds:R}},b=Q.useMemo(()=>{const _=[];return h.forEach(A=>{if(A.winner&&A.winner!=="DRAW"&&A.duration!==null&&A.duration>0){const R=A.winner==="A"?A.roosterA:A.roosterB;_.push({rooster:R,duration:A.duration})}}),_.sort((A,R)=>A.duration-R.duration).slice(0,10)},[h]),N=_=>{var A;return((A=i.find(R=>R.id===_))==null?void 0:A.name)||"Desconocido"};return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-3xl font-bold text-white",children:"Clasificacin General"}),v.jsxs("p",{className:"text-gray-400 mt-2",children:[e.name," - ",e.date]})]}),v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4 sm:p-6",children:[v.jsx("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-4",children:v.jsxs("h3",{className:"text-xl font-bold text-amber-400",children:["Tabla de Posiciones - Da ",c]})}),v.jsx("p",{className:"text-xs text-gray-400 mb-4 print:hidden",children:"Haz clic en una fila para ver los detalles de los gallos."}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[v.jsx("thead",{className:"text-xs text-amber-400 uppercase bg-gray-700/50",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"#"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"CUERDA"}),v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"PUNTOS"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"PG"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"PE"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"PP"}),v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"TIEMPO"})]})}),v.jsxs("tbody",{children:[C.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:7,className:"text-center py-8 text-gray-500",children:"No hay datos de peleas para el da seleccionado."})}),C.map((_,A)=>{const{minutes:R,seconds:B}=T(_.totalDurationSeconds),q=f.includes(_.cuerdaId),O=h.filter(H=>H.roosterA.cuerdaId===_.cuerdaId||H.roosterB.cuerdaId===_.cuerdaId);return v.jsxs(Ns.Fragment,{children:[v.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/30 cursor-pointer",onClick:()=>y(_.cuerdaId),children:[v.jsx("td",{className:"px-4 py-3 font-bold text-center",children:A+1}),v.jsx("td",{className:"px-6 py-3 font-semibold text-white",children:_.cuerdaName}),v.jsx("td",{className:"px-4 py-3 text-center text-white font-bold",children:_.points}),v.jsx("td",{className:"px-3 py-3 text-center text-green-400 font-bold",children:_.wins}),v.jsx("td",{className:"px-3 py-3 text-center text-yellow-400",children:_.draws}),v.jsx("td",{className:"px-3 py-3 text-center text-red-400",children:_.losses}),v.jsxs("td",{className:"px-4 py-3 text-center text-white font-semibold tracking-wider",children:[String(R).padStart(2,"0"),":",String(B).padStart(2,"0")]})]}),v.jsx("tr",{className:`${q?"":"hidden"} print:hidden`,children:v.jsx("td",{colSpan:7,className:"p-4 bg-gray-700/10",children:v.jsxs("div",{className:"space-y-2",children:[v.jsxs("h4",{className:"font-bold text-amber-300",children:["Detalles de Peleas para ",_.cuerdaName,":"]}),O.length>0?O.map(H=>{const z=H.roosterA.cuerdaId===_.cuerdaId?H.roosterA:H.roosterB,Z=z===H.roosterA?H.roosterB:H.roosterA,oe=T(H.duration||0);let J="Empate";return H.winner==="A"&&z===H.roosterA||H.winner==="B"&&z===H.roosterB?J="Victoria":H.winner!=="DRAW"&&(J="Derrota"),v.jsxs("div",{className:"text-xs grid grid-cols-2 md:grid-cols-4 gap-x-4 gap-y-1 p-2 border-b border-gray-600 last:border-b-0",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Gallo:"})," ",v.jsx("span",{className:"font-normal",children:z.color})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Oponente:"})," ",v.jsxs("span",{className:"font-normal",children:[Z.color," (",N(Z.cuerdaId),")"]})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Resultado:"})," ",v.jsx("span",{className:`font-bold ${J==="Victoria"?"text-green-400":J==="Derrota"?"text-red-400":"text-yellow-400"}`,children:J})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Tiempo:"})," ",v.jsxs("span",{className:"font-normal",children:[oe.minutes,":",String(oe.seconds).padStart(2,"0")]})]})]},H.id)}):v.jsx("p",{className:"text-xs text-gray-500",children:"No hay detalles de peleas para esta cuerda."})]})})})]},_.cuerdaId)})]})]})})]}),v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4 sm:p-6 mt-8",children:[v.jsxs("h3",{className:"text-xl font-bold text-amber-400 mb-4",children:["Top 10 Gallos Ms Rpidos - Da ",c]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[v.jsx("thead",{className:"text-xs text-amber-400 uppercase bg-gray-700/50",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"#"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Gallo"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Cuerda"}),v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Tiempo"})]})}),v.jsxs("tbody",{children:[b.map((_,A)=>{const{minutes:R,seconds:B}=T(_.duration);return v.jsxs("tr",{className:"border-b border-gray-700",children:[v.jsx("td",{className:"px-4 py-3 font-bold text-center",children:A+1}),v.jsx("td",{className:"px-6 py-3 font-semibold text-white",children:_.rooster.color}),v.jsx("td",{className:"px-6 py-3",children:N(_.rooster.cuerdaId)}),v.jsxs("td",{className:"px-4 py-3 text-center text-white font-semibold tracking-wider",children:[String(R).padStart(2,"0"),":",String(B).padStart(2,"0")]})]},_.rooster.id+"-"+A)}),b.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:4,className:"text-center py-4 text-gray-500",children:"No hay peleas ganadas para mostrar."})})]})]})})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-8 print:hidden",children:[v.jsx("button",{onClick:s,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-8 rounded-lg text-lg",children:"Volver a la Cartelera"}),v.jsx("button",{onClick:l,className:"bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold py-3 px-8 rounded-lg text-lg",children:"Nuevo Torneo (Borrar Resultados)"})]})]})},aI=({dailyResults:n,torneo:e,cuerdas:i,onNewTournament:l,onBack:s})=>{const[c,f]=Q.useState([]),g=N=>{f(_=>_.includes(N)?_.filter(A=>A!==N):[..._,N])},y=N=>{const _=i.find(A=>A.id===N);return(_==null?void 0:_.baseCuerdaId)||(_==null?void 0:_.id)||""},h=Q.useMemo(()=>n.flatMap(N=>N.peleas.map(_=>({..._,day:N.day}))),[n]),S=Q.useMemo(()=>{const N=new Map,_=i.filter(R=>!R.baseCuerdaId);return _.forEach(R=>{N.set(R.id,{wins:0,draws:0,losses:0,totalDurationSeconds:0})}),h.forEach(R=>{if(!R.winner)return;const B=R.duration||0,q=y(R.roosterA.cuerdaId),O=y(R.roosterB.cuerdaId),H=N.get(q),z=N.get(O);R.winner==="A"?(H&&(H.wins++,H.totalDurationSeconds+=B),z&&z.losses++):R.winner==="B"?(z&&(z.wins++,z.totalDurationSeconds+=B),H&&H.losses++):R.winner==="DRAW"&&(H&&(H.draws++,H.totalDurationSeconds+=B),z&&(z.draws++,z.totalDurationSeconds+=B))}),Array.from(N.entries()).map(([R,B])=>{const q=_.find(H=>H.id===R),O=B.wins*e.pointsForWin+B.draws*e.pointsForDraw;return{cuerdaId:R,cuerdaName:q?q.name.replace(/\s\(F\d+\)$/,""):"Desconocido",points:O,...B}}).filter(R=>R.wins+R.draws+R.losses>0).sort((R,B)=>R.points!==B.points?B.points-R.points:R.totalDurationSeconds-B.totalDurationSeconds)},[h,i,e]),C=Q.useMemo(()=>{let N=null;return h.forEach(_=>{_.winner&&_.winner!=="DRAW"&&_.duration!==null&&_.duration>0&&(!N||_.duration<N.duration)&&(N={rooster:_.winner==="A"?_.roosterA:_.roosterB,duration:_.duration})}),N},[h]),T=N=>{const _=Math.floor(N/60),A=N%60;return{minutes:_,seconds:A}},b=N=>{var _;return((_=i.find(A=>A.id===N))==null?void 0:_.name)||"Desconocido"};return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-3xl font-bold text-white",children:"Resultados Finales del Torneo"}),v.jsxs("p",{className:"text-gray-400 mt-2",children:[e.name," - ",e.date]})]}),v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-4 sm:p-6",children:[v.jsx("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-4",children:v.jsx("h3",{className:"text-xl font-bold text-amber-400",children:"Clasificacin de Campeones"})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[v.jsx("thead",{className:"text-xs text-amber-400 uppercase bg-gray-700/50",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"#"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Cuerda"}),v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Puntos"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"PG"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"PE"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"PP"}),v.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Tiempo Total"})]})}),v.jsxs("tbody",{children:[S.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:7,className:"text-center py-8 text-gray-500",children:"No hay datos suficientes para generar la clasificacin."})}),S.map((N,_)=>{const{minutes:A,seconds:R}=T(N.totalDurationSeconds),B=c.includes(N.cuerdaId),q=h.filter(O=>y(O.roosterA.cuerdaId)===N.cuerdaId||y(O.roosterB.cuerdaId)===N.cuerdaId);return v.jsxs(Ns.Fragment,{children:[v.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/30 cursor-pointer",onClick:()=>g(N.cuerdaId),children:[v.jsx("td",{className:"px-4 py-3 font-bold text-center",children:_+1}),v.jsx("td",{className:"px-6 py-3 font-semibold text-white",children:N.cuerdaName}),v.jsx("td",{className:"px-4 py-3 text-center text-white font-bold",children:N.points}),v.jsx("td",{className:"px-3 py-3 text-center text-green-400 font-bold",children:N.wins}),v.jsx("td",{className:"px-3 py-3 text-center text-yellow-400",children:N.draws}),v.jsx("td",{className:"px-3 py-3 text-center text-red-400",children:N.losses}),v.jsxs("td",{className:"px-4 py-3 text-center text-white font-semibold tracking-wider",children:[String(A).padStart(2,"0"),":",String(R).padStart(2,"0")]})]}),v.jsx("tr",{className:`${B?"":"hidden"} print:hidden`,children:v.jsx("td",{colSpan:7,className:"p-4 bg-gray-700/10",children:v.jsxs("div",{className:"space-y-2",children:[v.jsxs("h4",{className:"font-bold text-amber-300",children:["Detalles de Peleas para ",N.cuerdaName,":"]}),q.length>0?q.map(O=>{const H=y(O.roosterA.cuerdaId)===N.cuerdaId?O.roosterA:O.roosterB,z=H===O.roosterA?O.roosterB:O.roosterA,Z=T(O.duration||0);let oe="Empate";return O.winner==="A"&&H===O.roosterA||O.winner==="B"&&H===O.roosterB?oe="Victoria":O.winner!=="DRAW"&&(oe="Derrota"),v.jsxs("div",{className:"text-xs grid grid-cols-2 md:grid-cols-5 gap-x-4 gap-y-1 p-2 border-b border-gray-600 last:border-b-0",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Da:"})," ",v.jsx("span",{className:"font-normal",children:O.day})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Gallo:"})," ",v.jsxs("span",{className:"font-normal",children:[H.color," (",b(H.cuerdaId),")"]})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Oponente:"})," ",v.jsxs("span",{className:"font-normal",children:[z.color," (",b(z.cuerdaId),")"]})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Resultado:"})," ",v.jsx("span",{className:`font-bold ${oe==="Victoria"?"text-green-400":oe==="Derrota"?"text-red-400":"text-yellow-400"}`,children:oe})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-400",children:"Tiempo:"})," ",v.jsxs("span",{className:"font-normal",children:[Z.minutes,":",String(Z.seconds).padStart(2,"0")]})]})]},O.id)}):v.jsx("p",{className:"text-xs text-gray-500",children:"No hay detalles de peleas para esta cuerda."})]})})})]},N.cuerdaId)})]})]})})]}),v.jsxs("div",{className:"bg-gray-800/50 rounded-2xl shadow-lg border border-gray-700 p-6 mt-8",children:[v.jsx("h3",{className:"text-xl font-bold text-amber-400 mb-4",children:"Gallo ms Rpido del Campeonato"}),C?v.jsxs("div",{className:"text-center bg-gray-700/50 p-6 rounded-lg",children:[v.jsxs("p",{className:"text-5xl font-bold text-green-400",children:[T(C.duration).minutes,":",String(T(C.duration).seconds).padStart(2,"0")]}),v.jsx("p",{className:"text-2xl font-semibold text-white mt-2",children:C.rooster.color}),v.jsx("p",{className:"text-lg text-gray-300",children:b(C.rooster.cuerdaId)})]}):v.jsx("p",{className:"text-center text-gray-500 py-4",children:"No se encontraron peleas ganadas para determinar el ms rpido."})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-8 print:hidden",children:[v.jsx("button",{onClick:s,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-8 rounded-lg text-lg",children:"Volver al ltimo Da"}),v.jsx("button",{onClick:l,className:"bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold py-3 px-8 rounded-lg text-lg",children:"Nuevo Torneo (Borrar Resultados)"})]})]})},lI=({notifications:n,onDismiss:e})=>{const i=s=>{switch(s){case"success":return v.jsx(xy,{className:"w-6 h-6 text-green-300"});case"error":return v.jsx(hs,{className:"w-6 h-6 text-red-300"});default:return null}},l=s=>{switch(s){case"success":return"bg-green-800/80 border-green-600";case"error":return"bg-red-800/80 border-red-600";default:return"bg-blue-800/80 border-blue-600"}};return v.jsxs("div",{className:"fixed top-5 right-5 z-[100] w-full max-w-xs space-y-3",children:[n.map(s=>v.jsxs("div",{className:`relative flex items-center p-4 pr-10 text-white rounded-lg shadow-lg backdrop-blur-md border animate-fade-in-down ${l(s.type)}`,children:[v.jsx("div",{className:"flex-shrink-0",children:i(s.type)}),v.jsx("div",{className:"ml-3 text-sm font-medium",children:s.message}),v.jsx("button",{onClick:()=>e(s.id),className:"absolute top-2 right-2 p-1 text-gray-300 hover:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-white",children:v.jsx(hs,{className:"w-4 h-4"})})]},s.id)),v.jsx("style",{children:`
        @keyframes fade-in-down {
            0% {
                opacity: 0;
                transform: translateY(-10px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .animate-fade-in-down {
            animation: fade-in-down 0.3s ease-out;
        }
      `})]})},Wg=16,ey=n=>{const e=Math.round(n),i=Math.floor(e/Wg),l=e%Wg;return`${i}.${String(l).padStart(2,"0")}`},sI=({peleas:n,cuerdas:e,torneoName:i,date:l,day:s})=>{const c=f=>{const g=e.find(C=>C.id===f);if(!g)return{name:"Desconocido",front:""};const y=g.name.replace(/\s\(F\d+\)$/,"").trim(),h=g.name.match(/\(F(\d+)\)$/),S=h?h[1]:"1";return{name:y,front:S}};return v.jsxs("div",{className:"printable-programacion-container",children:[v.jsxs("div",{className:"header-print",children:[v.jsx("h1",{children:i}),v.jsxs("p",{children:["PROGRAMACIN DE PELEAS ",s?`- DA ${s}`:""," | FECHA: ",l]})]}),v.jsxs("table",{className:"programacion-table",children:[v.jsxs("thead",{children:[v.jsxs("tr",{children:[v.jsx("th",{style:{width:"25px"},rowSpan:2,children:"N"}),v.jsx("th",{colSpan:8,style:{borderBottom:"2px solid red"},children:"LADO ROJO (GALLO A)"}),v.jsx("th",{style:{width:"25px"},rowSpan:2,children:"VS"}),v.jsx("th",{colSpan:8,style:{borderBottom:"2px solid blue"},children:"LADO AZUL (GALLO B)"}),v.jsx("th",{colSpan:2,children:"FINAL"}),v.jsx("th",{style:{width:"25px"},rowSpan:2,children:"N"})]}),v.jsxs("tr",{children:[v.jsx("th",{style:{width:"90px"},children:"Cuerda"}),v.jsx("th",{style:{width:"20px"},children:"F"}),v.jsx("th",{style:{width:"40px"},children:"Anillo"}),v.jsx("th",{style:{width:"40px"},children:"Placa(Pm)"}),v.jsx("th",{style:{width:"40px"},children:"Placa(Pc)"}),v.jsx("th",{style:{width:"50px"},children:"Color"}),v.jsx("th",{style:{width:"50px"},children:"Fenotipo/Tipo"}),v.jsx("th",{style:{width:"35px"},children:"Peso"}),v.jsx("th",{style:{width:"90px"},children:"Cuerda"}),v.jsx("th",{style:{width:"20px"},children:"F"}),v.jsx("th",{style:{width:"40px"},children:"Anillo"}),v.jsx("th",{style:{width:"40px"},children:"Placa(Pm)"}),v.jsx("th",{style:{width:"40px"},children:"Placa(Pc)"}),v.jsx("th",{style:{width:"50px"},children:"Color"}),v.jsx("th",{style:{width:"50px"},children:"Fenotipo/Tipo"}),v.jsx("th",{style:{width:"35px"},children:"Peso"}),v.jsx("th",{style:{width:"25px"},children:"G"}),v.jsx("th",{style:{width:"40px"},children:"Tiempo"})]})]}),v.jsx("tbody",{children:n.map(f=>{const g=c(f.roosterA.cuerdaId),y=c(f.roosterB.cuerdaId);return v.jsxs("tr",{children:[v.jsx("td",{style:{fontWeight:"bold"},children:f.fightNumber}),v.jsx("td",{style:{textAlign:"left",paddingLeft:"2px",fontSize:"7pt"},children:g.name}),v.jsx("td",{children:g.front}),v.jsx("td",{children:f.roosterA.ringId}),v.jsx("td",{children:f.roosterA.markingId}),v.jsx("td",{children:f.roosterA.breederPlateId}),v.jsx("td",{children:f.roosterA.color}),v.jsxs("td",{style:{lineHeight:"1"},children:[v.jsx("div",{children:f.roosterA.tipoGallo}),v.jsx("div",{style:{fontSize:"6pt",marginTop:"1px"},children:f.roosterA.tipoEdad})]}),v.jsx("td",{style:{fontFamily:"monospace",fontWeight:"bold"},children:ey(f.roosterA.weight)}),v.jsx("td",{style:{fontWeight:"bold"},children:"VS"}),v.jsx("td",{style:{textAlign:"left",paddingLeft:"2px",fontSize:"7pt"},children:y.name}),v.jsx("td",{children:y.front}),v.jsx("td",{children:f.roosterB.ringId}),v.jsx("td",{children:f.roosterB.markingId}),v.jsx("td",{children:f.roosterB.breederPlateId}),v.jsx("td",{children:f.roosterB.color}),v.jsxs("td",{style:{lineHeight:"1"},children:[v.jsx("div",{children:f.roosterB.tipoGallo}),v.jsx("div",{style:{fontSize:"6pt",marginTop:"1px"},children:f.roosterB.tipoEdad})]}),v.jsx("td",{style:{fontFamily:"monospace",fontWeight:"bold"},children:ey(f.roosterB.weight)}),v.jsx("td",{})," ",v.jsx("td",{})," ",v.jsx("td",{style:{fontWeight:"bold"},children:f.fightNumber})]},f.id)})})]}),v.jsx("div",{className:"print-footer",children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[v.jsx("div",{style:{color:"black"},children:v.jsx(zc,{className:"w-5 h-5"})}),v.jsx("span",{children:"GalleraPro - 100% Peleas de gallos - 3197633335"})]})})]})},rI=16,ty=(n,e)=>n*rI+e,uI=(n,e,i)=>{const l=S=>{const C=i.find(T=>T.id===S);return(C==null?void 0:C.baseCuerdaId)||(C==null?void 0:C.id)||""},s=(S,C)=>{const T=l(S),b=l(C);return e.exceptions.some(N=>N.cuerda1Id===T&&N.cuerda2Id===b||N.cuerda1Id===b&&N.cuerda2Id===T)},c=[];for(let S=0;S<n.length;S++)for(let C=S+1;C<n.length;C++){const T=n[S],b=n[C];if(T.tipoGallo!==b.tipoGallo)continue;const N=l(T.cuerdaId),_=l(b.cuerdaId);if(N===_||s(T.cuerdaId,b.cuerdaId))continue;const A=Math.abs(T.weight-b.weight);if(A>e.weightTolerance)continue;const R=Math.abs(T.ageMonths-b.ageMonths);R>e.ageToleranceMonths||c.push({roosterA:T,roosterB:b,weightDiff:A,ageDiff:R})}c.sort((S,C)=>S.weightDiff!==C.weightDiff?S.weightDiff-C.weightDiff:S.ageDiff-C.ageDiff);const f=[],g=new Set;let y=1;for(const S of c){const{roosterA:C,roosterB:T}=S;!g.has(C.id)&&!g.has(T.id)&&(f.push({id:`pelea-${C.id}-${T.id}`,fightNumber:y++,roosterA:C,roosterB:T,winner:null,duration:null}),g.add(C.id),g.add(T.id))}const h=n.filter(S=>!g.has(S.id));return{fights:f,leftovers:h}},cI=()=>{const[n,e]=Q.useState(Qe.SETUP),[i,l]=Q.useState([]),[s,c]=Q.useState({1:[]}),[f,g]=Q.useState({1:[]}),[y,h]=Q.useState({1:null}),[S,C]=Q.useState([]),[T,b]=Q.useState(1),[N,_]=Q.useState(1),[A,R]=Q.useState(!1),[B,q]=Q.useState([]),[O,H]=Q.useState({name:"Torneo de Exhibicin",date:new Date().toISOString().split("T")[0],weightTolerance:1,ageToleranceMonths:2,minWeight:ty(2,12),maxWeight:ty(5,4),roostersPerTeam:10,pointsForWin:3,pointsForDraw:1,tournamentDays:1,exceptions:[]}),z=Q.useCallback((ae,se="info",fe=3e3)=>{const we=Date.now()+Math.random();q(xe=>[...xe,{id:we,message:ae,type:se}]),setTimeout(()=>{q(xe=>xe.filter(Ie=>Ie.id!==we))},fe)},[]),Z=ae=>{q(se=>se.filter(fe=>fe.id!==ae))};Q.useEffect(()=>{try{const ae=localStorage.getItem("galleraPro_cuerdas"),se=localStorage.getItem("galleraPro_torneo"),fe=localStorage.getItem("galleraPro_gallosByDay"),we=localStorage.getItem("galleraPro_peleasByDay"),xe=localStorage.getItem("galleraPro_matchmakingResultsByDay"),Ie=localStorage.getItem("galleraPro_dailyResults"),Ae=localStorage.getItem("galleraPro_currentDay");if(ae&&se&&fe){const ze=Ae?parseInt(Ae,10):1;l(JSON.parse(ae)),H(JSON.parse(se)),c(JSON.parse(fe)),g(we?JSON.parse(we):{1:[]}),h(xe?JSON.parse(xe):{1:null}),C(Ie?JSON.parse(Ie):[]),b(ze),_(ze)}}catch(ae){console.error("Failed to load data from localStorage",ae),z("Error al cargar los datos.","error")}},[z]),Q.useEffect(()=>{localStorage.setItem("galleraPro_cuerdas",JSON.stringify(i)),localStorage.setItem("galleraPro_torneo",JSON.stringify(O)),localStorage.setItem("galleraPro_gallosByDay",JSON.stringify(s)),localStorage.setItem("galleraPro_peleasByDay",JSON.stringify(f)),localStorage.setItem("galleraPro_matchmakingResultsByDay",JSON.stringify(y)),localStorage.setItem("galleraPro_dailyResults",JSON.stringify(S)),localStorage.setItem("galleraPro_currentDay",JSON.stringify(T))},[i,O,s,f,y,S,T]);const oe=Q.useMemo(()=>s[N]||[],[s,N]);Q.useMemo(()=>f[N]||[],[f,N]);const J=Q.useMemo(()=>y[N]||null,[y,N]),ie=Q.useMemo(()=>N<T,[N,T]),he=Q.useMemo(()=>(f[T]||[]).length>0&&(f[T]||[]).some(ae=>ae.winner===null),[f,T]),Y=Q.useCallback(ae=>H(ae),[]),j=Q.useCallback((ae,se)=>{const{name:fe,owner:we,city:xe,frontCount:Ie,breederPlateId:Ae}=ae;if(se){const ze=i.find(Se=>Se.id===se);if(!ze)return;const Oe=ze.baseCuerdaId||ze.id,ve=i.filter(Se=>Se.id===Oe&&!Se.baseCuerdaId||Se.baseCuerdaId===Oe).sort((Se,ht)=>Se.name.localeCompare(ht.name,void 0,{numeric:!0}));let It=[...i];if(Ie<ve.length){const Se=ve.slice(Ie),ht=new Set(Se.map(wt=>wt.id)),Ot=Object.values(s).flat().filter(wt=>ht.has(wt.cuerdaId)).length;let kt=`Va a reducir el nmero de frentes a ${Ie}. ${Se.length} frente(s) ser(n) eliminado(s).`;if(Ot>0&&(kt+=` Esto tambin eliminar ${Ot} gallo(s) asignado(s) a estos frentes en todos los das.`),kt+=" Desea continuar?",window.confirm(kt))c(wt=>{const Me={...wt};for(const Fe in Me)Me[Fe]=Me[Fe].filter(it=>!ht.has(it.cuerdaId));return Me}),It=It.filter(wt=>!ht.has(wt.id));else return}let Mt=[...It];const jt=Mt.find(Se=>Se.id===Oe);if(!jt)return;for(let Se=0;Se<Ie;Se++){const ht=`${fe} (F${Se+1})`;if(Se<ve.length){const Ot=ve[Se].id,kt=Mt.findIndex(wt=>wt.id===Ot);kt!==-1&&(Mt[kt]={...Mt[kt],name:ht,owner:we,city:xe,breederPlateId:Ae})}else Mt.push({id:`cuerda-${Date.now()}-${Se}`,name:ht,owner:we,city:xe,breederPlateId:Ae,baseCuerdaId:jt.id})}l(Mt),z("Cuerda actualizada.","success")}else{const ze=`cuerda-${Date.now()}`,Oe=[{id:ze,name:`${fe} (F1)`,owner:we,city:xe,breederPlateId:Ae}];for(let ve=1;ve<Ie;ve++)Oe.push({id:`cuerda-${Date.now()}-${ve}`,name:`${fe} (F${ve+1})`,owner:we,city:xe,breederPlateId:Ae,baseCuerdaId:ze});l(ve=>[...ve,...Oe]),z("Cuerda aadida.","success")}},[i,s,z]),W=Q.useCallback((ae,se,fe,we)=>{if((s[T]||[]).some(Se=>Se.ringId.trim().toLowerCase()===ae.ringId.trim().toLowerCase()))return;const Ie=i.find(Se=>{var ht;return!Se.baseCuerdaId&&((ht=Se.breederPlateId)==null?void 0:ht.trim().toLowerCase())===se.trim().toLowerCase()});if(!Ie)return;const Ae=Ie.id,ze=Ie.name.replace(/\s\(F\d+\)$/,"").trim(),Oe=i.filter(Se=>Se.id===Ae||Se.baseCuerdaId===Ae);let ve=[...i];const It=Math.max(fe,we||0);if(It>Oe.length){for(let Se=Oe.length+1;Se<=It;Se++)ve.push({id:`${Ae}-f${Se}`,name:`${ze} (F${Se})`,owner:Ie.owner,city:Ie.city,breederPlateId:Ie.breederPlateId,baseCuerdaId:Ae});l(ve)}const Mt=`(F${fe})`,jt=ve.find(Se=>(Se.id===Ae||Se.baseCuerdaId===Ae)&&Se.name.includes(Mt));if(jt){const Se={...ae,id:`gallo-${Date.now()}-${Math.random()}`,cuerdaId:jt.id,tipoEdad:ae.ageMonths>=12?gn.GALLO:gn.POLLO};c(ht=>({...ht,[T]:[...ht[T]||[],Se]}))}},[i,T,s]),me=Q.useCallback((ae,se)=>{const{name:fe,owner:we,city:xe,frontCount:Ie,breederPlateId:Ae}=ae,ze=fe.replace(/\s\(F\d+\)$/,"").trim().toLowerCase(),Oe=i.find(Me=>{var Wt;if(Me.baseCuerdaId)return!1;const Fe=(Wt=Me.breederPlateId)==null?void 0:Wt.trim().toLowerCase(),it=Ae==null?void 0:Ae.trim().toLowerCase(),tt=Me.name.replace(/\s\(F\d+\)$/,"").trim().toLowerCase();return Fe&&it&&Fe!=="n/a"&&it!=="n/a"?Fe===it:tt===ze});let ve,It=[...i],Mt="";if(Oe){ve=Oe.id,Mt="actualizada";const Me=i.filter(tt=>tt.id===ve||tt.baseCuerdaId===ve),Fe=Math.max(...se.map(tt=>tt.frontNumber),0),it=Math.max(Ie,Fe);if(it>Me.length){const tt=Oe.name.replace(/\s\(F\d+\)$/,"").trim();for(let Wt=Me.length+1;Wt<=it;Wt++)It.push({id:`${ve}-f${Wt}`,name:`${tt} (F${Wt})`,owner:Oe.owner,city:Oe.city,breederPlateId:Oe.breederPlateId,baseCuerdaId:ve})}}else{ve=`cuerda-ai-${Date.now()}`,Mt="creada";for(let Me=0;Me<Ie;Me++){const Fe=Me===0?ve:`${ve}-f${Me+1}`,it=`${fe} (F${Me+1})`;It.push({id:Fe,name:it,owner:we,city:xe,breederPlateId:Ae,baseCuerdaId:Me===0?void 0:ve})}}l(It);const jt=new Map;It.filter(Me=>Me.id===ve||Me.baseCuerdaId===ve).forEach(Me=>{const Fe=Me.name.match(/\(F(\d+)\)$/);Fe?jt.set(parseInt(Fe[1]),Me.id):jt.set(1,Me.id)});const Se=s[T]||[],ht=new Set(Se.map(Me=>Me.ringId.trim().toLowerCase())),Ot=[];let kt=0;se.forEach(Me=>{const Fe=jt.get(Me.frontNumber)||ve;Me.gallos.forEach((it,tt)=>{const Wt=it.ringId.trim().toLowerCase();ht.has(Wt)?kt++:(Ot.push({...it,id:`gallo-ai-${Date.now()}-${Me.frontNumber}-${tt}-${Math.random()}`,cuerdaId:Fe,tipoEdad:it.ageMonths<12?gn.POLLO:gn.GALLO}),ht.add(Wt))})}),Ot.length>0&&c(Me=>({...Me,[T]:[...Me[T]||[],...Ot]}));let wt=`Cuerda "${fe}" ${Mt}.`;Ot.length>0&&(wt+=` Se agregaron ${Ot.length} gallos nuevos.`),kt>0&&(wt+=` (Se omitieron ${kt} duplicados por ID de anillo).`),z(wt,"success",5e3)},[T,i,s,z]),U=Q.useCallback(ae=>{const se=i.find(ze=>ze.id===ae);if(!se)return;const fe=se.baseCuerdaId||se.id,we=se.id===fe,xe=i.some(ze=>ze.baseCuerdaId===fe);if(we&&xe){z("No se puede eliminar el frente principal (F1) si existen otros frentes asociados. Elimine los frentes secundarios primero.","error",5e3);return}const Ie=Object.values(s).flat().filter(ze=>ze.cuerdaId===ae).length;let Ae=`Est seguro de que desea eliminar el frente "${se.name}"?`;Ie>0&&(Ae+=` ${Ie} gallo(s) asignado(s) a l tambin ser(n) eliminado(s) de todos los das.`),window.confirm(Ae)&&(c(ze=>{const Oe={...ze};for(const ve in Oe)Oe[ve]=Oe[ve].filter(It=>It.cuerdaId!==ae);return Oe}),l(ze=>ze.filter(Oe=>Oe.id!==ae)),z("Frente y sus gallos han sido eliminados.","success"))},[i,s,z]),k=Q.useCallback((ae,se)=>{const fe=ae.ageMonths<12?gn.POLLO:gn.GALLO,xe={...{...ae,tipoEdad:fe},id:se};c(Ie=>{const Ae=Ie[T]||[],ze=Ae.findIndex(Oe=>Oe.id===se);if(ze>-1){const Oe=[...Ae];return Oe[ze]=xe,{...Ie,[T]:Oe}}return Ie}),z("Gallo actualizado.","success")},[z,T]),te=Q.useCallback(ae=>{var we;const se={...ae,id:`gallo-${Date.now()}-${Math.random()}`,tipoEdad:ae.ageMonths<12?gn.POLLO:gn.GALLO};c(xe=>({...xe,[T]:[...xe[T]||[],se]}));const fe=((we=i.find(xe=>xe.id===se.cuerdaId))==null?void 0:we.name)||"la lista";z(`Gallo "${se.color}" aadido a ${fe}.`,"success")},[z,i,T]),ye=Q.useCallback(ae=>{c(se=>({...se,[T]:(se[T]||[]).filter(fe=>fe.id!==ae)})),z("Gallo eliminado.","success")},[z,T]),Ee=Q.useCallback(()=>{R(!0),setTimeout(()=>{const ae=oe.filter(xe=>xe.weight>=O.minWeight&&xe.weight<=O.maxWeight),{fights:se,leftovers:fe}=uI(ae,O,i),we={mainFights:se,individualFights:[],unpairedRoosters:fe,stats:{contribution:0,rounds:0,mainTournamentRoostersCount:ae.length}};h(xe=>({...xe,[T]:we})),R(!1),e(Qe.MATCHMAKING)},500)},[oe,O,i,T]),M=Q.useCallback((ae,se)=>{if(!J)return;const fe=oe.find(Ie=>Ie.id===ae),we=oe.find(Ie=>Ie.id===se);if(!fe||!we){z("No se encontraron los gallos seleccionados.","error");return}const xe={id:`pelea-manual-${ae}-${se}`,fightNumber:J.mainFights.length+1,roosterA:fe,roosterB:we,winner:null,duration:null};h(Ie=>{const Ae=Ie[T];return Ae?{...Ie,[T]:{...Ae,mainFights:[...Ae.mainFights,xe],unpairedRoosters:Ae.unpairedRoosters.filter(ze=>ze.id!==ae&&ze.id!==se)}}:Ie}),z("Pelea manual creada y aadida a la cartelera.","success")},[J,oe,z,T]),$=Q.useCallback(()=>{J&&(g(ae=>({...ae,[T]:J.mainFights})),e(Qe.LIVE_FIGHT))},[J,T]),ee=Q.useCallback(ae=>{if(z(`Resultados del Da ${T} guardados.`,"success"),C(se=>[...se.filter(we=>we.day!==T),{day:T,peleas:ae}].sort((we,xe)=>we.day-xe.day)),T>=O.tournamentDays)z("Torneo finalizado!","success",5e3),e(Qe.TOURNAMENT_RESULTS);else{const se=T+1;b(se),_(se),c(fe=>({...fe,[se]:fe[se]||[]})),g(fe=>({...fe,[se]:fe[se]||[]})),h(fe=>({...fe,[se]:fe[se]===void 0?null:fe[se]})),z(`Prepara el cotejo para el Da ${se}.`,"info",5e3),e(Qe.SETUP)}},[T,O.tournamentDays,z]),le=Q.useCallback((ae,se,fe)=>{const xe=(f[T]||[]).map(Ae=>Ae.id===ae?{...Ae,winner:se,duration:fe}:Ae);g(Ae=>({...Ae,[T]:xe})),xe.filter(Ae=>Ae.winner===null).length===0&&xe.length>0&&setTimeout(()=>ee(xe),200)},[f,T,ee]),ge=Q.useCallback(()=>{const ae=(f[T]||[]).filter(se=>se.winner!==null);C(se=>{const fe=se.filter(we=>we.day!==T);return ae.length>0?[...fe,{day:T,peleas:ae}].sort((we,xe)=>we.day-xe.day):se}),z("Torneo finalizado anticipadamente.","info"),e(Qe.TOURNAMENT_RESULTS)},[f,T]),_e=Q.useCallback(()=>{window.confirm("Ests seguro de que quieres empezar un nuevo torneo? Se borrarn los resultados y peleas del torneo actual, pero se conservarn las cuerdas y la lista de gallos de cada da.")&&(g({1:[]}),h({1:null}),C([]),b(1),_(1),H(ae=>({...ae,name:"Torneo de Exhibicin",date:new Date().toISOString().split("T")[0]})),e(Qe.SETUP),z("Datos del torneo anterior borrados. Listo para empezar uno nuevo!","success"))},[]),Ge=Q.useCallback(()=>{window.confirm("Ests seguro de que quieres reiniciar la aplicacin? Se borrarn permanentemente todos los datos guardados (cuerdas, gallos y reglas).")&&(localStorage.clear(),window.location.reload())},[]),ut=Q.useCallback(ae=>{_(ae),e(Qe.SETUP);const se=S.some(fe=>fe.day===ae);e(se?Qe.RESULTS:Qe.SETUP)},[S]),de=Q.useCallback(()=>{e(Qe.TOURNAMENT_RESULTS)},[]),ot=()=>{J&&J.mainFights.length>0?window.print():z("No hay peleas generadas para imprimir en este da.","info")},pt=Q.useMemo(()=>S.length>=O.tournamentDays,[S,O.tournamentDays]),Kn=()=>{switch(n){case Qe.MATCHMAKING:return J&&v.jsx(eI,{results:J,torneo:O,cuerdas:i,gallos:oe,onStartTournament:$,onBack:()=>e(Qe.SETUP),onCreateManualFight:M,isReadOnly:ie});case Qe.LIVE_FIGHT:return v.jsx(oI,{peleas:(f[T]||[]).filter(ae=>ae.winner===null),onFinishFight:le,onFinishTournament:ge,onBack:()=>e(Qe.MATCHMAKING),totalFightsInPhase:(f[T]||[]).length,addNotification:z});case Qe.RESULTS:return v.jsx(iI,{dailyResults:S,torneo:O,cuerdas:i,onNewTournament:_e,onBack:()=>e(Qe.MATCHMAKING),viewingDay:N});case Qe.TOURNAMENT_RESULTS:return v.jsx(aI,{dailyResults:S,torneo:O,cuerdas:i,onNewTournament:_e,onBack:()=>ut(O.tournamentDays)});case Qe.SETUP:default:return v.jsx(jN,{cuerdas:i,gallos:oe,torneo:O,viewingDay:N,currentDay:T,dailyResults:S,onUpdateTorneo:Y,onStartMatchmaking:Ee,onSaveCuerda:j,onImportCuerdaAndGallos:me,onDeleteCuerda:U,onSaveGallo:k,onAddSingleGallo:te,onDeleteGallo:ye,isMatchmaking:A,onFullReset:Ge,onGoToResults:()=>e(Qe.RESULTS),onGoToMatchmaking:()=>e(Qe.MATCHMAKING),isReadOnly:ie,matchmakingResultsExist:!!J,onAddGalloToPc:W})}},jo=Array.from({length:O.tournamentDays},(ae,se)=>se+1),An=!!J&&J.mainFights.length>0;return v.jsxs("div",{className:"bg-gray-900 text-gray-200 min-h-screen swirl-bg",children:[v.jsx(lI,{notifications:B,onDismiss:Z}),An&&v.jsxs("button",{onClick:ot,title:"Imprimir Programacin de Peleas",className:"fixed top-6 right-6 z-[100] p-4 bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 rounded-full shadow-2xl transition-all transform hover:scale-110 active:scale-95 print:hidden group flex items-center justify-center",children:[v.jsx("svg",{className:"w-8 h-8 text-amber-400 group-hover:text-amber-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),v.jsx("span",{className:"max-w-0 overflow-hidden group-hover:max-w-xs group-hover:ml-2 transition-all duration-300 whitespace-nowrap text-amber-400 font-bold uppercase text-xs",children:"Imprimir Programacin"})]}),v.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8 relative",children:[v.jsxs("header",{className:"flex items-center space-x-4 mb-8",children:[v.jsx(zc,{className:"w-10 h-10 text-amber-400"}),v.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-white tracking-wider",children:["GalleraPro ",v.jsx("span",{className:"text-amber-500 font-light",children:"- 100% Peleas de gallos"})]})]}),O.tournamentDays>1&&v.jsxs("div",{className:"flex justify-center border-b border-gray-700 mb-6 flex-wrap",children:[jo.map(ae=>{const se=S.some(we=>we.day===ae),fe=ae===N&&(n===Qe.SETUP||n===Qe.RESULTS||n===Qe.MATCHMAKING||n===Qe.LIVE_FIGHT);return v.jsxs("button",{onClick:()=>ut(ae),className:`py-3 px-6 text-base md:text-lg font-semibold transition-colors ${fe?"text-amber-400 border-b-2 border-amber-400":"text-gray-400 hover:text-white"}`,children:["Da ",ae," ",se&&""]},ae)}),pt&&v.jsx("button",{onClick:de,className:`py-3 px-6 text-base md:text-lg font-semibold transition-colors ${n===Qe.TOURNAMENT_RESULTS?"text-amber-400 border-b-2 border-amber-400":"text-gray-400 hover:text-white"}`,children:"Resultados del Torneo"},"tournament-results")]}),he&&N!==T&&v.jsxs("div",{className:"bg-blue-600/80 backdrop-blur-sm text-white p-3 rounded-lg mb-4 text-center cursor-pointer hover:bg-blue-700 font-semibold border border-blue-500 shadow-lg animate-pulse",onClick:()=>{_(T),e(Qe.LIVE_FIGHT)},children:["Volver a la Pelea en Vivo (Da ",T,")"]}),v.jsx("main",{children:Kn()}),v.jsxs("footer",{className:"text-center text-gray-500 text-sm mt-12 pb-4",children:[" ",new Date().getFullYear()," GalleraPro. Todos los derechos reservados."]})]}),J&&v.jsx(sI,{peleas:J.mainFights,cuerdas:i,torneoName:O.name,date:O.date,day:O.tournamentDays>1?N:void 0})]})},dI=()=>{};var ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=function(n){const e=[];let i=0;for(let l=0;l<n.length;l++){let s=n.charCodeAt(l);s<128?e[i++]=s:s<2048?(e[i++]=s>>6|192,e[i++]=s&63|128):(s&64512)===55296&&l+1<n.length&&(n.charCodeAt(l+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++l)&1023),e[i++]=s>>18|240,e[i++]=s>>12&63|128,e[i++]=s>>6&63|128,e[i++]=s&63|128):(e[i++]=s>>12|224,e[i++]=s>>6&63|128,e[i++]=s&63|128)}return e},fI=function(n){const e=[];let i=0,l=0;for(;i<n.length;){const s=n[i++];if(s<128)e[l++]=String.fromCharCode(s);else if(s>191&&s<224){const c=n[i++];e[l++]=String.fromCharCode((s&31)<<6|c&63)}else if(s>239&&s<365){const c=n[i++],f=n[i++],g=n[i++],y=((s&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[l++]=String.fromCharCode(55296+(y>>10)),e[l++]=String.fromCharCode(56320+(y&1023))}else{const c=n[i++],f=n[i++];e[l++]=String.fromCharCode((s&15)<<12|(c&63)<<6|f&63)}}return e.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let s=0;s<n.length;s+=3){const c=n[s],f=s+1<n.length,g=f?n[s+1]:0,y=s+2<n.length,h=y?n[s+2]:0,S=c>>2,C=(c&3)<<4|g>>4;let T=(g&15)<<2|h>>6,b=h&63;y||(b=64,f||(T=64)),l.push(i[S],i[C],i[T],i[b])}return l.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(v0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let s=0;s<n.length;){const c=i[n.charAt(s++)],g=s<n.length?i[n.charAt(s)]:0;++s;const h=s<n.length?i[n.charAt(s)]:64;++s;const C=s<n.length?i[n.charAt(s)]:64;if(++s,c==null||g==null||h==null||C==null)throw new mI;const T=c<<2|g>>4;if(l.push(T),h!==64){const b=g<<4&240|h>>2;if(l.push(b),C!==64){const N=h<<6&192|C;l.push(N)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pI=function(n){const e=v0(n);return S0.encodeByteArray(e,!0)},T0=function(n){return pI(n).replace(/\./g,"")},hI=function(n){try{return S0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=()=>gI().__FIREBASE_DEFAULTS__,vI=()=>{if(typeof process>"u"||typeof ny>"u")return;const n=ny.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},SI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&hI(n[1]);return e&&JSON.parse(e)},TI=()=>{try{return dI()||yI()||vI()||SI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},C0=()=>{var n;return(n=TI())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,l))}}}function EI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function E0(){try{return typeof indexedDB=="object"}catch{return!1}}function x0(){return new Promise((n,e)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(l);s.onsuccess=()=>{s.result.close(),i||self.indexedDB.deleteDatabase(l),n(!0)},s.onupgradeneeded=()=>{i=!1},s.onerror=()=>{var c;e(((c=s.error)==null?void 0:c.message)||"")}}catch(i){e(i)}})}function xI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="FirebaseError";class Zo extends Error{constructor(e,i,l){super(i),this.code=e,this.customData=l,this.name=_I,Object.setPrototypeOf(this,Zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ps.prototype.create)}}class Ps{constructor(e,i,l){this.service=e,this.serviceName=i,this.errors=l}create(e,...i){const l=i[0]||{},s=`${this.service}/${e}`,c=this.errors[e],f=c?AI(c,l):"Error",g=`${this.serviceName}: ${f} (${s}).`;return new Zo(s,g,l)}}function AI(n,e){return n.replace(bI,(i,l)=>{const s=e[l];return s!=null?String(s):`<${l}?>`})}const bI=/\{\$([^}]+)}/g;function xs(n,e){if(n===e)return!0;const i=Object.keys(n),l=Object.keys(e);for(const s of i){if(!l.includes(s))return!1;const c=n[s],f=e[s];if(oy(c)&&oy(f)){if(!xs(c,f))return!1}else if(c!==f)return!1}for(const s of l)if(!i.includes(s))return!1;return!0}function oy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=1e3,II=2,MI=14400*1e3,wI=.5;function iy(n,e=NI,i=II){const l=e*Math.pow(i,n),s=Math.round(wI*l*(Math.random()-.5)*2);return Math.min(MI,l+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(n){return n&&n._delegate?n._delegate:n}class xo{constructor(e,i,l){this.name=e,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const l=new CI;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:i});s&&l.resolve(s)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(l)return null;throw s}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UI(e))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:s});l.resolve(c)}catch{}}}}clearInstance(e=Fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fo){return this.instances.has(e)}getOptions(e=Fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,l=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);l===g&&f.resolve(s)}return s}onInit(e,i){const l=this.normalizeInstanceIdentifier(i),s=this.onInitCallbacks.get(l)??new Set;s.add(e),this.onInitCallbacks.set(l,s);const c=this.instances.get(l);return c&&e(c,l),()=>{s.delete(e)}}invokeOnInitCallbacks(e,i){const l=this.onInitCallbacks.get(i);if(l)for(const s of l)try{s(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let l=this.instances.get(e);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:DI(e),options:i}),this.instances.set(e,l),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(l,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,l)}catch{}return l||null}normalizeInstanceIdentifier(e=Fo){return this.component?this.component.multipleInstances?e:Fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DI(n){return n===Fo?void 0:n}function UI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new RI(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const PI={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},GI=et.INFO,BI={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},HI=(n,e,...i)=>{if(e<n.logLevel)return;const l=new Date().toISOString(),s=BI[e];if(s)console[s](`[${l}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _0{constructor(e){this.name=e,this._logLevel=GI,this._logHandler=HI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const VI=(n,e)=>e.some(i=>n instanceof i);let ay,ly;function zI(){return ay||(ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qI(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A0=new WeakMap,Uc=new WeakMap,b0=new WeakMap,sc=new WeakMap,Wc=new WeakMap;function OI(n){const e=new Promise((i,l)=>{const s=()=>{n.removeEventListener("success",c),n.removeEventListener("error",f)},c=()=>{i(To(n.result)),s()},f=()=>{l(n.error),s()};n.addEventListener("success",c),n.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&A0.set(i,n)}).catch(()=>{}),Wc.set(e,n),e}function kI(n){if(Uc.has(n))return;const e=new Promise((i,l)=>{const s=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",f),n.removeEventListener("abort",f)},c=()=>{i(),s()},f=()=>{l(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",c),n.addEventListener("error",f),n.addEventListener("abort",f)});Uc.set(n,e)}let Lc={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return Uc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||b0.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return To(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function FI(n){Lc=n(Lc)}function JI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const l=n.call(rc(this),e,...i);return b0.set(l,e.sort?e.sort():[e]),To(l)}:qI().includes(n)?function(...e){return n.apply(rc(this),e),To(A0.get(this))}:function(...e){return To(n.apply(rc(this),e))}}function YI(n){return typeof n=="function"?JI(n):(n instanceof IDBTransaction&&kI(n),VI(n,zI())?new Proxy(n,Lc):n)}function To(n){if(n instanceof IDBRequest)return OI(n);if(sc.has(n))return sc.get(n);const e=YI(n);return e!==n&&(sc.set(n,e),Wc.set(e,n)),e}const rc=n=>Wc.get(n);function N0(n,e,{blocked:i,upgrade:l,blocking:s,terminated:c}={}){const f=indexedDB.open(n,e),g=To(f);return l&&f.addEventListener("upgradeneeded",y=>{l(To(f.result),y.oldVersion,y.newVersion,To(f.transaction),y)}),i&&f.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),s&&y.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),g}const $I=["get","getKey","getAll","getAllKeys","count"],KI=["put","add","delete","clear"],uc=new Map;function sy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uc.get(e))return uc.get(e);const i=e.replace(/FromIndex$/,""),l=e!==i,s=KI.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(s||$I.includes(i)))return;const c=async function(f,...g){const y=this.transaction(f,s?"readwrite":"readonly");let h=y.store;return l&&(h=h.index(g.shift())),(await Promise.all([h[i](...g),s&&y.done]))[0]};return uc.set(e,c),c}FI(n=>({...n,get:(e,i,l)=>sy(e,i)||n.get(e,i,l),has:(e,i)=>!!sy(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QI(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function QI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pc="@firebase/app",ry="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn=new _0("@firebase/app"),ZI="@firebase/app-compat",jI="@firebase/analytics-compat",WI="@firebase/analytics",eM="@firebase/app-check-compat",tM="@firebase/app-check",nM="@firebase/auth",oM="@firebase/auth-compat",iM="@firebase/database",aM="@firebase/data-connect",lM="@firebase/database-compat",sM="@firebase/functions",rM="@firebase/functions-compat",uM="@firebase/installations",cM="@firebase/installations-compat",dM="@firebase/messaging",fM="@firebase/messaging-compat",mM="@firebase/performance",pM="@firebase/performance-compat",hM="@firebase/remote-config",gM="@firebase/remote-config-compat",yM="@firebase/storage",vM="@firebase/storage-compat",SM="@firebase/firestore",TM="@firebase/ai",CM="@firebase/firestore-compat",EM="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="[DEFAULT]",xM={[Pc]:"fire-core",[ZI]:"fire-core-compat",[WI]:"fire-analytics",[jI]:"fire-analytics-compat",[tM]:"fire-app-check",[eM]:"fire-app-check-compat",[nM]:"fire-auth",[oM]:"fire-auth-compat",[iM]:"fire-rtdb",[aM]:"fire-data-connect",[lM]:"fire-rtdb-compat",[sM]:"fire-fn",[rM]:"fire-fn-compat",[uM]:"fire-iid",[cM]:"fire-iid-compat",[dM]:"fire-fcm",[fM]:"fire-fcm-compat",[mM]:"fire-perf",[pM]:"fire-perf-compat",[hM]:"fire-rc",[gM]:"fire-rc-compat",[yM]:"fire-gcs",[vM]:"fire-gcs-compat",[SM]:"fire-fst",[CM]:"fire-fst-compat",[TM]:"fire-vertex","fire-js":"fire-js",[EM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Map,_M=new Map,Bc=new Map;function uy(n,e){try{n.container.addComponent(e)}catch(i){Jn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function $o(n){const e=n.name;if(Bc.has(e))return Jn.debug(`There were multiple attempts to register component ${e}.`),!1;Bc.set(e,n);for(const i of _s.values())uy(i,n);for(const i of _M.values())uy(i,n);return!0}function Gs(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new Ps("app","Firebase",AM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,i,l){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}function I0(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const l={name:Gc,automaticDataCollectionEnabled:!0,...e},s=l.name;if(typeof s!="string"||!s)throw Co.create("bad-app-name",{appName:String(s)});if(i||(i=C0()),!i)throw Co.create("no-options");const c=_s.get(s);if(c){if(xs(i,c.options)&&xs(l,c.config))return c;throw Co.create("duplicate-app",{appName:s})}const f=new LI(s);for(const y of Bc.values())f.addComponent(y);const g=new bM(i,l,f);return _s.set(s,g),g}function NM(n=Gc){const e=_s.get(n);if(!e&&n===Gc&&C0())return I0();if(!e)throw Co.create("no-app",{appName:n});return e}function Eo(n,e,i){let l=xM[n]??n;i&&(l+=`-${i}`);const s=l.match(/\s|\//),c=e.match(/\s|\//);if(s||c){const f=[`Unable to register library "${l}" with version "${e}":`];s&&f.push(`library name "${l}" contains illegal characters (whitespace or "/")`),s&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jn.warn(f.join(" "));return}$o(new xo(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="firebase-heartbeat-database",MM=1,Fa="firebase-heartbeat-store";let cc=null;function M0(){return cc||(cc=N0(IM,MM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fa)}catch(i){console.warn(i)}}}}).catch(n=>{throw Co.create("idb-open",{originalErrorMessage:n.message})})),cc}async function wM(n){try{const i=(await M0()).transaction(Fa),l=await i.objectStore(Fa).get(w0(n));return await i.done,l}catch(e){if(e instanceof Zo)Jn.warn(e.message);else{const i=Co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jn.warn(i.message)}}}async function cy(n,e){try{const l=(await M0()).transaction(Fa,"readwrite");await l.objectStore(Fa).put(e,w0(n)),await l.done}catch(i){if(i instanceof Zo)Jn.warn(i.message);else{const l=Co.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Jn.warn(l.message)}}}function w0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=1024,DM=30;class UM{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new PM(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){var e,i;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=dy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:s}),this._heartbeatsCache.heartbeats.length>DM){const f=GM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(l){Jn.warn(l)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=dy(),{heartbeatsToSend:l,unsentEntries:s}=LM(this._heartbeatsCache.heartbeats),c=T0(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Jn.warn(i),""}}}function dy(){return new Date().toISOString().substring(0,10)}function LM(n,e=RM){const i=[];let l=n.slice();for(const s of n){const c=i.find(f=>f.agent===s.agent);if(c){if(c.dates.push(s.date),fy(i)>e){c.dates.pop();break}}else if(i.push({agent:s.agent,dates:[s.date]}),fy(i)>e){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class PM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E0()?x0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await wM(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const l=await this.read();return cy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const l=await this.read();return cy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function fy(n){return T0(JSON.stringify({version:2,heartbeats:n})).length}function GM(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let l=1;l<n.length;l++)n[l].date<i&&(i=n[l].date,e=l);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(n){$o(new xo("platform-logger",e=>new XI(e),"PRIVATE")),$o(new xo("heartbeat",e=>new UM(e),"PRIVATE")),Eo(Pc,ry,n),Eo(Pc,ry,"esm2020"),Eo("fire-js","")}BM("");var HM="firebase",VM="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo(HM,VM,"app");const R0="@firebase/installations",ed="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=1e4,U0=`w:${ed}`,L0="FIS_v2",zM="https://firebaseinstallations.googleapis.com/v1",qM=3600*1e3,OM="installations",kM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ko=new Ps(OM,kM,FM);function P0(n){return n instanceof Zo&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0({projectId:n}){return`${zM}/projects/${n}/installations`}function B0(n){return{token:n.token,requestStatus:2,expiresIn:YM(n.expiresIn),creationTime:Date.now()}}async function H0(n,e){const l=(await e.json()).error;return Ko.create("request-failed",{requestName:n,serverCode:l.code,serverMessage:l.message,serverStatus:l.status})}function V0({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function JM(n,{refreshToken:e}){const i=V0(n);return i.append("Authorization",$M(e)),i}async function z0(n){const e=await n();return e.status>=500&&e.status<600?n():e}function YM(n){return Number(n.replace("s","000"))}function $M(n){return`${L0} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM({appConfig:n,heartbeatServiceProvider:e},{fid:i}){const l=G0(n),s=V0(n),c=e.getImmediate({optional:!0});if(c){const h=await c.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const f={fid:i,authVersion:L0,appId:n.appId,sdkVersion:U0},g={method:"POST",headers:s,body:JSON.stringify(f)},y=await z0(()=>fetch(l,g));if(y.ok){const h=await y.json();return{fid:h.fid||i,registrationStatus:2,refreshToken:h.refreshToken,authToken:B0(h.authToken)}}else throw await H0("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=/^[cdef][\w-]{21}$/,Hc="";function ZM(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=jM(n);return QM.test(i)?i:Hc}catch{return Hc}}function jM(n){return XM(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;function k0(n,e){const i=Bs(n);F0(i,e),WM(i,e)}function F0(n,e){const i=O0.get(n);if(i)for(const l of i)l(e)}function WM(n,e){const i=ew();i&&i.postMessage({key:n,fid:e}),tw()}let Yo=null;function ew(){return!Yo&&"BroadcastChannel"in self&&(Yo=new BroadcastChannel("[Firebase] FID Change"),Yo.onmessage=n=>{F0(n.data.key,n.data.fid)}),Yo}function tw(){O0.size===0&&Yo&&(Yo.close(),Yo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="firebase-installations-database",ow=1,Xo="firebase-installations-store";let dc=null;function td(){return dc||(dc=N0(nw,ow,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Xo)}}})),dc}async function As(n,e){const i=Bs(n),s=(await td()).transaction(Xo,"readwrite"),c=s.objectStore(Xo),f=await c.get(i);return await c.put(e,i),await s.done,(!f||f.fid!==e.fid)&&k0(n,e.fid),e}async function J0(n){const e=Bs(n),l=(await td()).transaction(Xo,"readwrite");await l.objectStore(Xo).delete(e),await l.done}async function Hs(n,e){const i=Bs(n),s=(await td()).transaction(Xo,"readwrite"),c=s.objectStore(Xo),f=await c.get(i),g=e(f);return g===void 0?await c.delete(i):await c.put(g,i),await s.done,g&&(!f||f.fid!==g.fid)&&k0(n,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(n){let e;const i=await Hs(n.appConfig,l=>{const s=iw(l),c=aw(n,s);return e=c.registrationPromise,c.installationEntry});return i.fid===Hc?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function iw(n){const e=n||{fid:ZM(),registrationStatus:0};return Y0(e)}function aw(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ko.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},l=lw(n,i);return{installationEntry:i,registrationPromise:l}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:sw(n)}:{installationEntry:e}}async function lw(n,e){try{const i=await KM(n,e);return As(n.appConfig,i)}catch(i){throw P0(i)&&i.customData.serverCode===409?await J0(n.appConfig):await As(n.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function sw(n){let e=await my(n.appConfig);for(;e.registrationStatus===1;)await q0(100),e=await my(n.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:l}=await nd(n);return l||i}return e}function my(n){return Hs(n,e=>{if(!e)throw Ko.create("installation-not-found");return Y0(e)})}function Y0(n){return rw(n)?{fid:n.fid,registrationStatus:0}:n}function rw(n){return n.registrationStatus===1&&n.registrationTime+D0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw({appConfig:n,heartbeatServiceProvider:e},i){const l=cw(n,i),s=JM(n,i),c=e.getImmediate({optional:!0});if(c){const h=await c.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const f={installation:{sdkVersion:U0,appId:n.appId}},g={method:"POST",headers:s,body:JSON.stringify(f)},y=await z0(()=>fetch(l,g));if(y.ok){const h=await y.json();return B0(h)}else throw await H0("Generate Auth Token",y)}function cw(n,{fid:e}){return`${G0(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(n,e=!1){let i;const l=await Hs(n.appConfig,c=>{if(!$0(c))throw Ko.create("not-registered");const f=c.authToken;if(!e&&mw(f))return c;if(f.requestStatus===1)return i=dw(n,e),c;{if(!navigator.onLine)throw Ko.create("app-offline");const g=hw(c);return i=fw(n,g),g}});return i?await i:l.authToken}async function dw(n,e){let i=await py(n.appConfig);for(;i.authToken.requestStatus===1;)await q0(100),i=await py(n.appConfig);const l=i.authToken;return l.requestStatus===0?od(n,e):l}function py(n){return Hs(n,e=>{if(!$0(e))throw Ko.create("not-registered");const i=e.authToken;return gw(i)?{...e,authToken:{requestStatus:0}}:e})}async function fw(n,e){try{const i=await uw(n,e),l={...e,authToken:i};return await As(n.appConfig,l),i}catch(i){if(P0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await J0(n.appConfig);else{const l={...e,authToken:{requestStatus:0}};await As(n.appConfig,l)}throw i}}function $0(n){return n!==void 0&&n.registrationStatus===2}function mw(n){return n.requestStatus===2&&!pw(n)}function pw(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+qM}function hw(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function gw(n){return n.requestStatus===1&&n.requestTime+D0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(n){const e=n,{installationEntry:i,registrationPromise:l}=await nd(e);return l?l.catch(console.error):od(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(n,e=!1){const i=n;return await Sw(i),(await od(i,e)).token}async function Sw(n){const{registrationPromise:e}=await nd(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(n){if(!n||!n.options)throw fc("App Configuration");if(!n.name)throw fc("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!n.options[i])throw fc(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function fc(n){return Ko.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="installations",Cw="installations-internal",Ew=n=>{const e=n.getProvider("app").getImmediate(),i=Tw(e),l=Gs(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:l,_delete:()=>Promise.resolve()}},xw=n=>{const e=n.getProvider("app").getImmediate(),i=Gs(e,K0).getImmediate();return{getId:()=>yw(i),getToken:s=>vw(i,s)}};function _w(){$o(new xo(K0,Ew,"PUBLIC")),$o(new xo(Cw,xw,"PRIVATE"))}_w();Eo(R0,ed);Eo(R0,ed,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="analytics",Aw="firebase_id",bw="origin",Nw=60*1e3,Iw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",id="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut=new _0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zt=new Ps("analytics","Analytics",Mw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n){if(!n.startsWith(id)){const e=Zt.create("invalid-gtag-resource",{gtagURL:n});return Ut.warn(e.message),""}return n}function X0(n){return Promise.all(n.map(e=>e.catch(i=>i)))}function Rw(n,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,e)),i}function Dw(n,e){const i=Rw("firebase-js-sdk-policy",{createScriptURL:ww}),l=document.createElement("script"),s=`${id}?l=${n}&id=${e}`;l.src=i?i==null?void 0:i.createScriptURL(s):s,l.async=!0,document.head.appendChild(l)}function Uw(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Lw(n,e,i,l,s,c){const f=l[s];try{if(f)await e[f];else{const y=(await X0(i)).find(h=>h.measurementId===s);y&&await e[y.appId]}}catch(g){Ut.error(g)}n("config",s,c)}async function Pw(n,e,i,l,s){try{let c=[];if(s&&s.send_to){let f=s.send_to;Array.isArray(f)||(f=[f]);const g=await X0(i);for(const y of f){const h=g.find(C=>C.measurementId===y),S=h&&e[h.appId];if(S)c.push(S);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),n("event",l,s||{})}catch(c){Ut.error(c)}}function Gw(n,e,i,l){async function s(c,...f){try{if(c==="event"){const[g,y]=f;await Pw(n,e,i,g,y)}else if(c==="config"){const[g,y]=f;await Lw(n,e,i,l,g,y)}else if(c==="consent"){const[g,y]=f;n("consent",g,y)}else if(c==="get"){const[g,y,h]=f;n("get",g,y,h)}else if(c==="set"){const[g]=f;n("set",g)}else n(c,...f)}catch(g){Ut.error(g)}}return s}function Bw(n,e,i,l,s){let c=function(...f){window[l].push(arguments)};return window[s]&&typeof window[s]=="function"&&(c=window[s]),window[s]=Gw(c,n,e,i),{gtagCore:c,wrappedGtag:window[s]}}function Hw(n){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(id)&&i.src.includes(n))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=30,zw=1e3;class qw{constructor(e={},i=zw){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Q0=new qw;function Ow(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function kw(n){var f;const{appId:e,apiKey:i}=n,l={method:"GET",headers:Ow(i)},s=Iw.replace("{app-id}",e),c=await fetch(s,l);if(c.status!==200&&c.status!==304){let g="";try{const y=await c.json();(f=y.error)!=null&&f.message&&(g=y.error.message)}catch{}throw Zt.create("config-fetch-failed",{httpStatus:c.status,responseMessage:g})}return c.json()}async function Fw(n,e=Q0,i){const{appId:l,apiKey:s,measurementId:c}=n.options;if(!l)throw Zt.create("no-app-id");if(!s){if(c)return{measurementId:c,appId:l};throw Zt.create("no-api-key")}const f=e.getThrottleMetadata(l)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new $w;return setTimeout(async()=>{g.abort()},Nw),Z0({appId:l,apiKey:s,measurementId:c},f,g,e)}async function Z0(n,{throttleEndTimeMillis:e,backoffCount:i},l,s=Q0){var g;const{appId:c,measurementId:f}=n;try{await Jw(l,e)}catch(y){if(f)return Ut.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:c,measurementId:f};throw y}try{const y=await kw(n);return s.deleteThrottleMetadata(c),y}catch(y){const h=y;if(!Yw(h)){if(s.deleteThrottleMetadata(c),f)return Ut.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:c,measurementId:f};throw y}const S=Number((g=h==null?void 0:h.customData)==null?void 0:g.httpStatus)===503?iy(i,s.intervalMillis,Vw):iy(i,s.intervalMillis),C={throttleEndTimeMillis:Date.now()+S,backoffCount:i+1};return s.setThrottleMetadata(c,C),Ut.debug(`Calling attemptFetch again in ${S} millis`),Z0(n,C,l,s)}}function Jw(n,e){return new Promise((i,l)=>{const s=Math.max(e-Date.now(),0),c=setTimeout(i,s);n.addEventListener(()=>{clearTimeout(c),l(Zt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Yw(n){if(!(n instanceof Zo)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class $w{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Kw(n,e,i,l,s){if(s&&s.global){n("event",i,l);return}else{const c=await e,f={...l,send_to:c};n("event",i,f)}}async function Xw(n,e,i,l){if(l&&l.global){const s={};for(const c of Object.keys(i))s[`user_properties.${c}`]=i[c];return n("set",s),Promise.resolve()}else{const s=await e;n("config",s,{update:!0,user_properties:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(){if(E0())try{await x0()}catch(n){return Ut.warn(Zt.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ut.warn(Zt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Zw(n,e,i,l,s,c,f){const g=Fw(n);g.then(T=>{i[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&Ut.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Ut.error(T)),e.push(g);const y=Qw().then(T=>{if(T)return l.getId()}),[h,S]=await Promise.all([g,y]);Hw(c)||Dw(c,h.measurementId),s("js",new Date);const C=(f==null?void 0:f.config)??{};return C[bw]="firebase",C.update=!0,S!=null&&(C[Aw]=S),s("config",h.measurementId,C),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.app=e}_delete(){return delete ki[this.app.options.appId],Promise.resolve()}}let ki={},hy=[];const gy={};let mc="dataLayer",Ww="gtag",yy,ad,vy=!1;function eR(){const n=[];if(EI()&&n.push("This is a browser extension environment."),xI()||n.push("Cookies are not available."),n.length>0){const e=n.map((l,s)=>`(${s+1}) ${l}`).join(" "),i=Zt.create("invalid-analytics-context",{errorInfo:e});Ut.warn(i.message)}}function tR(n,e,i){eR();const l=n.options.appId;if(!l)throw Zt.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ut.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zt.create("no-api-key");if(ki[l]!=null)throw Zt.create("already-exists",{id:l});if(!vy){Uw(mc);const{wrappedGtag:c,gtagCore:f}=Bw(ki,hy,gy,mc,Ww);ad=c,yy=f,vy=!0}return ki[l]=Zw(n,hy,gy,e,yy,mc,i),new jw(n)}function nR(n=NM()){n=jc(n);const e=Gs(n,bs);return e.isInitialized()?e.getImmediate():oR(n)}function oR(n,e={}){const i=Gs(n,bs);if(i.isInitialized()){const s=i.getImmediate();if(xs(e,i.getOptions()))return s;throw Zt.create("already-initialized")}return i.initialize({options:e})}function iR(n,e,i){n=jc(n),Xw(ad,ki[n.app.options.appId],e,i).catch(l=>Ut.error(l))}function aR(n,e,i,l){n=jc(n),Kw(ad,ki[n.app.options.appId],e,i,l).catch(s=>Ut.error(s))}const Sy="@firebase/analytics",Ty="0.10.19";function lR(){$o(new xo(bs,(e,{options:i})=>{const l=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return tR(l,s,i)},"PUBLIC")),$o(new xo("analytics-internal",n,"PRIVATE")),Eo(Sy,Ty),Eo(Sy,Ty,"esm2020");function n(e){try{const i=e.getProvider(bs).getImmediate();return{logEvent:(l,s,c)=>aR(i,l,s,c),setUserProperties:(l,s)=>iR(i,l,s)}}catch(i){throw Zt.create("interop-component-reg-failed",{reason:i})}}}lR();const sR={apiKey:"AIzaSyBxNk75MIGKq_wtA9l0_egUbOUnz-NtlEg",authDomain:"cotejodegallos.firebaseapp.com",projectId:"cotejodegallos",storageBucket:"cotejodegallos.firebasestorage.app",messagingSenderId:"638808911236",appId:"1:638808911236:web:739b8bcf6781fc1a6e01d1",measurementId:"G-674VGCPKJJ"},rR=I0(sR);nR(rR);const j0=document.getElementById("root");if(!j0)throw new Error("Could not find root element to mount to");const uR=_T.createRoot(j0);uR.render(v.jsx(Ns.StrictMode,{children:v.jsx(cI,{})}));
